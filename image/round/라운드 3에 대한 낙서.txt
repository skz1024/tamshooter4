라운드 3에 대한 낙서 정보 (참고: 온갖 이상한 생각을 아무렇게나 정리한 글입니다.)
실제 구현된 것과 낙서장의 정보는 다를 수 있음.
라운드 3이 완성된 이후 더이상 이 메모장의 텍스트는 큰 의미를 가지진 않습니다.
이것은 2023년 12월부터 작성된 글입니다. 2024년 5월 1일에 작성이 완료되었습니다.


컨셉: 오리지널 슈팅 게임

3-1. 다운타워 듀토리얼
신규 적들이 대량으로 출몰하며, 엄청나게 많은 적들이 등장함(2-5보다 더 많을 수도?)

옵션의 등장
옵션의 색은 총 4종류

하늘색: 유도 폭발형 dpsMul 0.5 maxTarget 5
주황색: 레이저 dpsMul 1.0
그린: 반사파형


옵션을 얻으면 옵션의 레벨이 강화됩니다.
옵션 레벨은 최대 10까지 상승합니다.

옵션은 적을 죽일수록 강화됩니다.
[강화경험치는 획득한 점수에 비례한다.]
[같은색의 옵션을 얻는것은 아무 의미가 없음, 점수를 얻는다고는 하지만...]
[P 아이템은 옵션에게 많은 경험치를 줌]

스피드 아이템은 존재하지 않습니다.


참고: 모든 옵션의 무기들은 유도 성능을 일정량 가지고 있습니다.
[순수하게 유도가 없는 무기는 없습니다.]
옵션의 종류는 최소 4개, 최대 ?
하늘색 - 폭발형
주황색 - 직선형
노란색 - 방사형
초록색 - 상대형
파란색 - 아이스형

쉴드 충전은 필요 없을듯...


시간 210초 + 보스전 (보스체력은 45초분량, 보스 시간은 30초)


3-1 240, 보스전: 레이저 로봇 테마
3-2 240, 보스전: 전기 자기장 테마(그런데 얘는 패턴이 병신임)
3-3 240, 보스전: 4각 멀티 웨이
3-4 300, 필드전
3-5 300, 단일보스전
3-6 240, 필드전
3-7 240, 보스전


옵션: 
참고사항: 모든 옵션은 자동적으로 적을 추적하여 공격하는 비중이 있습니다.
즉: 자동 100%, 또는 자동 50% 수동 50%식으로...
그렇다는것은 수동으로만 동작하는 무기는 없습니다.

참고2: 일반 무기를 사용하지 않는 상태가 될 경우 옵션또한 공격하지 않습니다.
참고3: 옵션의 내구도는 무제한이지만, 적을 공격하지 못합니다. 대신 적 총알을 방어할 수 있습니다. (내구도 1칸짜리 한정)

하늘색(버블 폭발), 주황색(레이저 직격)
검파색(???), 분홍색(???)
청회색(???), 노란색(???)

옵션 등장 순서 -> 주황색 -> 하늘색 -> 이후 다른 4개의 색이 동시에 등장
-> 이후 다른 4개의 색이 각 그룹단위로 등장


//참고 옵션이 맨 처음 등장할때 (3-1 ~ 3-2 한정)
// ITEM 표시가 등장 (적이 아니므로)
옵션의 모양

참고3: 옵션을 무시하고 플레이하는건 90초까지만 괜찮음. 91초부터는 dps가 200%이상 증가하기때문에 옵션없이 견딜 수 없음


1-1 우주 여행, 단순한 적들과의 전투와 기본적인 보스전
1-2 운석 지대, 수많은 운석들과 적들의 조합
1-3 무인기 전투, 운석 지대 내에서와의 각자가 행동하는 적들과의 전투
1-4 보스전, 숨겨져있는 보스와의 전투 그러나 예상치 못한 상황이...
1-5 레드 존 - 무언가 이상한 레드 적들이 새로 등장한다.
1-6 우주 바깥으로 나가며 1-1보다 더 많은 수의 적이 등장한다.

2-1 새로운 동그라미들을 만납시다.
2-2 동그라미 마을 둘러보기
2-3 동그라미 스페이스에서 미니게임으로 놀아보기
2-4 동그라미 홀 탐험 하지만... 누군가가 쳐들어왔다.
2-5 침입자와의 전투, 중간에 동그라미들이 도와준다.
2-6 동그라미 마을 바깥으로 나가는 길

3-1 다운타워 첫 구간 - 수많은 새로운 적들이 차례로 출현하며, 옵션이 처음으로 등장한다.
3-2 이번엔 다른 형태로 공격을 시도하는 다른 적들이 우선적으로 등장한다.
3-3 다른 컨셉을 가진 중형 적들이 끊임없이 위협한다.
3-4 극악의 필드전, 다운타워의 모든 적들이 엄청난 수로 등장하며 플레이어를 지속적으로 압박한다.
3-5 극악의 보스전, 보스는 단 하나, 하지만 엄청난 체력앞에 상당한 시간을 플레이해야 한다.

3-6 코어 탐험, 보스를 쓰러트리고 숨겨진 곳을 향해 떠난다.
3-7 코어 내부, 수많은 함정 장치들이 당신을 공격한다. 끊임없이 함정을 파괴해라
3-8 코어 외벽, 적들은 거의 없어졌으며, 이제 동그라미마을에 도착해 임무를 끝내자
3-9 코어 나가는길?

3-A1 숨겨진 통로1, 레이저 함정이 엄청나게 많다. 적은 없는듯 하다.
3-A2 숨겨진 통로2, 적을 감지하는 로봇이 대량으로 출현한다. (완전히 새로운 적들)
3-A3 숨겨진 통로3, 수많은 적들과 함께하는 미친게임
3-A4 숨겨진 통로4, 이 시스템은 위험하다. 빨리 파괴해야 한다.

기준 레벨
3-1 ~ 3-2 / 레벨 20
3-3 ~ 3-4 / 레벨 21
3-5 / 레벨 24
3-6 ~ 3-7 / 레벨 25
3-8 / 레벨 26

3-A1 ~ 3-A3 / 레벨 30
3-A4 / 레벨 32


레벨 기준점
라운드 1: 1 ~ 8
라운드 2: 10 ~ 16 // 여기까지는 레벨업 속도가 빠릅니다.
라운드 3: 20 ~ 27 // 레벨업 속도 하향 및 스테이지 수 증가
라운드 3A: 30 ~ 36
라운드 4: 30 ~ 50, 60 ~ 120 // 레벨업 속도 증가 및 스테이지 수 대량 증가
라운드 5: 55 ~ 62
라운드 5A: 70 ~ 77
라운드 5B: 90 ~ 105
라운드 6: 63 ~ 70
라운드 7: 71 ~ 80
라운드 8: 81 ~ 85
라운드 9: 86 ~ 90
엔딩 최소 진입 가능 레벨: 90

파트 1: 라운드 1 ~ 3
파트 2: 라운드 4
파트 3: 라운드 5 ~ 7
파트 4: 라운드 8, 5A, 5B
파트 5: 라운드 9


옵션 비중 설정
일반 유저의 dps 100% ~ 110%
옵션의 dps 20%(lv1) ~ 20%(lv10)

dps 40% 50% 60% 80% 100%
0/1/2/3/4/5/6/7/8/9
40/50/60/80/100/120/140/160/180/200
class 0/0/1/1/2/2/3/3/4/4
총 5단계 진화, 총 10레벨


하늘색 무기
dps 40% -> 10% x 4(단일폭발 스플래시) x 0.6 (타격 최대수 5)
아니...
렉 방지를 위해서 옵션이 발사할 수 있는 개체수는 초당 일정 개수로 제한됩니다.
초당 2번발사

초당 50개 이내





페이즈 1: 하늘색 옵션 등장 (얻으라고 표시를 해줌, 물론 무시 가능)

옵션 1단계
하늘색x2 -> 전체 유도: 폭발물 2
주황색x4 -> 전체 유도: 레이저 4


페이즈 1: 초반 듀토리얼
맨 처음 파워업 아이템만 등장 (하나라도 얻을경우, 옵션 등장)
(같은 색을 얻으면 보너스 1000점)

적을 죽일경우, P에너지가 조금씩 증가
[다만, 이 구현방식은 어떤 형태로 할 지 고민해야함]
[현재 라운드 방식에서 미지원]

P 아이템이 중간중간에 나오고 P 아이템을 얻을경우 옵션의 경험치가 증가
[옵션 경험치는 유저 인터페이스 위에 적혀있음.]


[옵션그림] - L10 MAX -> L10, 진화 단계: 4
L1-L2,L3-L4,L5-L6-L7,L8-L9-L10

페이즈 1: 주황 옵션이 먼저 출현 (이 아이템을 얻을 때까지 다음 구역으로 진행되지 않음)
- 강제로 획득해야함 [다만 이 규칙은 3-1 한정]

옵션은 화면 내를 왔다갔다하며 elapsedFrame이 1200이상 넘어가게 된 상태에서 벽에 부딪히면 제거됨, 옵션은 매우 느린속도로 이동함 (프레임당 약 1px정도)

옵션은 적의 총알을 막을 수 있음. (물리데미지는 못막음)

옵션 배치
- 위
- 아래 (옵션은 무조건 2개로 간주)
dps도 나눠가짐
[옵션은 회전하지 않습니다.]


주황색 옵션 - 멀티샷
고속으로 적을 추적하는 멀티샷 개체를 발사
기본 발사 개체 수: 4 -> 6 -> 8 -> 10

하늘색 옵션 - 스플래시
느린속도로 적을 추적하는 폭발 개체를 발사 (주황색보다 느림)
기본 발사 개체 수: 2 -> 4 -> 6 -> 6 (즉 최대 6개)

옵션이 강화될수록, 무기의 이미지가 점점 강화됨

초록색 옵션 - 전후방 연타
앞과 뒤로 빠르게 발사하는 멀티샷 개체를 발사(추적 기능이 없는 멀티샷)
기본 발사 개체 수: 3+3+4(10), 4+4+4(12), 4+4+6(14), 4+4+8(16) (전방, 후방, 추적)

검은색 옵션 (3-2부터 등장)
핑크색 옵션 (3-2부터 등장)
보라색 옵션 (3-2부터 등장)

검은색 - 볼 (추적형 튕기기 관통 공)
핑크색 -  적이 있는 무작위 방향으로 연타성 가스 발사
보라색 - 근처에 있는 적들을 무작위로 타겟


-구조상 플레이어는 옵션을 지원하지 않습니다.-
[플레이어가 쏘는것이 아니라, 라운드에서 플레이어 대신 옵션을 처리함]
옵션먼저 제작 ->


옵션 모양 -> 사각형? 원형?
옵션 내부의 모양은 색마다 조금씩 다름
옵션 내부의 에니메이션도 각각 다름. 참고 10프레임 기준
사이즈 40x40

옵션 모양 원형
주황색: 빛이 나왔다 사라졌다, 큰 이펙트는 없음
하늘색: 원형의 색이 점점 퍼지는 형태
초록색: 원이 선 빛이 원형태로 돌아가는 형태

검은색: 내부 안개가 지속적으로 이동하는 형태
핑크색: 내부 모양의 선이 잔상으로 이동하는 형태 (P모양)
보라색: ?


주황색 - 호밍
하늘색 - 스플래시형 호밍 (속도가 느림)
초록색 - 전/후방 사이드 (플레이어 이동방향에 따라 한개의 축은 다른 방향을 가짐)
전방/유도/방향성 -> 총 6발

검은색 - 튕기면서 추적하는 볼을 발사 (호밍과 비슷하지만, 관통이 있으며 벽을 튕긴다는 특성때문에 화면 바깥의 적을 못잡음)

핑크색 - 특정 방향으로 안개형태의 공격
보라색 - 특정 범위 내에서 연쇄 범위형의 레이더 공격 (가까운 근처 거리 기준)

옵션 공격 샷 형태 (대부분의 형태는 애니메이션이 없습니다.)
주황색 - 원통형 직선
하늘색 - 방울 모양 (원 형태에 빛이있음)
초록색 - 가느다란 (날카로운 직선)
검은색 - 그라디언트 공 모양
핑크색 - 안개 (애니메이션 적용)
보라색 - 레이더 스캐너 (공격 당할때만 보임) - 사피아랑 비슷 (에니메이션 적용)
스캔 사이즈는 적의 사이즈에 비례하지만, 40x40 사이즈로 출력됨

레벨업에 따른 이펙트 변화(주황색, 초록색 한정)
주황색 - 더 굵기가 늘어나고 길이가 증가함
30x12 -> 50x20
초록색 (주황색과 동일)

추후 완성 예정


3-1 배경 진행 방식
주황색 벽 타일 -> 진한 주황색 벽 타일 -> 빨간색 벽 타일 -> 회색 벽 타일
-> 검은색 벽 타일 -> 

총 4색
0 ~ 60: 주황색
61 ~ 120: 진한 주황색
121 ~ 180: 연한 빨간색
181 ~ 240: 회색 타일


3-2 배경 진행 방식
0 ~ 30: 회색 타일
31 ~ 60: 타일을 벗어나고 기둥으로 이동
61 ~ 120: 기둥 색 변경 1
121 ~ 180: 기둥 색 변경 2
181 ~ 240: 기둥 색 변경 3

3-3 배경 진행 방식
0 ~ 30: 기둥 색 회색
31 ~ 60: 기둥을 벗어나고 기계조립실로 이동
61 ~ 120: 기계실에서 조립실
121 ~ 180: 조립실에서 공장실
181 ~ 240: 공장실에서 부품실?


3-4 배경 진행 방식 (스크롤 속도 감소)
0 ~ 30: 부품실에서 회색타일
31 ~ 90: ?


다운타워 전반부 3-1 ~ 3-2, 3-3 ~ 3-4, 3-5
다운타워 후반부 3-6 ~ 3-7, 3-8

전반부: 다운 타워 내부 타일 벽을 내려가는 형태 (3-1 ~ 3-2)
다운 타워 내부 다리 구간을 내려가는 형태 (3-3, 3-4)


다운 타워 스테이지 구조, 각 라운드당 평균점수
전반부 220000, 230000, 240000, 250000, 370000
후반부 190000, 200000, 210000

참고: 다운 타워 해상도는 400x300을 기준으로 제작하고, 이를 2배로 확대함

3-1/240/보스전
3-2/240/보스전
3-3/240/보스전
3-4/300/보스전없음
3-5/360/보스 1개(필드전 없음)
3-6/180/필드전(보스 없음)
3-7/180/필드전(보스 없음)
3-8/180/필드전(보스 없음)
3-A1/180/구간 보스전 방식
3-A2/180/구간 보스전 방식
3-A3/180/필드전(보스 없음)
3-A4/160/보스전(필드전 없음)
최종 라운드 수 12개
엔딩 최소 클리어 기준: 3-5, 3-7, 3-8까지 순서대로 클리어 해야 합니다.
[나머지는 상관없이 이 3개의 라운드만 판정함]

다운타워 레벨 20 ~ 27
다운타워 특수 코스 레벨 28 ~ 35
레벨업 필요 경험치 235500부터 시작 레벨당 1500씩 증가


다운타워 배경 PART 1 (같은 배경을 색만 바꿔서 돌려씀)
다운타워 배경 PART 2 (같은 배경을 색만 바꿔서 돌려씀)
다운타워 배경 PART 3 (4개의 배경 구조가 사용됨)
다운타워 배경 PART 4 (비어있는 공간의 느낌?)
다운타워 배경 PART 5 단일 배경, 무한 스크롤
다운타워 배경 PART 6 통로 이동 배경 총 4개?
다운타워 배경 PART 7 통로 이동 배경 및 코어실 배경
다운타워 배경 PART 8 통로 이동 및 외벽 통로

3-5 클리어 이후, 3-7, 3-8을 클리어 하면 엔딩이 오픈
라운드 3 작업이 끝난 이후, 스토리 작업이 진행이 시작됩니다.
참고: 일러스트는 없음 그런것까지는 못그림... 아니면 아주 대충그릴거임...


배경 1: 벽돌 타입
배경 2: 기둥 타입 - 중간에 비어있는 공간이 나옴
배경 3: 무늬 타입 - 중간에 비어있는 공간이 나옴 [기둥은 없음]
배경 4: 공허 타입 - 
배경 5: 벽돌 타입 - 회색(3-1과 동일)

모든 배경은 순차 진행이며, 라운드가 끝날때쯤에 다음 라운드의 첫 배경이 잠깐동안 등장함
배경 1 벽돌 타입
연한 주황 -> 주황 -> 진한 주황 -> 회색

배경 2 기둥 타입 (배경과 기둥 레이어는 따로 그려짐)
연한 청록 -> 진한 초록 -> 연한 회색 -> 어두운 회색
청록 기둥 -> 초록 기둥 -> 회색 기둥 -> 검은색 기둥
배경 전환은 10초에 걸쳐서 이루어짐


배경 처리: 각 라운드당 4배경 방식
배경 전환은 60초마다 10초씩 이루어짐
[bgLegacy 방식 사용]
0 ~ 60: 배경 1
61 ~ 120: 배경 2
121 ~ 180: 배경 3
180 ~ 240: 배경 4
마지막 구간에서 다음 구역으로 넘어가는 형태의 배경은 없음(3-4 제외)

벽: 연한 오렌지 -> 오렌지 -> 진한 오렌지 -> 회색
기둥: 진한 초록 -> 진한 청록 -> 어두운 청록 -> 검정색
무늬: 보라색 -> 연보라색 -> 핑크색 -> 마젠타 -> 검정색
공허: 안개성형 하늘 -> 안개성형 파랑 -> 안개성형 어두운 파랑 -> 안개성형 보라
-> 안개성형 회색 -> 회색(3-1벽)
보스전: 3-1배경 -> 페이즈 4 -> 공허화 -> 페이즈 7 -> 공허화 (총 3종류)

각 페이즈는 30초 x 2 구성 = 60초단위로 변경
보스전은 233초시점에 시작
종료 시간은 240초 (보스전에서 시간 멈춤)

보스전 시간은 총 360초, 페이즈는 총 7개



적에 대한 정보
약 40종류 이상 예정 + (숨겨진 라운드까지 포함 총 20종류 추가?)
솔직히 말해, 240초구성을 만드려면 못해도 20종류 이상의 적이 필요하다.
(색놀이를 제외하고도...)

참고: 다운타워의 일부 적들은 스카이랜드에서 재활용됨

라운드 1 개발기간 3개월
엔진 추가개발 1개월
라운드 2 개발기간 4개월
엔진 수정기간 1개월
라운드 3 개발기간 약 3개월
라운드 4 개발기간 약 4개월
라운드 5 개발기간 약 3개월


배경 1
주황 -> 어두운 주황 -> 회색

배경 2
회색 -> 어두운 초록 -> 어두운 청록 -> 밝은 초록

배경 3
밝은 초록 -> 보라색 무늬 -> 핑크색 무늬 -> 마젠타색 무늬

배경 4
마젠타색 공허 -> 하늘색 공허 -> 파란색 공허 -> 어두운 파란색 공허 -> 회색 공허 -> 회색(배경1)


따지고 보면, 3-1 ~ 3-5는 이어지는 구조입니다.
네, 1개의 라운드를 5개로 분할한 것이라고 생각하시면 됩니다.
3-1: 1스테이지
3-2: 2스테이지
3-3: 3스테이지
3-4: 4스테이지
3-5: 보스전

3-1 ~ 3-5
3-6 ~ 3-8
3-A1 ~ 3-A4
까지가 3라운드 전체 작업

이 작업이 끝나면, 엔진 추가 작업 및 개임패드 처리 작업 추가(가능하다면...)
듀토리얼 추가, 강화시스템 완전 추가, 인첸트 시스템 추가(스카이랜드부터 사용가능하지만 강화, 레벨업 시스템은 왠만하면 이 때 전부 완성할것)












0123 - 0
1234 - 1
2345 - 2
3456 - 3
4567 - 4
5678 - 5
6789 - 6
7890 - 7
8901 - 8
9012 - 9
0123 - 10


배경 제작 완료
round 3_test 추가 (옵션 정의를 위함)


옵션 무기 레벨 시스템: 총 10단계 구성
아이템을 얻거나 시간 진행에 따라 무기가 자동 강화됨



옵션 -> 라운드3적 (60종류?) -> 3-1 ~ 3-4 -> 
보스 -> 3-5 -> 3-6 ~ 3-7 배경 + 적

3-8 제외 3-1 ~ 3-7 옵션이 등장

옵션 레벨 구성 (게임 진행도에 따라 다름)



3-1 ~ 3-2: 듀토리얼?
3-3 ~ 3-4: 심화단계
3-5: 보스전 (풀옵션 배틀)


0 ~ 5 (옵션 등장, 획득하지 않으면 진행 불가 단, 3-1 ~ 3-2 한정)
옵션의 파워업에 대해
옵션은 자동으로 성장합니다. (진행 시간 경과에 따라)
옵션을 중간부터 얻어도 진행도에 따라 누적된 레벨부터 시작
옵션을 얻지 않고 진행할경우 dps가 부족하여 패배할 가능성이 높습니다.

이후 30초단위로 다른 색의 옵션이 순차적으로 등장하고, 90초 이후부터는 여러색이 동시에 등장
단 보스전 직전 구간에서는 주황색이 30초마다 등장 (유도성능이 가장 좋기 때문에)
3-1: 하늘, 초록, 주황
3-2: 검정, 핑크, 보라 (다만 이들은 순차적으로 나오는게 아니라 동시에 나옴)

참고 시간 파악은, currentTime 기준
시간 증가 기준
20초 단위로 레벨 증가:
최대 레벨 4
0, 1, 2, 3, 4, 5 = 총 6종류
최대 dps 100%
최소 dps 40%
40%/50%/60%/80%/100%
0  /30 /60 /90 /120

주황색(dps 배율 1.0)
Ps:4/4/4/5/6
Cs:2/3/4/4/4
   8/12/16/20/24
dp:5/4.16/3.75/4/4.16

하늘색 (dps 배율 0.8)
Ps:2/2/2/3/3
Cs:2/3/4/3/4
   4/6/8/9/12
dp:10/8.3/7.5/8.8/8.3

초록색 (dps 배율 1.4)
Ps:4/4/5/5/6
Cs:3/4/4/5/5
   12/16/20/25/30
dp:3.3/3.1/3/3.2/3.3

라운드 내에 옵션도 있어야하고, 무기도 있어야해

20/30/40/60/100
Ps:2/2/2/3/5
Cs:2/3/4/2/5


20/30/40/60/100
10/10 -> 10/10/10 -> 10/10/10/10 -> 20/20/20 -> 20/20/20/20/20
20 -> 30 -> 40 -> 30/30 -> 50/50

40/50/60/80/100
dpsXshotPerSecondXShotPerCount
주황색 5x2x4 -> 5x2x5 -> 5x4x3 -> 5x4x4 -> 5x4x5
하늘색 20x1x2 -> 25x1x2 -> 30x1x2 -> 20x2x2 -> 25x2x2
초록색 5x2x4 -> 5x2x5 -> 6x2x5 -> 5x4x4 -> 5x5x4
검정색 20x1x2 -> 25x1x2 -> 30x1x2 -> 20x2x2 -> 25x2x2
핑크색 20x1x2 -> 



검정색: 크기 점점 증가
핑크색: 크기 증가 및 속도 증가
하늘색: 폭발 범위 증가

x, y, width, height, x2, y2, x2width, y2height


옵션 무기 끝났고 이제 신규 적을 생성 (초반에 약 20 ~ 40종류를 만들고)
배경음악 제작 (총 7개?)


downtower_bgm1, 3-1
downtower_bgm2, 3-2
downtower_bgm3, 3-3
downtower_void1, 3-4
downtower_void2, 3-4
downtower_boss1, 3-5
downtower_boss2, 3-5
downtower_boss3, 3-5


bgm1 -> brass + drum -> recoder + brass + square
-> ? -> ? -> 드럼반주 (루프끝) 약 2분?


1-1
드럼패턴: 고정

다운타워 bgm 
필드전 3-1 ~ 3-2, 3-3?
보스전 3-1, 3-3만 한정 (3-2 없음...)
3-4 보이드


16 다운타워
17 다운타워_보스


다운타워 신규 적들
3-1
0 ~ 5 power 아이템 등장 (우선적으로 먹도록 힌트 표시가 추가됨)
- 안먹고 진행할 수는 없음... (3-2부터는 상관없지만...)

6 ~ 30 신규 적 페이즈 1


참고: 모든 다운타워 적은 생성된지 20초(1200프레임)이 지난 후에, 
화면 바깥으로 나갈경우 사라집니다.
일부 적들은 단순히 화면 바깥으로 어느 정도 나가면 사라집니다.
(이동을 반복할 수도 있지만)

// 같은 계열의 적이지만, 이동 방식이 다름
1. towerMovement (빠른 속도로 이동하며, 화면 바깥을 넘어가면 사라짐)
- 이동방식
전방만 이동 (화면 5번 왕복시 사라짐)
오른쪽 바깥에서 생성되어 왼쪽 일부분까지 다가오면서 내려간 후 다시 오른쪽으로 이동
(화면 2번 왕복시 사라짐)

2. 레이저 추진기 (총 3종류, 각각 2가지의 색)
맨 오른쪽에 붙어서 상하로 움직이며 레이저를 발사, 레이저는 왼쪽 방향으로만 이동

3. towerMoveFree (자유형 이동)
적 모습은 총 2종류, 굉장히 빠른 속도로 플레이어의 위치를 향해 가속, 추적 주기는 1초
이동속도에 제한이 있기 때문에, 순간적으로 플레이어쪽으로 이동하진 않습니다.
크기가 큰 적은 더 느리게 이동

4. 전투형 기체
4-1. 시작하자마자 왼쪽으로 돌진(1-3의 헬기랑 비슷하지만...)
이후 좌우를 왕복하며(y축이동 부분적으로 포함) 주기적으로 탄환을 발사(탄환은 무작위 방향)
4-2. 느린 속도로 이동하지만 공격타임이 되면 에너지를 모은후 여러개의 탄환을 발사
4-3. 방사형 탄환 발사 (가능한 한 플레이어쪽으로)
4-4. 고속탄환체 (탄환속도가 매우 빠름)

5. 가시형 기체
대각선 형태로 가시를 발사 (주기는 2초, 다만 총알 속도가 매우 빠름)

6. 탄막 전개형

7. 사각형


참고: 적수가 10마리 이상일때는 타임스탑 (120초까지)

0 ~ 5
6 ~ 30 1파트 (이동형 기체 등장)
31 ~ 60 2파트 (레이저형 기체 등장)
61 ~ 90 3파트 (전투형 기체 등장)
91 ~ 120 4파트 (신규 이동형 기체 등장)
121 ~ 150 5파트 (기존 적들의 혼합)
151 ~ 180 6파트 (신규적들 다시 출현)
181 ~ 226 7파트 (기존 적들의 혼합)
227 ~ 231 보스 출현 대기 (적이 남아있을경우 타임스탑, 다만 내부적으로는 일정 시간 후 적들을 화면 바깥으로 강제로 내보냄)
237 보스전
240 라운드 클리어

총 페이즈 수 8?
0 ~ 5 ~ 29 // 페이즈 1 (옵션을 얻지 않으면 타임스탑 다만 10초이상 지연되지 않습니다.)
30 ~ 59 // 페이즈 2
60 ~ 89 // 페이즈 3
90 ~ 119 // 페이즈 4
120 ~ 149 // 페이즈 5
150 ~ 179 // 페이즈 6
180 ~ 225 // 페이즈 7
226 ~ 237 // 페이즈 8 (보스 경고 표시 및 안내를 위해 따로 시간을 할당)
3-1, 3-2는 이와 동일

3-1 ~ 3-3은 보스 존재, 단 3-2는 보스가 아닌 보스 취급을 당함... (미묘한 차이가 있음)

3-4는 보스전 없음 -> 대신 3-5가 3-4의 보스전 역할

3-3 미정

다운타워 라운드 이름
3-1: 다운타워 1 스테이지
3-2: 다운타워 2 스테이지
3-3: 다운타워 3 스테이지 
3-4: 다운타워 비어있는 공간
3-5: 안티코어 보스
3-6: 다운타워 코어 통로
3-7: 다운타워 코어 중심부
3-8: 다운타워 통로
3-9: 다운타워 외벽



보스 경고에 대해 (3-1, 3-3만 존재, 3-2는 해당사항 없음)
+1 ~ +4 보스 경고 표시
+5 ~ +6 대기
+7 ~ 보스 등장
+8 타임 스탑
보스 진행시간은 10초로 간주됩니다.


보스에 대해
보스는 60초분량의 체력을 가집니다. (다만 딜 특성상 이것보다 더 빨리 클리어 가능)
보스의 패턴은 체력의 20%를 감소시키면 일시적으로 체력을 고정시킵니다.(무적은 아니지만, 체력 기준값이 일정시간동안은 고정됩니다.)

보스는 단일 발악패턴이 존재하며, 패턴이 다중화되지 않습니다.
3-2를 제외하고, 보스가 죽을경우 모든 총알을 삭제합니다. (다만 시간값으로 삭제하는거라서 오차가 있을수도 있음)


towerEnemy -> 
towerEnemyG1 -> 그룹 1 (3-1에서 첫 출현)
towerEnemyG2 -> 그룹 2 (3-2에서 첫 출현)
towerEnemyG3 -> 그룹 3 (3-3에서 첫 출현)
towerEnemyG4 -> 그룹 4 (3-4에서 첫 출현)
참고: 그룹 1, 그룹 2가 가장 많은 적을 가지고 있으며
그룹 3은 제일 적고, 그룹 4는 중간정도

G1 약 20종류?
G2 약 20종류?
G3 약 8종류?
G4 약 20종류?

G1 - 1, 이동형(3), 레이저형(4), 전투형(4), 도형형(6)
G2 - 2, 막대형(4), 나머지 전부 미정
G3 - ?
G4 - 에너지체 형태가 대량으로 등장할듯

3-1 패턴


구조적
초반 -> 중반 -> 후반
초반: 새로운 요소 홍보 및 신규 적들 등장
중반: 이들을 응용
후반: 보스전 또는 다양한 적들이 더 많은 빈도로 나옴

다운타워: 240, 230 필드전 필드전 4분?
240/240/240/300/360


2-6 적에서 마지막 구간에 나오는 적도 수정 예정
페이즈 1: 이동형?
페이즈 2: 전투형?
페이즈 3: 레이저형?
페이즈 4: 도형형?
페이즈 5: 탄막형?
페이즈 6: 혼합
페이즈 7: 보스전

이동형: 추적이동, 자유이동, 고속이동
전투형: 접근성 총알 발사, 펀치날라기, 로켓발사, 
레이저형: 옵션배틀에 등장했던 그 적들... (다만 이미지는 다를 수 있음)

0 ~ 5
6 ~ 12: 자유이동
14 ~ 22 추적이동
23 ~ 30 고속이동
31 ~ 36 접근성 총알 발사
38 ~ 44 펀치날리기
46 ~ 52 로켓발사
53 ~ 60 상하모래?(모래시계?)
61 ~ 69 레이저 1형
70 ~ 79 레이저 2형
80 ~ 89 레이저 3형
90 ~ 105: 도형형 3종세트 (intruderEnemy랑 동일, 다만 스탯값은 downtower에 맞춰짐)
106 ~ 120: 도형형 3종세트 (다운타워 전용, 오각형, 육각형, 팔각형...)
121 ~ 150: 여러 탄막적들이 전개 형식으로 다수 등장함 (대략 5 ~ 6종류가 섞여서 등장)
151 ~ 228: 기존에 나왔던 적들이 동시에 레이스 형식으로 혼합패턴으로 지속적으로 등장

이동하는 적: ???, ???, ???
접근성 총알 발사: UFO?, 코일?


추적이동, 자유이동, 좌우이동, 고속이동

펀치, 모래(시계), 시계, 

이동형, 전투형(+시계형), 레이저형
X-크로스 계열..., 가시

12 종류, 15종류

이동형, A:B:C:D - 4
전투형: 12345 - 5
레이저형: 1A1B, 2, 3 - 3
총합: 12종류

X모양, 가시 -> 14종류
전투기 2, 16종류
플라스크: 17
아이언: 18

이동형 (사각형이동장치x3)
공중형 (헬기, 전투기, 발사기, 투하기, 홀프래셔)
레이저형 (에너지체x1, 레이저1, 레이저2, 대포)
공격형 (펀치, 모래시계, 로켓런쳐)
도형형 (엑스, 가시, 강철, 플라스크)


투하기, 홀프래셔, 발사기
엑스, 가시, 강철, 플라스크, 


보스전에 대해서
3-1 로봇전투기 등장 (로봇모양이면서, 대포를 사용하는 모습)
로켓 순간이동 에니메이션이 포함되어있음

3-2 보스취급을 받는 일반몬스터(...)

3-3 대형보스가 등장할듯

모든 보스는(3-2 제외... 얘는 일반몬스터임...) 발악패턴이 존재
보스가 죽으면 내부적으로 적의 모든 총알을 삭제함

3-4 보스전 없음 (대신 필드전이 매우 길고 악랄함)


3-1 보스전
요구 dps: 200% (옵션 + 플레이어 dps총합 값) x 80 = 12000% = 120배
[참고: 3라운드는 옵션을 장착하고 플레이 하기 때문에(안하면 빡셈)
실제로 요구되는 dps는 2배로 계산합니다.]
보스전 제한시간은 내부적으로 없으므로, 보스를 죽일때까지 진행해야합니다.
(남은 적 수가 표시됨)

보스전 요구 dps: 12000%?
3-2 8000%


등장 패턴: (스프라이트로 처리함, 이때는 적이 생성된것이 아님)
오른쪽에서 왼쪽으로 이동, 이동하면서 로켓 연타 (왼쪽을 보는 방향으로)
다시 오른쪽 이에서 왼쪽으로 이동, 이동하면서 로켓 연타 (위를 보는 방향으로)
등장하자마자 로켓 다시 연타,
그 후에 적 생성 (이전까지 스프라이트로 처리함, 다만 적의 총알은 스프라이트가 아님)
= 참고: 세이브 특성에 의해서 적 총알은 저장되지 않으므로, 새로고침을 하는것으로 적의 총알을 제거할 수 있습니다.
총 패턴 수 6

1. 로켓 발사: 무작위의 방향 (동시발사수 16 ~ 32), 간격 범위 내 랜덤 (단, 후방으로는 안쏨)
2. 로켓 발사: 주인공이 있는 방향 중심 (총 발사수 48 ~ 56, 발사 시간 약 3초)
로켓의 데미지 7
3. 정면 충돌: 로켓을 사용하지 않고, 순간적으로 빠르게 왼쪽으로 이동(무한루프)
y축 이동속도에 제한이 있음



적들 (모든 효과음은 FM으로 처리함)
jfxr안씀
// 이동계열, 이펙트는 전부 폭발형
1-1. 이동바이올렛, E1, S1 - 1
1-2. 이동퍼플(둘다 보라색이긴 한데, 서로 다른 보라색), E2, S2 - 2
1-3. 이동어두운보라, E3, S3 - 3
1-4. 이동노란색공, EF1, S4,

// 특수계열, 이펙트는 전부 독자적
2-1. 모래시계, E5, S5
2-2. 타포: 대포소리, 로켓충돌소리, 대포부서지면서 사망
2-3. 펀치: 플레이어근처에있으면 용수철소리, 파괴될때 3개가 분리됨

// 이 적부터는 탄환을 발사함 (타포도 쏘긴 쏘는데...)
// 비행기형, 이펙트는 특정상황에서만 재생됨
// 죽을때 추락하면서 폭발하는 과정이 포함(다만 폭발해서 사라지는건 아니고 화면 바깥으로 나가져서 사라짐)
3-1. 헬리: 헬리콥터로 이리저리 날라다니며 (회전각 사용), 파랑 또는 빨강 총알 발사
죽을경우 헬리콥터의 날개가 부셔지고, 중간에 폭발하는 이펙트가 연속적으로 나오며 추락
3-2. 헬전: 전투기로 헬리보다 약간 더 빠르게 이동하며 (회전각사용), 전용 로켓을 발사
(가능하다면 플레이어를 바라보면서), 죽을경우 헬리처럼 죽음
3-3. 헬바: 저속으로 진행하며 중간중간 빛을 생성해냄, 빛을 가지고있다가 총알로 발사하기도 함
3-4. 헬초: 고속으로 이동하며 총알은 발사하지 않음(즉, 몸통박치기...)
회전전환속도가 정해져는 있지만, 빠르기 때문에 이놈은 빨리죽여야함
3-5. 헬갈: 조용히 돌아다니기만 한다. 그러나 플레이어가 X축에 마주치면 고속으로 돌진함
(화면 바깥으로 나가면 속도 리셋)

// 레이저형
// 레이저형은 폭발이펙트가 있음
4-1. 레이저소형1 (중간중간 레이저를 발사, 맨 오른쪽에만 붙어있음)
4-2. 레이저소형2 (중간중간 레이저를 발사, 맨 오른쪽에만 붙어있음, 내구도가 더 높고 공격주기가 빠름, 회색)
4-3. 레이저알파 중간중간 레이저를 발사, 맨 오른쪽과 중앙을 왔다갔다함, 왼쪽으로는 잘 안감)
레이저는 총알로 취급됨

// 도형형
5-1. X: X 그자체, 별다른 특징은 없는 듯 보이나, 기습적으로 난수적인 움직임을 시도함
5-2. I: I 그 자체, 내구도가 개사기이고, 시간이 갈수록 크기가 조금씩 커짐.
5-3. 가시다운,가시업: 초고속으로 가시들이 올라오고 내려온다. 내구도는 매우 낮음(1%수준)
(화면 바깥으로 나갈경우 사라진다.)
5-4. 사각형 ~ 팔각형, 다이아몬드
죽는 이펙트는 터지는 이펙트만 존재하며, 색에 따라 약간 달라짐
별다른 특징 없음 (intruderEnemy와 다르게 잔상도 사용하지 않음)
5-5. 분열형 다각형
같은 팔각형처럼 생겼지만, 팔각형이 죽으면 육각형 -> 오각형으로 분리된다.
분열되기 때문에 내구도는 낮다.
겉으로는 구분할 수 없음


// 보스
6-1. 보스로봇
출현시점부터 보스배경음악 등장, 워닝은 미정(넣는것도 고려 대상이지만, 안넣을 듯)
224초부터 출현, 해당 시간이 되면 로켓을 미친듯이 발사하면서 왼쪽으로 이동한 후(크기는 작게 출력됨), 다시 오른쪽으로 이동, 진짜로 출현하면서 원본크기로 되돌아옴

패턴 약 6가지 교차형식
체력 200% x 60 = 12000%
실제론 약 45초정도 걸릴것으로 예상됨

탄막패턴이 존재하지만, 로켓패턴이 더 메인임
충돌데미지 10

보스가 사용하는 로켓은 벽에 닿으면 무조건 폭발 (참고로 로켓 데미지는 1, 폭발에 데미지 10)




사운드
1-1 moveBlue: 죽음/fm
1-2 moveViolet: 죽음/fm
1-3 moveDarkViolet: 죽음/fm
1-4 moveYellowEnergy: 죽음/fm
2-1 sandglass: 죽음/jfxr/noise
2-2 tapo: 죽음/jfxr/noise, 공격/jfxr/noise+saw
2-3 punch: 죽음/fm, 공격/fm
2-4 deapo: 죽음/jfxr/noise, 공격/jfxr/noise+square
3-1 hellgi: fm + noise
3-2 helljeon: fm + noise
3-3 hellba: fm + noise
3-4 hellcho: fm + noise
3-5 hellgal: fm + noise
4-1 laserAlpha: attack fm + die noise/jfxr
4-2 ~ 4-3 laserMini1: attack fm + die noise/jfxr
5-1 ~ 5-3 noise
5-4 ~ 5-9 fm
로봇: fm + noise


적 알고리즘에 대해서...
moveBlue (가로/세로)만 이동 가능, 플레이어쪽을 추적할 수도 있고 아닐수도 있음 hp 10%
moveViolet 가속형태로 이동, 플레이어를 지속적으로 추적 hp 10%
moveDarkViolet 주기적으로 순간 이동, 플레이어 근처로 순간이동하지 않습니다.
moveYellowEnergy 



라운드 완성 구조
기본적인 구조 완성 2022/03 ~ 2022/07
이후 약 3개월간 잠수
라운드 1 제작 시작 2022/09 ~ 2022/12
이후 약 3개월간 잠수
엔진 개량 및 추가 수정 2023/04 ~ 2023/06
이후 약 1개월간 잠수
라운드 2 시작 2023/07 ~ 2023/10
라운드 3 시작 2023/11 ~ ?

앞으로의 예정
라운드 구조
1-1 ~ 1-6 / 레벨 1 ~ 8, 전투력 40000
2-1 ~ 2-6  / 레벨 9 ~ 18, 전투력 50000 ~ 60000
3-1 ~ 3-5 / 레벨 20 ~ 24, 전투력 70000 ~ 77000
3-6 ~ 3-9(3-8이 끝인지 3-9가 끝인지 아직 모릅니다.) / 레벨 25 ~ 28, 전투력 77000
3-A1 ~ 3-A4 / 레벨 29 ~ 35, 전투력 80000
여기까지가 PART 1

라운드 4 / 레벨 30 ~ 55, 70 ~ 90, 100 ~ 150
// 전투력 100000 ~ 120000, ?, ?
메인 월드
4-1 ~ 4-12 (6개의 테마 12개의 라운드)
서브 월드
4A01 ~ 4A10 (몬스터 파티)
4B01 ~ 4B10 (보물상자 및?)
4CXX ~ 4CXX? (???)
참고: 확정된 사항은 몬스터파티 뿐입니다.
그리고 스카이랜드는 엔드컨텐츠로 분류됩니다.
여기까지가 PART 2 (아마도... 왜냐하면 라운드 5까지 PART 2가 될 수도 있음)


라운드 5 / 레벨 56 ~ 62, 전투력 180000
// 메인 월드
5-1 ~ 5-6, 레벨 56 ~ 62, 전투력 180000
// 서브 월드
5-A1 ~ 5-A4, 레벨 81, 전투력 270000
5-B1 ~ 5-B4, 레벨 85, 전투력 300000

라운드 6 / 레벨 63 ~ 70, 전투력 200000, 패널티 10% 적용
실전투력 220000
이 시점부터 신규강화를 적용하지 않으면 다음 지역 진입이 힘들어질 수 있음
6-1 ~ 6-4, 레벨 63 ~ 70, 전투력 200000

라운드 7 / 레벨 71 ~ 80, 전투력 220000, 패널티 20% 적용 (일부 한정)
7-1 ???
7-2 ~ 7-7 ???
7-8 ???

라운드 8 // 
라운드 9 //

지역이름 (모든 지역이름은 고유명사로 간주)
라운드 1: 센티멘탈
라운드 2: 동그라미 마을
라운드 3: 다운 타워
라운드 4: 스카이 랜드
라운드 5: 중간도시
라운드 6: 흑대류
라운드 7: 마운티스
라운드 8: 행성의 대륙(? 이름 미정?)
라운드 9: 행성의 코어 (? 이름 미정?)

레벨 제한
0 ~ 8 
9 ~ 20 // 이 구간까지는 레벨업이 빠릅니다.
21 ~ 30
30 ~ 55
56 ~ 62
63 ~ 70
71 ~ 80
81 ~ 88
89 ~ 90
엔딩레벨 최소지점: 90
엔딩을 클리어하기 전까지 100레벨 이상 달성할 수 없습니다.

엔딩을 클리어하면 최대레벨이 150까지 확장됩니다.
단, 120이후부터 노가다는 배수단위로 증가함.
레벨 150은 큰 의미는 없습니다. 달성해도 아무런 보상도 없을 예정입니다. (왜냐하면 노가다 수준이 비상식적이므로 달성해야 할 이유가 없습니다.)

이 게임에서 실질적인 모든컨텐츠를 즐길 수 있는 만레벨은 120이 될 것 같습니다.


확장컨텐츠에 대해
라운드 1: 1-4에서 보스를 제한된 시간보다 빠르게 처치할경우, 완전히 다른 스테이지가 등장합니다.
라운드 이름은 아마 1F1식으로 될 듯, 다만 새로 추가되는 스테이지는 1개뿐입니다.

라운드 2: 상점및 운영체제 시스템 존재, 여기서 숨겨진 스토리와 동그라미 마을의 정체를 알 수 있습니다. 그러나 모든 컨텐츠를 언락하기 위해서 라운드 3을 클리어 해야 합니다. (정확한 기준은 3-5, 3-8, 3-9 3개)

라운드 3: 서브 라운드가 확장 컨텐츠를 대신함
참고: 여기서 서브라운드까지 클리어한다면, 동그라미마을에 새로운 컴퓨터가 등장합니다.

동그라미 마을의 컴퓨터 윈도우 98
다운타워의 컴퓨터 윈도우 xp
중간도시의 컴퓨터 윈도우 7
마운티스의 컴퓨터 윈도우 10, 11

파트 1의 엔딩 기준은 라운드 3-5, 3-8, 3-9를 클리어 하는것입니다.
나머지 구간은 건너 뛰워도 상관없지만...

스토리 구조에 대해서
각 라운드를 클리어할 때마다 스토리를 볼 수 있습니다.
다만 특정 구간까지는 레벨로만 언락되며, 특정 구간에서만 특정 라운드 클리어를 요구합니다.

1-1 - 우주 여행 스토리
1-2 - 운석 지대 내부와 수상한 공간
1-3 - 무인기 전투, 진입을 막기위한 적들
1-4 - 의식의 제단, 황당한 의식의 결과 (1-4 클리어 필요)
1-5 - 레드 존과 숨겨진 공간의 정체
1-6 - 파란 행성에 도착하다

2-1 - 동그라미 마을로 진입하기까지
2-2 - 마을 둘러보기
2-3 - 동그라미들과 놀아주세요
2-4 - 구조신호를 찾아서 (2-4 클리어 필요)
2-5 - 동그라미 마을 화이트마스터
2-6 - 다운타워로 가는길... 폐허를 바라보며

3-1 ~ 3-2 - 다운타워 보고서 1
3-3 ~ 3-4 - 다운타워 보고서 2
3-5 - 다운타워 보고서 3
3-6 - 침입자들의 정체
3-7 - 코어 내부 속 비밀
3-8 - 대략적인 결론
3-9 - 사건 해결 및 엔딩
3-A1 - 또다른 공간
3-A2 ~ 3-A3 - 비밀 속 함정장치
3-A4 - 그들의 진짜 정체와 목적

4-? 스카이 랜드에 오신것을 환영합니다.
4-2 가상으로 구현된 공간
4-3 가짜 물질들
4-4 공중도시가 가능한 이유?
4-5 행성에 대한 의문점


적 알고리즘 목록
1-1. moveBlue -> 가로/세로방향만 이동 가능, 가속/감속 형태로 이동, 플레이어에 다가감
1-2. moveViolet -> 아무 방향이나 이동 가능, 가속/감속 형태로 이동 blue보다 약간 느림
HP: 2%

1-3. moveDarkViolet -> 일정 시간 이후, 극가속/극감속을 진행(좌우 또는 상하로 가속함, 대각선으로는 매우 느리게 이동), 화면을 관통하면서 움직임, blue보다 상당히 빠름, 플레이어가 있는 방향을 기준으로 가속/감속
HP: 10%

1-4. moveYellowEnergy -> 회전각으로 움직임 (이동속도에 제한이 있음)
HP: 20%

죽음이펙트 방식 변경
이제 이미지경로와 이미지데이터를 넘기면 자동으로 생성함
[크기는 오브젝트의 크기에 비례]
[해당 사항이 없으면 만들지 않음]


moveBlue
도착 지점 결정, 시작 지점 결정 -> 딜레이 재설정

이동 방식
속도: 0 -> 1 -> 2 -> 4 -> 8 ? -> 4 -> 3 -> 2 -> 1 -> 0
이동 간격: 120프레임
프레임 절반만큼 가속, 프레임 절반만큼 감속
속도값: 

+speedX: count / 2
0, 1, 2, 3, 4, 5, 6
count - half - xx

left / 2 / 60 + x


moveViolet = 플레이어 추적 (나머지 moveBlue랑 동일)

moveDarkViolet = 축방향을 기준으로 급가속
x축, y축 랜덤지정
속도가 빨라지다가 느려짐

축방향값 설정


sandglass 모래시계
이동방식: 무작위 랜덤 이동 (플레이어를 추적하지는 않음)
일정시간 이동 후, 멈추며, 멈춘 상태에서는 모래시계 애니메이션 재생


0도 -> 180도 -> 0도
0, 1, 2, 3, 4, 5, 6, 7, 8, 9 -> 180도 -> 0도
0, 1, 2, 3, 4, 5, 6, 7, 8, 9 -> 180도 -> 0도

9 -> 180도


타포: 직선으로만 이동 (y축 이동 없음)
(참고: 이 적은 라운드 내부에서는 밑부분에 주로 출력됩니다.)

일정 주기로 로켓 발사
로켓은 임의의 각도로 이동, 이 총알은 판정할때 OBB방식으로 판정함
(안그러면 직사각형 판정이 일어나는데, 이 경우 잘못된 판정을 할 수 있음)
로켓 데미지 10


플레이어의 근처로 이동 (y축기준 +-20, x축기준 +-40)
그 다음 바로 펀치(...)
용수철이 늘어났다 줄어들음


이동 0 -> 180 공격상태 (이동을 멈추고 공격)
공격상태 -> 용수철이 늘어났다 줄어들었다 0 -> 120 (다시 이동상태)

대포 ->

360도 회전하면서 등장(랜덤한 위치로, 보통 아래에서 위로), 일정시간 후, 각도가 고정되고 지속적으로 대포 발사


헬기: 전방으로만 이동하지만, 간혹 위 아래로 이동할 때가 있음
위, 아래로 이동하면 각도가 변경
주기적으로 총알을 발사 (자기가 보는 방향으로)
왼쪽방향으로 이동하기 때문에 flip을 적용

헬전: 360도 회전이 가능하며, 바라보는 방향으로 총알을 발사, 총알은 일정 간격으로 발사됨
플레이어를 지속적으로 추적, 회전 변환 속도에 제한이 있음
회전을 기준으로 속도가 결정됨
총알을 발사할때마다 로켓부분의 색이 변경

헬초: 회전이 순식간에 이루어지며 (자연스럽게 변하지 않음),
일정 시간 단위로 속도가 리셋됨 (계속해서 가속하다가 갑자기 멈추는것을 반복)
이동 방향은 랜덤으로 설정됨

헬바: 자유롭게 이동(...), 이동하면서 양쪽에다가 총알 발사
헬갈: 자유롭게 이동, 그러나 비이상적인 행동을 시도함

X, I: 별다른 패턴 없음, 다만 고속으로 움직임
gasiUp,Down 화면 위,아래로만 움직임, 고속, 체력 낮음

사각형 ~ 팔각형: 별다른 패턴 없음
분해도형: 도형을 제거하면 다른 조각으로 분해됨
팔각형 -> 육각형
육각형 -> 오각형
오각형 -> 사각형

===> degree 방식 변경

각도 범위 (y축 이동속도에 따라)
0 ~ 0.5 = 0도
0.6 ~ 1.5 = 0 ~ 30도
1.5 = 30도


hellba: 에너지체 소환 (발사하진 않음)
hellgal: 주기적인 총알 발사 (방향 랜덤 합계 3개)

레이저계열: 오른쪽에만 존재(위/아래 왔다갔다함)
laserAlpha: 주기빈도 낮음, 레이저 굵음, 체력 높음
laserMini: 주기빈도 높음, 레이저 얇음, 체력 중간
laserMini2: 주기빈도 매우높음, 레이저는 mini1과 동일, 체력 중간
참고: laserMini는 주기가 랜덤이고, laserAlpha는 주기가 고정

X: 터질때 폭발데미지 (약 2배크기)
I: 체력이 적을수록 크기가 조금씩 커짐

가시: 별다른 특징 없음, 체력 매우 낮음, 플레이어랑 부딪히면 죽음,


도형: 일반도형, 분해도형 총 2종류
일반도형 -> 5종류가있음
특수도형 -> 팔각형, 육각형, 오각형만 있음
특수 도형을 죽일경우 한단계 낮은 도형으로 변신하면서 여러개의 도형을 쏟아냄
죽이기 전까지 차이점을 알 수 없음
작아진 도형들은 죽여도 다른 도형으로 변신하지 않음

팔각형 -> 육각형 미니 6개
육각형 -> 오각형 미니 5개
오각형 -> 사각형 미니 4개


무브계열 - 공통규격 (그런데 함수 구조는 같지만 알고리즘이 서로 다 다름...)
유니크계열 - 개별규격 (타포, 대포, 모래시계, 펀치 알고리즘이 서로 다름)
비행기계열 - 공통규격 (회전각 사용 <- 다만 몇몇은 아님, 공격과 이동주기)
레이저계열 - 공통규격 (오른쪽 이동, 레이저 종류와 간격만 다르고 나머지 동일)
레이저를 공통으로 두고, 서브타입이나 함수로 분리해야할듯
I, X, gasi - 개별규격 (서로 특징이 다름)
도형계열 - 공통규격 (변형처리, 딱히 특징이 있나?)


도형 특징: 별다른 특징은 없는 것 같으나, 죽일경우 한단계 낮은 도형으로 변신하고 속도가 증가
한단계 낮은 도형은 크기가 작으며 더이상 변신하지 않음

도형 테이블
사각형 -> hp: 40%, damage: 12 -> 작은 팔각형 -> hp: 80%
오각형 -> hp: 50%, damage: 13 -> 작은 사각형 -> hp: 20%, damage: 12
육각형 -> hp: 60%, damage: 14 -> 작은 오각형 -> hp: 30%, damage: 12
팔각형 -> hp: 80%, damage: 16 -> 작은 육각형 -> hp: 40%, damage: 12

도형 총합 HP: 기준값 100% + 20%
80+40(120)/50+80(130)/60+80(110)/80+60(140)
사각형/오각형/육각형/팔각형

크기가 작은것이 더 체력이 많음. 공격력은 모든 도형이 큰 차이가 없음
(사각형 12 ~ 팔각형 16, 작은 도형은 전부 12)

체력 계수
사각: 40, 오각: 50, 육각: 60, 팔각: 80

사각: 도형레이어 1 (100%)
오각, 육각, 팔각 도형레이어 2 (110% ~ 120%)
다이아: 도형레이어 3 (150%)

사각형 -> 작은 팔각형
다이아 -> 작은 다이아

도형 상성관계
4 -> 8 -> 6 -> 5 -> 4
다이아 -> 다이아 (?)

40%/64% (사각형) -> 팔각형 = 104% (10x4 + 8x8)
40%/64% (오각형) -> 사각형 = 104% (8x5 + 16x4)
48%/60% (육각형) -> 오각형 = 108% (8x6 + 12x5)
48%/60% (팔각형) -> 육각형 = 108% (8x8 + 10x6)
75%/75% (다이아) -> 다이아 = 150% (75+75)

// 사각, 오각 - 레이어 1 (40% + 60%) = 100%
// 육각, 팔각 - 레이어 2 (40% + 60%) = 110%
// 다이아 - 레이어 3 = 150%

도형 -> 도형mini 로 분리

도형의 특징: 자유이동 (1초에 한번씩 미세하게 속도가 변화됨)

죽음이펙트?


비행기: 공통 이펙트?
회전각계산? 

체력 게이지 값
이동블루: 4%, 6
이동바이올렛: 6%, 6
이동다크바이올렛: 6%, 6
이동오렌지: 48%, 12

모래시계: 100%, 20
타포: 100%, 16
펀치: 55%, 11
대포: 25%, 12

레이저알파: 100%, 18, 10
레이저미니: 22%, 
레이저미니회색: 26%

헬기: 50% (대형 체력, 단순 패턴, 전진이 전부, 회전은 있지만 한도가 있음, 총알 발사)
헬전: 24% (소형 체력, 저속 이동, 느린 회전, 느린 발사)
헬초: 22% (소형 체력, 고속 이동, 빠른 회전, 총알 발사 없음)
헬바: 36% (중형 체력, 중속 이동, 회전 없음, 에너지를 자기 주위에 달고 다님)
헬갈: 35% (중형 체력, 저속 이동, 회전 없음, 탄막 전개)

X: 25% (죽을경우 폭발)
I: 200% (남은 hp에 따라 크기가 증가)


100 - 1
20 - 3

(100 - 20) - 80 + 현재값
80 + -80 = 0 현재값
80 - 79

죽음이펙트

타포,모래시계,대포,펀치

타포, 대포부분이 박살
모래시계, 유리 깨지고 모래 흩어짐(약 10프레임?)
참고: 현재 모래 상태를 반영하지 않습니다.
대포: 두개로 분리되면서 회전하면서 떨어짐 (블루어 효과 있음)
펀치: 3개로 분리되면서 회전하면서 떨어짐 (블루어 효과 있음)

이동계열: [파랑폭발, 보라폭발, 보라폭발, 에너지 회색화]
전투기계열: [폭발A(헬기, 헬전, 헬속), 폭발B(헬바, 헬갈)]
주황/빨강,  갈색

레이저: 전투기랑 같음

I: 붕괴방식
X: 회전방식 (날카로워진 X로)

가시: 부서짐 (6프레임)

도형: square가 죽는 방식과 거의 동일
diamond도 마찬가지
pentagon은 녹색


덴티움OS
-3500 ~ -1500
수 비트 단위의 연산 기능 가능
막대/점 인터페이스
기록 용도로 사용된것으로 추정
몇가지 버전이 존재
국가가 자연재해 및 식량부족으로 멸망하여 더이상 해당 OS는 개발되지 않음

덴티움OS 6.0
-500 ~ -300
한참의 시간이 흐르고 누군가가 이 유물을 발견하여 분해 및 개발 시작
그러나 그당시 기술력으로는 한계가 있었으므로 연구용도로만 사용됨

덴티움OS 15.0
-42 ~ -22
상당한 연구성과가 있었지만 재료 및 기술의 부족으로 해당 OS는 잊혀져가다가
누군가가 일시적으로 개발하려 했던 흔적이 남아있었음
몇가지 내부 업데이트가 진행되었지만 구조적인 한계 때문에 실패한것으로 보임


마사라OS
-1024 ~ +266
수천년동안 살아온 마사라가 만든 OS
다만 엄밀히 따지면 마사라를 추종하는 사람들이 만든것으로
수많은 사람들의 노력 덕분에 상당히 좋은 기능들을 많이 가지고 있었다.
우주시대가 열린 후에도 자주 사용되었지만, 기술의 한계로 인해 사용되지 않는다.

스페이스 OS
+266 ~ +10000000
마사라 OS를 개발하던 인원을 우주방위국에서 모아서 새로 만든 OS
우주시대에 맞게 우주와 관련된 통신 기술을 지원한다.


세이브 데이터에 대해서
서로 호환되지 않는 세이브데이터가 있는 경우, 처리는 다음과 같습니다.
옵션: 기본 설정 값 사용
플레이어데이터: 변동 계획 없음
[레벨, 경험치, 무기1, 무기2, 무기3, 무기4, 스킬1, 스킬2, 스킬3, 스킬4 ~ 스킬8]
optionValue -> string -> JSON

세이브 방식 변경 (상위/하위 호환이 가능하게끔)
다만 0.3 <-> 0.36는 서로 호환이 안됨
참고: 필드는 저장 데이터가 안맞으면 자동으로 삭제합니다.

saveFlag: boolean -> string으로 변경하고
flag에는 saveLevel이 추가

saveLevel1 -> 이런 형태로 작성됨

saveFlag: saveLevel1
optionValue: JSON방식, JSON문자열과 맞지 않은다면 옵션설정이 초기화됨

저장데이터의 확장을 고려하기
이제 저장 데이터는 단일 데이터에 합산됨


저장 방식
tamshooter4Data1 <- 현재는 슬롯이 1개
(다만, 여러개의 슬롯을 만들 계획은 없습니다.)

데이터 로드 방식
tamshooter4Data1 을 불러오고 다음을 판단
null일경우, 아무것도 불러오지 않고 새로운 데이터로 게임을 시작하게 됨
load 이후 에러가 발생한경우
세이브데이터에서 에러가 난 부분을 건너뛰고, 에러가 난 부분은 새로운 데이터로 교체됨

tamshooter4Data1 saveData
saveFlag: level1 <- 이제 레벨값을 표시함, 세이브 형식이 대거 변경되면 이 레벨을 변경할 예정
// saveFlag level0
해당 키워드가 있을때 level0으로 인식함
saveFlag값이 true이고, userData가 string일때, saveData가 string일때
기존 값을 새로운 형태로 저장하고, 기존 방식 삭제
[주의: 기존 값을 불러오는도중 오류가 발생하면 해당 정보는 무효가됩니다.]

// saveFlag level1
- saveFlag: level1
- optionValue -> option으로 변경 -> json형식
- startDate -> 새로 구현됨
- saveDate -> 기존 방식 그대로
- playTime -> 기존 방식 그대로


saveDate, startDate, playTime 제외하고 전부 json방식으로 변경 예정
userData -> JSON으로 변경
lv
exp
weapon = []
skill = []



// 데이터 변경에 대해
// fieldData는 암호화되지도 않고, 확인하지도 않음 (가장 큰 이유는 저장할게 너무 많아서)
// 일부 공개된 데이터는 범위 확인만 하고, 문제가 발생할경우 임의의 초기화를 시도
// JSON 형식 에러가 발생할경우, 해당 구간의 데이터는 초기화됨
// 특정 데이터는 sramData에 저장하고 다음과 같은 추가 규칙을 가짐
1. sramData와 원본 데이터가 일치할경우 -> 그대로 사용
2. 원본 여부와 상관없이 sramData만 확인함 (따라서 원본 데이터를 수정해도 참고할때는 sram으로 참고하므로 원본을 바꿔도 반영되지 않음), 
3. sramData가 변형되었을 때, 이 데이터가 원본인지 아닌지 알 수는 없으므로 (SHA-256을 사용할 수도 있지만

// 로드할때만 await?

sramData = []
pramData = []

saveFlag = 'tamshooter4key042'
playTime = ''
startDate = ''
option = ''
userData = ''


세이브 데이터가 오류가 발생한경우, 다음과 같이 처리합니다.
(다음 버전에서 처리 예정)
1. -> tamshooter4Data1Backup 을 살펴봄
2. -> 백업도 문제가 발생하면 오류메세지(커널패닉)을 띄움


버그 수정
// 키에 데이터가 없는 경우
-> 백업키 데이터도 살펴보고 이것도 없으면 초기화



music fade edit

fadeIn, fadeOut
0 -> 1 , 1 -> 0

setTimeout(3000, targetMusicChange) -> 
fadeIn, fadeOut



fadeIn/fadeOut delete


musicFadeIn(fadeTimeSecond, 'targetSrc')
musicFadeOut(fadeTimeSecond) // second
musicChannel(musicSrc, channel = 0 ~ ?)


setMusicMaxChannel (4 ~ 100)

musicPlay (soundSrc, loopCount = 19999999)
// musicPlay loops infinity

musicPlayLoop (soundSrc, loopCount = 999)

musicTable = []
class MusicTable ()
musicSrc: 1,
loop: 0,
type: audio/buffer
fadeIn: false
fadeInTimeSecond: 0
fadeOut: false
fadeOutTimeSecond: 0


참고: musicPlay은 채널 0번에 적용됨 (하위 호환을 위해서)
musicStop은 모든 음악을 정지시킵니다. (play랑은 다릅니다.)
따라서, 채널 함수를 사용해야만 채널에 접근할 수 있습니다.
musicPlayChannel()
musicStopChannel()


v0.44.0


1. button ->
text, textColor, bgColor, bgClickColor, borderColor

createButton (text, color, bgColor, bgHoverColor, borderColor, shadowColor)
참고: borderColor + shadowColor = textColor

left, top



v0.44.0 - controlSystem: change moblie pad

1. mobile 패드가 image 에서 html css button 으로 변경했습니다.
이것은 엔진에서 이미지의 경로가 어딘지를 확신할 수 없기 때문에
외부 요소를 최대한 사용하지 않기 위해 교체했습니다.
2. //@ts-check도 추가, 코드가 타입에 맞도록 변경되었습니다.
3. controlSystem에서 buttonDown을 연속으로 입력했을 때
각 시간 간격을 설정할 수 있습니다. (모든 버튼에 공통 적용)



v0.44.1 - soundSystem: music fade, music channel
1. tamsaEngine 내부에서 무조건 웹 오디오 API를 사용하도록 변경
그리고 이를 확인하는 코드 전부 삭제
2. resourceSrc 제거. 엔진에서 사운드 파일의 경로를 확신할 수 없기 때문입니다.




setFadeIn
setFadeOut

multyChannel (0, 4)

fadeIn
fadeOut

musicPlayFadeIn(src, second)
musicPlay(src)
musicPlayChannel(src, channel = 0, fadeSecond = 0)
console.error (out of channel index, max channel: 4, set channel: 7)

// 참고: 페이드 인은 음악 재생시에만 사용할 수 있습니다.
페이드 아웃은 언제든지 가능

musicPlayFadeIn
musicStopFadeOut(fadeSecond = 1)

참고: 음악 페이드 아웃을 시도하고 정지한다면, 해당음악은 setTimeout을 설정하여 정지시킵니다.

기존 fade함수 삭제
경고: pause 상태는 fade를 무조건 취소합니다.

isFadeOut: false,
musicBuffer -> 삭제

음악? buffer, audio인지는 상관없음
음악을 재생할 때 만약 경로가 같다면, audio를 먼저 불러오고, 이게 없으면 buffer를 불러옴

// 오디오의 경로, 시작지점, 페이드 시간
musicPlay (audioSrc, start, fadeSecond = 0)
musicStop(fadeSecond = 0)
musicPause()

musicBuffer는 삭제
음악을 버퍼로 등록했는지 아닌지는 따로 살펴봄
다만 오디오가 있다면 먼저 오디오를 재생

// 기존 페이드는 전부 삭제

// 음악 재생은 중복 호출 하여도, 다른 음악으로 교체되기 전까지는
// 재생 상태에 영향을 주진 않습니다.
// 같은 음악을 재생하고 싶다면, stop 이후에 다시 play를 해주세요.

음악 재생에 대해 버퍼는 고려되지 않음

// 참고: 테스트 파일은 tamsaEngine 내부에 없습니다.
1. inputTest -> 변경 없음
2. soundTest -> tamsaEngine 내부 파일을 직접 참고하도록 변경
3. graphicTest -> 변경 없음
4. cacheList


graphicSystem -> monosansPont
// 그래픽 시스템에 bitmapDisplay가 존재하지만 resourceSrc

// soundTest 방식 변경



// fontData = {
  fontName
  fontMonospaceName
  fontSize
  fontResult
}


// 참고: 탐사엔진에서 oscilloscopeNode는 사용되지 않습니다.
1. input test - 기존 방식 유지
2. graphic test - 기존 방식 유지


1. 버퍼 재생, 오디오 재생
- sound test -
current sound: 0 / ??
time: 0 / duration

src: ''
sound play
buffer play
music play (loop)
music play fade in (loop)
music stop (loop)
music stop fade out (loop)
exit

you must user gestion will sound play
// 모든 음악은 루프가 무한합니다.
musicLoopCancle() // 이 함수를 사용하면
현재 재생중인 음악의 루프를 제거합니다.
(단 음악은 멈추지 않음)


- image test -
current image 0 / ??
x: 0, y: 0, width: 0, height: 0


tamsaEngine bios menu
input test
graphic test
sound test
image test


biosMenu ->
sound test - web audio api
sound number 0 / 130
sound src // 2line

sound select (left, right, A, B button 사용가능)
left/right 1칸씩 이동
A/B 10칸씩 이동
0번에서 뒤로가면 맨 마지막으로 이동됨

soundTime은 string으로 변경하여 표시
소수점 둘째자리까지 표현
012.000
currentTime.pad(' ', 6),
duration.pad(' ', 6)


- sound test -
src:

sound number: 0 / ???



sound select (사운드 선택)
sound play (사운드 재생)
sound stop (현재 재생중인 사운드를 기준)
music play (음악 재생(자동 루프)
music play fade in (음악 재생 페이드 인)
music stop (음악 정지)
music stop fade out (음악 정지 페이드 아웃)
duration change +- 5 (음악의 현재 재생 시간 조정)

(사운드 테스트에만 적용)
내부적으로 오디오 파일이 4초 이하인경우, 음악 재생 기능을 사용할 수 없습니다.
내부적으로 오디오 파일이 12초 이상인경우, 효과음 재생 기능을 사용할 수 없습니다.

효과음만 재생 가능한 경우
뒤에 UNUSED가 표시됨

sound test
number / length : name

music: 0, time: 1.toFixed(2).padEnd(' ', 5) / 142.toFixed(2).panEnd(' ', 5)
currentSrc = ''


image test
number: 0/? - width: 0, height: 0
imageobject: x: 0, y: 0, 
widthMultiple: 1, heightMultiple: 1
degree(rotate): 0/360, flip: 0

arrow button is image move
L1, L2, R1, R2 button to image change
START/SELECT button to exit
A button to change Degree
B button to change Flip

-> image number
-> image move
-> exit
START, A button to image move


라운드 3-1
orange: 추적
green: 전방
skyblue: 폭발
pink: 가스
black: 공
purple: 반사각


페이즈 마다 아이템은 2개씩 등장
옵션의 레벨은 자동 설정됨 (시간 진행에 따라서)
적을 안죽여도 옵션은 점점 강해짐

페이즈 1 (dps: 40%, 80%)
4, 6 -> x6 blue
10, 12 -> x6 violet
16, 18 -> x6 darkbiolet
20, item 등장 (orange)
24, 32 -> 3 color
34 ~ 40 -> yellow

페이즈 2 (dps: 100%, 150%)
40 ~ 46 모래시계
41, orange
47 ~ 52 타포
53 ~ 60 펀치

페이즈 3 (dps: 160% ~ 170%)
60, green
61 ~ 62 +1
~ 70 각 종류별로 여러개의 전투기가 한번에 등장함
75 ~ 90

무브계열 - 페이즈 1
특수계열 (대포는 나중에 나옴) - 페이즈 2
전투기계열 - 페이즈 3
레이저계열 - 페이즈 4 (전투기랑 혼합됨)
대포의 등장 - 기습적으로 나옴
이 이후부터 조합식으로 페이즈 6까지 이어짐

페이즈 4 (dps: 160% ~ 170%)
페이즈 6 (dps: 200% ~ 240%)
도형들이 쏟아지는 수준으로 나오며, 아이템은 스플래시옵션만 등장


무브계열 - 오렌지
특수계열 - 오렌지
전투기계열 - 그린
레이저계열 + 전투기계열 - 그린
대포 + 펀치 + 무브 - 오렌지
혼합 - 오렌지, 그린 (2종류가 같이 나옴)
도형 - 스카이블루
X, I - 스카이블루
가시 - 블랙
보스전 직전 - 오렌지, 그린 두개만 출현

페이즈 0 (0 ~ 30), 무브계열의 등장
페이즈 1 (31 ~ 60), 무브오렌지 + 특수계열의 등장(대포 제외)
페이즈 2 (61 ~ 90), 전투기 차례로 출현후 무수히 많은 전투기 등장
페이즈 3 (91 ~ 120), 레이저 계열의 추가(전투기랑 혼합), 이후 대포가 기습적으로 등장
페이즈 4 (121 ~ 150), 대포 + 펀치 + 타포, 레이저 + 전투기 혼합믹스
페이즈 5 (151 ~ 180), 도형 시리즈 등장 (전투기가 섞임)
페이즈 6 (181 ~ 210), X, I의 추가적인 등장, 도형속에 섞여있고, 무브먼트도 방해
페이즈 7 (210 ~ 228), 가시 + 대포, 
페이즈 8 보스전 (229 ~ 237)

dps
이동 4,4,6,20

dps: 32 ~ 48, 80
dps: 100 ~ 120


도형 + 전투기 + 레이저 + 특수적 + 이동적 (다나오는 종합 선물 세트)

1. 패턴 조합 (0 ~ 15)
헬기 vs 전투기 + 이동시리즈 (40% ~ 42%를 맞춰서) + 이동옐로우(40%) = 120%
나머지 타포(100%) or 도형(100%) or 펀치(100%)

2. 패턴 조합 (16 ~ 30)
X + I가 한꺼번에 다수 등장하고, 그 뒤이에 뒤에 레이저 잔뜩나옴
+ 헬갈 + 대포


타포 - 밑으로 배치되게 변경


보스전
보스로봇이 등장했는데
배경음

보스 진입 패턴 (3-1, 3-3)
보스 경고 표시는 3-1, 3-3으로만 한정
보스 경고 표시는 200x100 x 3 ~ 4프레임
보스 체력은 3-1 ~ 3-3은 6000%, 3-4는 없음, 3-5는 미정(360초구성 추측)


3-1, 다운타워 레벨 1 보스로봇: hp 6000% / 240 - 보스 경보 있음 (BOSS ROBOT)
3-2, 다운타워 레벨 2 빅 사이즈 막대기 hp 6000% / 240 - 보스 경보 없음 (그냥 나옴) (BIG SIZE MAKDAEGI)
3-3, 다운타워 레벨 3 다수 코어 시스템: hp: 6000% / 240 - 보스 경보 있음 (DASU CORE SYSTEM)
3-4, 다운타워 공허 보스전 없음
3-5, 안티 코어 시스템 스테이지 자체가 보스전 - 따라서 보스 경보 없음 (시작하자마자 옵션 나오고 바로 보스전)
- ANTI CORE SYSTEM 안티 코어 시스템
3-6, 다운 타워 코어 통로 보스전 없음
3-7, 다운 타워 코어 미로 코어 미로 암호 시스템 (CORE MIRO AMHO SYSTEM)
3-8, 다운 타워 통로
3-9, 다운 타워 외벽
3-A1, 공장 - 감시 구역 (factory - cctv area)
3-A2, 공장 - 함정 구역
3-A3, 공장 - 전기 구역
3-A4, 공장 - 숨겨진 컴퓨터실


bossWarning image (3-1, 3-3 에서만 사용)
image 처리 방식
오브젝트를 left/right 각각 20개 만들고,

left 0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100
right 330, 320, 310, 300, 290, 280, 270, 260
imageDisplay (33object) (10x씩 계속 쌓이고 33개의 이미지를 출력)

이후, 일정시간 후에 단일 이미지로 변경하고
표시 종료

-> round1_test -> enemyTest (some enemy test)
-> round1_test2 -> anotherTest
-> round3_test -> menu -> optionTest/warningTest/
testMode:
test infomation not saved

배경색: 그라디언트로 표시 (R값을 점점 변경)?
R:++ G:고정 B고정 ->



저 표시 이후 3초 후에
보스 등장?

시작하자마자 왼쪽으로 달려들면서 로켓 연타
오른족으로 달려들면서 로켓 연타 (보스 자체는 스프라이트 취급이며 이펙트는 없음)
세이브 로드해도 이 상태는 간단하게 저장되므로 스킵 불가능

이 시간이 6초 (보스전음악은 보스가 등장하는 즉시 출력)

이 진입이 끝나면, 보스가 진짜로 등장하며 약 6000%의 체력을 가짐


보스의 패턴 / 페이즈 총 2개
(100 ~ 80%), (80% ~ 20%)
다른 페이즈 진입시, 모든 적의 총알 삭제

페이즈 1-1
경고: 모든 로켓은 닿으면 폭발데미지가 있음 (10프레임당 4데미지, 초당 24데미지)
유도성 로켓 발사 (유도성 로켓은 120프레임동안 이동하며, 그 시간이 지나면 더 이동하지 않음)


참고: 3-1 완성 이후 체력게이지에 대한 패치 예정, 체력 방식 수정 예정
체력 100 + 실드 200
체력 200/200 + 200/200 -> 으로 변경
체력은 항상 100의 값을 가지며, 쉴드 최대 게이지에 비례헤 %정수값 표시


체력 = 100 고정
실드 = 늘어날 수도 있음?

실드 회복속도, 초당 1 = 프레임당 100(쉴드 최대치의 50%, 소수점 버림)/600
실드가 많을수록 초당 회복속도 증가

모든 로켓은 벽에 닿거나 플레이어에게 닿으면 폭발함. 로켓에 닿았을 때 데미지를 받는것이 아니라, 폭발했을 때 데미지를 받음
(서로 다른 불릿이 있는것처럼 처리됨)
보스 페이즈 1-1 유도성 로켓 (지속시간 120프레임-2초)
보스 페이즈 1-2 상하 폭발 (벽에 닿으면 폭발)
보스 페이즈 1-3 추진 폭발 (보스가 즉시 폭발하는 로켓을 자기 주위에 발사함) + 이동하면서
보스 페이즈 1-4 총알 발사 (색색의 총알을, 특정한 형태로 발사)
보스 페이즈 2-1 로켓 연타 (무작위 18방향중 1, 보스 아래쪽, 위쪽은 무한 폭발 - 회피 불가)


만들어야 되는 순서
1. 보스 경고 + 사운드
2.  보스 로봇 + 패턴
3. 보스로봇 죽는 이펙트
4. 화면 폭발 이펙트?

// 디스플레이 방식 변경
10x구간씩 영역 증가, 최대 (330 / 20) + 10 (홀수 버그 방지)


보스 출현 대기 시간
timestop + 0 = 기준값
+3 ~ +8 보스 경고 표시
+10 보스 음악 등장 (보스 출현과는 별개)
+16?

// bossSprite
3-1, 3-3은 출현 방식이 존재
3-1, 왼쪽으로 이동하면서 폭발로켓 발사 (폭발로켓은 round에도 구현되어있음)
오른쪽으로 이동하면서 폭발로켓 발사
이후 보스 생성


start = 960 -> 0 (3second) 5px 
900 - (300 



// 참고: 로봇은 화면 바깥을 나갈 수 없음)
// 돌진 패턴은 사용하지 않습니다.
1-1. 로켓 발사 (이동 없음, 고정 위치)
해당 로켓은 일정시간 범위 내에서 유저를 추적함
이동속도 변환에 제한이 있음

1-2. 로켓 전진 (상하 이동, 빠른 속도)
해당 로켓은 왼쪽으로만 전진

1-3. 직선 충돌 
부들부들 떤 후에(... 힌트를 주기 위해서)
아무렇게나 직선이동 (벽에 부딪히면서)

1-4. 혼란성 총알
플레이어 방향쪽으로 빠르게 4초간 수많은 총알들을 동시에 발사


// 폭주 패턴 (hp 20% 이하)
2-1. 미친듯한 속도로 부들부들 떨어댐, 무작위 방향으로 무작위 로켓 발사
아무렇게나 이동함 (느리지만...)
보스 데미지 15

모든 패턴은 대기시간 존재

페이즈 1
ROCKET_CHASE <- 로켓이 플레이어를 추적함
ROCKET_LEFT <- <- 왼쪽으로만 로켓쏨
ROCKET_MOVE <- 이동하면서 로켓쏨
BULLET_HELL <- 32방향 총알 발사


페이즈 2(hp 20% 이하)
HYPER_MODE = 미친듯한 속도로 충돌증세(벽에 아무렇게나 부딪혀댐)
이 상황이 되면 일시적으로 폭발이펙트가 발생하고 상태를 변경함 (상태 변경 전까지 아무것도 하지 않음)
다른 패턴은 없음


모든 패턴 지속 이후, 다음 패턴까지 2초의 지연시간 존재
패턴마다 지속되는 딜레이가 다름
attackDelay, stateDelay, moveDelay
로켓추적: 공격주기 5, 로켓 6발, 총 4회 반복 = 총 8초, 2초 대기
로켓왼쪽: 공격주기 30, 로켓 3발, 총 8회 반복 = 총 8초, 2초 대기
로봇이동: 이동주기 120, 속도 매우 빠름 = 총 8초, 4초 대기
불릿헬: 공격주기 2, 총알 개체수 16, 총 8초, 

6/8/6/10
각 패턴 사이의 대기시간 2초
중복 패턴 방지를 위해 이전 패턴을 기억함 (세이브로드상태에서는 무효)

이동주기
240/240
y축이동, 랜덤속도

로봇이동 120
불릿헬 0(이동하지 않음)

상태 지연시간 = 8초
상태 대기시간 = 2초

상태가 종료된경우, 대기상태로 변경 (단 hp 20%이상일때만)


1. 로봇이동 -> 부스트방식으로 변경, 로켓 발사 없음
- 벽에 부딪히면 소리남 (방향 무작위로 변경하고, 속도 감소)

2. 불릿헬 -> 총알 발사 방식 변경

3. 로켓 -> 판정 범위 변경, 폭발 범위가 센터로 이동

불릿헬 -> 삼각형으로 하고, +1-1

3, 2
2, 2
2, 3
발사위치만 랜덤, 속도는 고정


보스 패턴 확정
폭발 이펙트 추가
3-1 ~ 3-4 업데이트 / 3-3까지 240, 3-4 300
3-1 ~ 3-3까지만들고 업데이트

3-2 12종류?
1. 전기줄 막대기 (6컬러)
2. 자석 (막대, U) 2종류
3. 에너지 구체 (4컬러)
4. 신규 전투기(3종류) 신규 레이저(2종류)
5. 도형 큐브류 (2 ~ 3종류 추가)

3-3 여러개의 스프라이트?가 혼합된 적들이 등장함
1. 코어연결장치 (3스프라이트)
2. 수석단자
3. 쉴드코어
4.
10종류

3-4 기존 적들만 무진장 나오다가...
60초부터 반전
신규 적들 15종류

3-5 보스 6페이즈 ~ 7페이즈

3-6 타워 적 대량으로 나오고
3-7 3-6이랑 비슷
3-8 신규적들 3종류


1-1 11종류
1-2 10종류
1-3 13종류
= 30종류?

2-1 6 ~8종류
2-3 5종류
2-5 12종류

3-1 20종류
3-2 12종류
3-3 10종류
3-4 12종류
3-5 1
3-6 6종류
3-7 4종류
3-8 0
3-9 0
3-A1 12종류
3-A2 8종류
3-A3 0
3-A4 1 단일 보스전?

라운드 2는 추후에 다시 바꾸고...


3-1 ~ 3-3 그룹1, 그룹2, 그룹3

막대기
자석

도형류: 큐브(입체형), 막대큐브형
전투기류: 일부 추가 (3종류)

3-4 (공허이동, 에너지체, 투명 그라디언트배경) 배경음악도 변경
300초구성
0 ~ 30 기존적
31 ~ 180 신규적
181 ~ 300 혼합


3-2: 막대기, 자석, 헬시리즈 3
헬포: 헬기인데 대포발사...(대포같은놈)
헬파: 파동발사하는 전투기
헬카: 좌우로 미친듯한 속도로 이동함 (상하속도는 낮음) - 바퀴달린 헬기...
도형류: 큐브

3-3: 다수 코어 시스템 (DASU CORE SYSTEM)
혼합적 (여러개의 스프라이트가 동작하는 구조)
코어규격 - 믹서 [] - [] 코어 - 막대기 - 코어
이퀄라이저 - 믹서


3-1 20종류
3-2 10 ~ 12
3-3 10 ~ 12
3-4 10 ~ 12



점수 베이스와 상관관계 / 참고: 보스전은 체력100% = 1초로 간주되지만 일반적으로
이것보다는 빠르게 쓰러짐
라운드 / 시간 / 점수 범위 (이게 대략적인 기준이고, 여기서 10000단위 이상의 차이를 보이지 않으면 또는 20%이상 오차가 발생하지 않으면 거의 비슷하게 적용함)
// 렙업 효율, 1판당 2업정도
1-1 / 150+30(180) / 60000 / 333.333
1-2 / 180 / 70000 / 388.88
1-3 / 210 / 90000 / 428.57
1-4 / 150 / 70000 / 466.66
1-5 / 210 / 100000 / 476.19
1-6 / 150 / 80000 / 533.33

경험치 테이블 1 ~ 10
30000/33000 ~ 60000

// 렙업 효율, 1판당 2업정도
2-1 / 150+20(170) / 90000 / 529.41
2-2 / 170 / 100000 / 588.23
2-3 / 192 / 110000 / 572.91
2-4 / 207 / 120000 / 579.71
2-5 / 190 / 130000 / 684.21
2-6 / 150 / 100000 / 666.66

경험치 테이블 11 ~ 20
80000/82000 ~ 100000

// 렙업 효율, 1판당 약 1업정도
3-1 / 240+40 / 280000 / 1000
3-2 / 240+40 / 280000 / 1000
3-3 / 240+40 / 290000 / 1035.71
3-4 / 300 / 320000 / 1066.66
3-5 / 360 / 420000 / 1166.66
3-6 / 240 / 220000 / 1222.22
3-7 / 210+40 / 220000 / 1222.22
3-8 / 210 / 230000 / 1095.23
3-9 / 210 / 230000 / 1095.23
255500/256000 ~ 260000

3-1 ~ 3-3 다운타워 필드 1,2,3
3-4 다운타워 보이드
3-5 다운타워 안티코어 보스
3-6 다운타워 비밀 통로 (secret passage)
3-7 다운타워 중앙 컴퓨터 (center computer)
3-8 

다운타워 3-1 ~ 3-9
downtower field 1 - 보스 있음
downtower field 2 - 보스 있음
downtower field 3 - 보스 있음
downtower void
downtower anticore boss - 단일 보스전 (필드전 없음)
downtower secret passage
downtower secret computer - 보스 있음
downtower passage
downtower outside wall

tower secret warning area
tower secret




내 게임도 스토리가 있다
1-1 ~ 1-6 우주 여행 관련
2-1 ~ 2-6 동그라미 마을 관련
3-1 ~ 3-3 스토리1
3-4 스토리2
3-5 스토리3
3-6 ~ 3-7 스토리4
3-8 스토리 5
3-9 스토리 6
3-A1 - 스토리A1
3-A2 - 스토리A2
3-A3 - 스토리A3
3-A4 - 스토리A4

스카이랜드 - 스토리3개?
4-1 ~ 4-6

5-1 5-6
5-A1 ~ A4 핑크 워터
5-B1 ~ B4 ??? 마을

1-6
2-6
3-9
4-18
일반던전 -> 강화던전 -> 초강화던전... x 3구조
(30, 35, 40)



33000/60000

33000 + 36000 + 39000 + 42000 + 45000 + 48000 + 51000 + 54000 + 57000


적 리스트
1. 핵심유닛: 막대기 + 전기 - 4
2. 서브유닛: 자석, 전기장, 전극막대 - 4
3. 확장유닛: 이동그린, 이동라임, 이동올리브 (초록색 계열 추가) - 3
4. 도형유닛: 2

이들은 group2로 분류됨

신규 적들 총 6종류
1. towerBar1 ~ towerBar6
타워바, 가로형 막대에 내부 전깃줄이 흐름, 공격력은 4이나, 딜레이가 짧음, 닿을 때마다 전기소리가 남 (그 1-3 jemul enemy의 drill처럼), 다만 이동에 따른 특이한 사항은 없으며, 속도가 1초단위로 미세하게 변경됨
x축 0.5, y축 1.0을 기준으로 1초당 0.1씩 변화 (단 변화하지 않을 수도 있음, 확률은 각각 33%)
변화없음, +0.1, -0.1

바 번호 1 ~ 3은 알고리즘이 같으며, 4 ~ 6은 조금 더 스탯이 강화됩니다. (공격력은 모두 동일)

2. towerJagijang
양쪽 옆에 막대가 있으며, 내부적으로 에너지체가 반짝거림 (초신성 이펙트랑 거의 비슷함)
4방향중 하나로 무작위 전기구체를 발사함

3. towerElec
번개모양의 상자도구, hp가 감소하면 무작위 방향에 전기공격을 시도한다. (총 2번)
기준값 60%, 30% (각각 1회, 세이브로드시 리셋될 수 있음)

4. towerMagnetU
자석, 무작위의 적을 자기 위치로 지정하여 끌어당김, 지정된 적은 무작위로 지정됨 (자기 자신 제외)
자석과 개체가 충돌하면 자석은 그 개체를 끌고다님 (개체가 어떤식으로 이동해도 위치는 고정)
개체의 속도는 변경하진 않지만, 위치가 항시 고정됨
자석이 죽을때까지 적은 이동을 해도 의미가 없음.
버그 방지를 위해서, 이미 마그넷된 적은 마그넷되지 않습니다. 이것은 createId로 구분합니다.
무슨말이냐면, 적 정보를 모두 가져오고, 만약 towerMagnetU, towerMagnetI

마그넷 규칙
1. 무작위 적을 랜덤 선택한다.
2. 해당 적이 죽거나 삭제 대기 상태가 아닐경우, 해당 적의 상태가 마그넷 상태인지 확인한다.
3. 마그넷 상태가 된 적은 다른 패턴을 시도하지는 못하고 (마그넷 상태가 되기 때문에 다른 상태 요소를 감지할 수 없게 됨) 더이상 상태변화가 불가능해진다.

4. 매 프로세스마다 타겟적이 살아있거나 삭제 대기상태를 확인한다.
- 상황에 따라 이를 처리하는 간접 함수가 생성될 수 있음. (코드 정리하면서 만들 지 말지 고민할 예정)

5. 삭제가 된 경우 리셋

6. 자신이 죽은 경우, 타겟되었던 적의 마그넷 상태는 해제된다.
7. 자신이 사라진경우, 타겟되었던 적의 마그넷 상태는 해제된다. (프로세스 맨 끝 부분에 이를 처리하는 로직이 존재)
8. 적의 마그넷 상태가 해제되면 상태값은 비어있다.
상태값이 비어있는 상태에서 추가적인 처리가 만약 없다면, 그 적은 아무것도 하지 못할 수 있음.(이동과는 별개로) (이것은 버그가 아니라, 설계 구조상 그렇게 행동하는것이 맞습니다.)


여기서부터는 전투기계열
1. hellja 헬자 (헬자기장)
일렉트로닉과 거의 동일하지만 플레이어방향으로 발사함 (즉, 해당 총알이 이동함, 일렉트로닉은 총알이 위치 고정)

3. hellpo 헬포 (헬대포...)
대포를 발사한다. 자기 멋대로

4. hellpa 헬파 (헬파동...)
기를 모은 후 (에니메이션이 있음) 자기가 있는 X축 전체영역에 파동발사를 시도한다.
파동은 총알이 아닌 적 내부 객체로 취급됨

6. hellna 헬나? (헬나(가, 나, 다 할때 나?)
무작위 글자 탄환을 던진다. 당연히 이것도 총알...
탄환은 가, 나, 다, 라 까지만 있다. (종류가 많으면 처리가 귀찮음)


여기서부터는 도형계열
도형 변신은 유지되지만, 기존 적들과 다르게 크기가 조금 더 커지며 색상이 밝아진다.
총 3번 변신하고 dps는 60%
기존 도형들의 dps도 변경 예정 (수가 너무 적기 때문)
이들은, upXXX 시리즈로 등장하며, 각 수가 줄어들고, 각 개수가 늘어남
이들의 이름은 cagonXXX식으로 표기되며, 뒤에 숫자는 각 개수

등장하는 각 개수 10 -> 5, 12 -> 6, 16 -> 8, 18 -> 9
// 참고: 이름을 외우기 어려울 수 있어서 뒤에 숫자를 붙일 수도 있음
도형 종류는 총 4 + 1 = 5개
하나는 다각형임, 계는 체력이 매우 많으며 총 4번 변신함.

추가 규칙: 변신할때마다 체력이 약간 증가하고, 밝기가 밝아지며, 크기가 약간 커짐
총 dps는 80%수준 (20% + 20% + 40%)
사운드는 모든 도형이 공통적으로 사용



3-2 구조: 240 + 40(보스 체력은 3-1과 동일, 다만 보스 특성상 타격이 어려워 유도 무기가 없으면 못깸)
그 때문에 초록색 무기는 등장하지 않음.
참고: 당연하게도 3-1에 나왔던 적들이 같이 더 등장함.
3-3은 당연하게도 3-2에 나왔던 적들을 전부 포함함
3-4도 마찬가지
3-5는 필드전이 없음 (오직 보스전만 함)


보스는 가로축 전체를 장악하며, 밑구간에 있을경우 지속적으로 맞다가 죽을 수 있음.
반드시 위에서 세로로 발생되는 전기공격을 피해야함

보스는 서서히 올라오지만, 화면의 절반정도만 올라오고 더이상 올라오지 않음

보스 경고 없이 바로 보스전을 시작함 (보스 경고 자체가 3-1, 3-3 전용임)
3-5도 마찬가지로 보스 경고 없이 바로 최종보스전임



참고: 3-4까지 만든 후, 옵션의 형태가 배경화되도록 조정할 계획입니다. (색 의존 방식을 막기 위해서)
3-2 초반구간
이동적이 한꺼번에 쏟아지다가, 새로운 색의 옵션 아이템이 등장



3-3 신규적 테마: 다수 코어
3-4 신규적 테마: 에너지체
3-6 신규적 테마: CCTV 카메라
3-8 신규적 테마: 파편
3-9 신규적 테마: ?
3-A1 신규적 테마: 로봇
3-A3 신규적 테마: 컴퓨터



다시 3-2로 (프레임은 공통적으로 5프레임)
bar1: 노랑, 에너지가 이동하는 형태(?)
bar2: 라임, 직선교체방식(위쪽은 오른쪽, 아래쪽은 왼쪽)
bar3: 




0 / 1 / 2 / 3 / 2 / 1

3-2 도형
특징: 죽으면 더 밝은색으로 변신함
체력은 큰 차이 없음
단편형과는 다르게 약간 입체형에 그림자가 있음

3-1 도형의 dps를 너프하고, 개수를 증가할 예정
기존 100~110, 150 -> 40~50, 80


사운드 추가
적 종류에 따른 사운드

빛 부서지는거 - 4종류 무작위
이제부터는 헬시리즈를 제외하고 같은 그룹이라면 죽는 소리도 동일하게 처리 예정
(처리해야 하는 사운드가 너무 많아짐)

적 이름 특징 hp
bar1 ~ bar6, 플레이어랑 닿았을 때 연타, 가끔 bar끼리 부딪힐 수도 있음 (그러나 이것조차도 랜덤임)
바는 항상 아래에서 위로 올라옴 (내려가지는 않음, 무한루프로 이동)
바가 죽는 소리는 3종류
hp는 20% ~ 24% 사이 (개체당 20%로 취급됨)
바마다 타격 소리가 다름 (그러나 총 3종류)

jagijang, 중간중간 에너지탄 발사 (그러나 이게 어느방향인지 알 수없음, 간혹 플레이어에게도 발사함)
죽는 소리 필요
자기장 소리 필요
체력 20%

lightnig, 번개가 무작위 위치로 이동하여 영역 공격 (그러나 일정확률로 플레이어한테도 다가감)
영역 공격 직전에 반짝거리며 약간의 딜레이가 있음
영역 내에 닿으면 연타당함
죽는 소리 필요
번개 소리 필요
체력 20%

magnet, 화면 내에 일정시간 동안 존재할 때, 랜덤한 적 하나의 상태를 magnet으로 변경하고, 강제로 끌어당김
해당 적은 magnet상태가 되어 병신이 됨...(알고리즘상 오류가 발생함)
해당 적이 죽으면 다시 랜덤한 적을 타겟함, (딜레이 있음)
자기가 죽을경우, magnet된 적은 '' 아무 상태도 없는 상태로 되돌아감
만약, 적이 '' 상태를 처리하지 못한다면, 그 적은 아무것도 못함 (병신이 됨...)
자석 죽는 소리
자석 당기는 소리
자석 닿은 소리
체력 50%

헬기류: 체력 공통 30 ~ 36% // 30%로 취급
전투기류: 체력 공통 20 ~ 25% // 20%로 취급
이들은 특정한 놈 빼고 공격사운드가 없음
hellla 헬라 (헬라이트) = 노란 총알, 노란 에너지를 혼합하여 발사한다. 발사 방향은 무작위
hellpo 헬포 (헬대포) = 검은색 대포를 쏜다. 발사 방향은 무작위 (대포 발사 사운드가 대포랑 동일)
hellpa 헬파 = 잠시동안 가만히 있다가 총알을 연속적으로 발사한다. 발사방향은 바라보는방향(단 왼쪽 또는 오른쪽)
hellna 헬나 (무작위 이름임...), 돌아다니는게 전부, (헬초같은놈) 다만 갑자기 수직상승을 시도할때가 있다. (y축 가속)

도형 (약간 사운드가 다르나 2종류로 공유함)
hp: 40%, 40%
한번 죽일경우, 더 밝은색의 도형이 등장
첫번째로 죽였을 때, 두번째로 죽였을 때 사운드가 서로 다름
(나머지는 공통)


보스: 보스 경고 없이 갑자기 밑에서 등장
hp: 11000%

패턴: 보스보다 밑공간에는 전부 전기공격 (닿을경우 연타데미지)
그러나 위에는 공격을 안함

보스는 서서히 위로 계속 올라오지만, 그게 끝(...)
시간제한이 있는것은 아니고, 보스는 어느 정도 올라오고 더이상 올라오지 않는다. (약 200px정도 여유를 가짐)
물론 보스 음악도 재생된다.
보스 경고가 없으므로 3-2라운드는 보스 등장 시점이 약간 다름


적 죽는것에 대해서
막대바 = 에너지가 회색화되고, 밑으로 추락함(가속하면서, 동그라미랑 다르게 가속임)
에너지 = 에너지 막대가 파괴된 후(이펙트로 나옴), 에너지가 서서히 소멸함 (약 8프레임?)
번개 = 한겹씩 떨어져나가면서 소멸 (너비가 계속 감소)
마그넷 = 색이 흐려지고(색이 회색조로 변경), 위로 날라가버림
헬기류 = 공통 규격을 따름
도형류 = 공통 규격을 따름




Bar1, Bar2, Bar3, Bar4, Bar5, Bar6
바는 서로 같은 개념으로 동작 (스킨만 다름)
다만 적마다 체력이 다를 수는 있음

기준값: 20%
barRandom은 모든 색이 랜덤으로 지정되어 등장
색이 달라도 패턴은 동일

이동 방식: y축 속도로 마이너스 이동,
일정 시간 간격으로 y축과 x축의 속도가 현재 값에서 0.1 ~ 0.2가 변경됨
느린속도로 가속할 수도 있고 아닐 수도 있음
단 y축 속도는 -1 이상 증가하지 않음


jagijang (자기장)
패턴 느린 속도로 무작위 방향 이동하면서 (기본 세팅 속도 1, 0)
총알 발사
띵... 띵... 띵... 띵... 띵... 띵...


lightning (번개)
이동 방식: 일정 시간마다 플레이어가 있는 위치로 고속 이동
(번개 자체는 충돌시 2데미지)
그 후, 일정시간 대기 후, 반짝거리는 이펙트가 번개 위에 나오더니, 주위를 번개공격
플레이어가 있었던 위치를 추적하는것은 맞지만, 그게 특정 타이밍이라서 유저가 번개의 이동위치를 추적하긴 어려움

이후 무한 반복 (좀 까다로울 수도?)


마그넷 상태에 대해서
attackDelay를 마그넷 딜레이 처럼 사용
(어차피 공격 기능은 없음)

이동 속도는 1, 0
이동한 후에, 무작위의 적을 지정하고, 해당 적이 30프레임(0.5초) 후에도 살아있으면 해당하는 적을 자기 왼쪽으로 끌여들여옴

2초 후에 적이 완전히 붙은 후, 자석은 다시 평소대로 이동함(...)
자석 자체는 상태변화가 없음. 단지 targetObject가 있는지를 지속적으로 확인함
내부 쿨타임 4초

자석에 당한 개체는 강제로 magnet 상태가 됩니다. 적은 여전히 평소대로 행동할수도 아닐수도 (다만 state에 행동이 의존되면 그 적은 병신이됨)

참고: 보스전에서는 자석 소환을 하면 보스가 병신이 될 수 있으므로 자석 적을 생성하지 말 것
참고2: 자석은 꼬리물기를 할 수 없음
참고3: 이미 자석에 당한 적은 무시함
참고4: 만약 적을 찾는데 실패하면 그냥 이동하고 다시 쿨타임


hellla
hp: 헬기시리즈랑 동일(40%)
특징: 노란색 총알 발사, 연타하는 에너지탄 발사 (자체 오브젝트로 처리 - 번개랑 동일)
에너지탄은 플레이어를 추적함

hellpo:
대포가 쏘는 것처럼 대포 발사...
아무 각도나 자유형으로 쏨 (

헬기: 40 ~ 45% // 40%로 처리
헬전: 20 ~ 25% // 30%로 처리
헬바: 30 ~ 35% // 20%로 처리

Hell시리즈에 대해서
각도에 따른 회전 지원 (0 ~ 360도 전부 사용 가능)
다만 종류마다 이 공식은 약간 다를 수 있으며, 회전각은 다음 범위로 계산됨

모든 헬 시리즈는 각도 변경을 지원함 (각도는 atangent로 지원)
changeAngle = 각도 변경 (매 프레임마다 실행)

speedChange = 모든 헬기는 가속, 감속개념이 존재
속도값이 증가 감소량에 따라 변경됨 (이 값은 변수일수도, 상수일수도 있음)
단, 절대값으로 적용(음수 무시)


minMultiple moveSpeed 추가 예정
setMoveSpeedChaseLine(divValue, minSpeed)


이동속도x + 변화 가중치 < 목표속도 -> 속도 증가
이동속도x - 변화 가중치 > 목표속도 -> 속도 감소


// 3-3까지 bgm 동일
// 3-4는 다름
// 라운드 3-2
// 30초 구성 단위 페이즈

0 ~ 30: 신규 적 등장 페이즈
31 ~ 60: 신규 적 등장 페이즈
61 ~ 90: 기존에 나왔던 전투기 + 레이저 혼합
91 ~ 120: 신형 전투기 대거 등장
121 ~ 150: 신규 도형 등장
150 ~ 180: 바 + 혼합?
180 ~ 210: X, I 또 등장... 그리고 온갖게 섞여나옴
210 ~ 232: 보스 직전 개판 5분전게임, 중간에 타임스탑 있음(230초)
233 ~ 237: 보스 진행 (경고 없이 바로 보스전)


// 적 체력 재구성
// 옵션: 100 ~ 200% 옵션 파워를 3단계 기존 5단계 폐기
데미지가 조금씩 상승하도록 변경

// 밸런스 수정 (적 체력 대폭 감소, 적 수 대폭 증가)
약 50 ~ 60마리 넘어가게끔 수정
3-1은 밸런스적으로 재배치 될 예정임

점수 범위: 약 22만 ~ 24만, 필드 클리어 점수 약 3만
총합 약 27 ~ 30만 사이
레벨 필요 경험치 약 25만

0 ~ 8: 새로운 파워업 (검정, 핑크) 등장
보라 - 패치 예정(... 내가 생각한것중 가장 개같은 무기임)

보라색 -> 전방 리플렉트 유도

7. 카키
하단 역장형

밸런스 수정
3-1 ~ 3-5
초록색 - 전방만 공격하도록 변경
보라색 - 전방을 우선 공격 후, 오른쪽 화면에 부딪히면 적을 추적하도록 변경 (단 1회성)
추적하지 못하면, 그냥 전방으로 넘어감

라운드 3-후반부터, 다른 공식으로 필드를 적용할 계획이 있음.
단, 지형은 라운드 내부에서만 판단 (개체와 지형이 충돌하면 해당 개체의 위치를 변경하도록 처리)



적 밸런스 수정 - 체력 대폭 감소, 등장 빈도 대폭 증가
// dps 기준 변경 (200%가 맞긴 하지만, 회피 불능의 문제 때문에 180% 전후로 변경 예정)
3-1/movement
moveBlue = 4%
moveViolet = 4%
moveDarkViolet = 4%
moveYellowEnergy = 10%

3-1/special
sandglass = 40% (화면 안에 강제 위치하도록 변경)
tapo = 20% (등장 개체수 조금 더 증가)
punch = 10%
daepo = 10%

3-1/hellair (hellgi류 20%, 나머지 10 ~ 15%의 사이)
hellgi = 40% -> 20%
helljeon = 25%? -> 10%
hellcho = 10%
hellgal = 12%
hellba = 12%

3-1/laser
laserAlpha = 100% (변경 없음)
laserMini = 10%, 11%

3-1/square (단, 도형의 등급에 따라 약간의 차이가 있음)
all figure = 40%
20% -> 20% = 40%
도형이 변경될때 크기가 감소하지만, 감소하는 크기의 값이 감소
기존 100% -> 50%, 현재 100% -> 80%

3-1/X, I, gasi
X: 20%
I: 40% (크기 증가가 최대 150%까지만 증가)
gasi: 4%, 속도 감소, 개수 증가

3-1/ bossRobot
원래 60초분량을 계획했었으나 폐기하고 30초구성으로 변화
참고: 보스전은 기준값에 1.2배를 더합니다. (딜 구조상 필드전보다 딜누수가 적기 때문에)
따라서 총 hp: 3000% x 2 x 1.2 = 7200%

3-2/bar
bar: 10%

3-2/special
jagijang: 40%
lightning: 20%
magnet: 50%

3-2/hellair
hellla: 22% (hellgi보다 약 10%더 쎄짐)
hellpo: 22%
hellpa: 50% (대신 개체수는 적음)
hellna: 14% (다른 시리즈보다 약간 더 쎔)

3-2/figure (단 도형에 따라 약간의 차이가 있음)
shadow: 20%
light: 20%
죽인다고 크기가 달라지지는 않지만, 더 밝은색의 도형이 나옴

3-2/bossBar (보스로봇이랑 체력 동일... 그런데 패턴이 뭔가 없지마 bar라서...)
총 hp: 3000% x 2 x 1.2 = 7200%


초록색 옵션은 더이상 후방공격을 하지 않습니다.
모든 옵션은 정해진 개수만큼 생성하고, 함수를 통합함.
카키색 옵션 추가하고, 3-2부터 등장

3-2 부터는 모든색? 이 등장하지만, 구간에 따라 옵션은 다르게 배치됨
대체로 구간마다 1종류 ~ 3종류가 나오며, 상황에 따라 적절한 옵션을 선택하는것이 아마도 좋음.(아마도...)


옵션은 내부적인 레벨이 존재하며, 일정 레벨 단위로 무기의 공격 형태가 변화함(아닐수도 있음)
진화 단계
데미지 레벨로 2중 구성

데미지 레벨 - 진화단계
진화단계는 4단계 구성
0/1/2/3/4/5/6/7/8/9
0/0/1/1/2/2/2/3/3/3

데미지 레벨별 총 데미지 합산량
10%/12%/20%/24%/40%/48%/56%/80%/90%/100%
setLevel은 damageLevel로 처리합니다.
데미지 레벨은 일정 시간이 지나면 자동으로 증가합니다.
(10초당 1씩 증가)
옵션을 획득하지 않더라도 증가합니다.
다만, 간혹 특정 구간에서는 옵션의 레벨이 강제로 설정될 수 있습니다.
최종적으로 90초가 지난 시점에서는 옵션은 최대레벨이 됩니다.
옵션 아이템 획득 개수와는 상관이 없습니다.

원래는 적을 죽여서 경험치를 얻게 할 까 고민을 해보았으니 구조적으로 구현이 어렵기 때문에
(게임 구조상 적이 직접 플레이어의 점수를 올려주는 구조라, 중간 단계가 존재하지 않습니다.)
(그리고, 라운드에서 그걸 처리할 권한이 없습니다.)
이 부분은 생략

파워업 개념은 결국 도입되지 않았지만(아마 다른라운드에서 도입될듯)
라운드 3은 옵션을 같이 사용하는 개념으로만 변화

적 밸런스 수정 예정
점수량 감소 = 80%수준으로 변경



0 - this.y
1 - this.y + (height / 2), this.y - (height / 2)
2 - this.y + (height / 2) + (height / 2), this.y, this.y - (height / 2) - (height / 2)

0
-1 1
-2 0 2
-3 -1 1 3
-4 2 0 2 4

baseNumber = 0 - Math.floor(count / 2)
c1 = 0
c2 = -1, + 2
c3 = -2, + 2

c = -count + (i * 2)

c1 = 0
-count + 1

-4 + 1
-3, -1, 1, 3



3-1
이동류 4%, 10%
특수류 20%, 40%, 50% (종류별로 다름)
헬기류 40% ~ 44%, 20% ~ 24% (종류마다 다름)
도형류 약 40% ~ 60%(20% + 20%) // 50%로 간주
X: 20%, I: 50%, gasi: 2%
보스체력: 30 x 2 x 1.2 = 7200%

3-2
바류: 20%
헬기류: 기존과 동일
도형류: 기존과 동일
특수류: 기존과 동일
보스체력: 30 x 2 x 1.2 = 7200%

3-1
페이즈 1
0 ~ 8 옵션 등장
9 ~ 13 이동적1
14 ~ 18 이동적2
19 ~ 22 이동적3
23 ~ 26 이동적4
27 ~ 30 이동적5


페이즈 5 (모든 적 혼합 패턴 1)
+0 ~ +12 전투기가 선으로 등장, 헬전, 헬기가 지속적으로 나옴
(헬바, 헬갈, 헬초는 랜덤)
dps 100%

+11 ~ +18 이동 적 패턴 대거 등장
dps 40%

+13 ~ +21 도형 혼합
dps 100%

+0 ~ +12 레이저 미니 지속적으로 등장
dps 20%

중간중간 기습적으로 헬기, 헬전 출현


보스체력 10000% 3-1 (40초)
보스체력 10400% 3-2



버그 수정: fade, collision 수정



3-2
0 ~ 30 bar
30 ~ 60 



라운드 3-3 / 240
페이즈 구성은 동일

신규 적: 약 10종류?
핵심 테마: 다수 스프라이트

boss: DASU CORE SYSTEM
다수 코어 시스템 (...)

3-3: 핵심 테마: 다수 코어

신규 코어
1. 단일 코어 - 단순한 총알 공격
2. 에너지 코어 - 에너지 파동을 특정 방향으로 발사
3. 스퓨 코어 - 밑쪽에 튕겨지는 에너지체를 발사
4. 사리에트 - 영역단위로 탄막공격

신규 전투기
헬코: 코어가 장착된 헬기
헬다: 레이저 연사 헬전투기

신규 함선
3조합: 비행포
4조합: 비행포라이트
5조합: 비행포파이브

참고: 다중 코어 조합이여도 적은 1개체로만 취급됨.
hp에 감소비율에 따라, 내부 구조가 파괴되게끔 유도할뿐

특수 조합



코어계열: 6종류
팔각

함선계열: 3종류 ~ 4종류 (코어류는 함선이 장착할 수도 있음)
함선에 코어가 장착된 대로 생성되지는 않습니다.

함선은 무작위의 코어를 지정하며, 해당 코어의 공격력을 제거하고(충돌 데미지 방지)
자기쪽으로 끌고옵니다. 


스타계열:

보스: 다수 코어 시스템 (참고: 적은 1개체지만, 스프라이트를 많이 사용함)

240초구성

0 ~ 30: 코어계열
31 ~ 60: 전투기 계열
61 ~ 90: 전투기 + 함선 (서로 비중이 변경)
91 ~ 120: 스타계열
121 ~ 150: 특수 총집합
151 ~ 180: 도형 + 코어 + 전투기

팔각, 분초,
팔각형, 시계형태, 


코어: 속성강화
함선:

core: 부품, ship 또는 star가 장착 가능 (hp 각각 10%)
ship: 함선, 1초마다 core가 있는지를 확인하고, 해당 코어가 아무런 상태도 없다면 해당 코어를 흡수시도
star: 스타, 1초마다 다른 star가 있는지를 확인하고, 다른 스타가 있으면 연결(등급상관없이)
special: 3-1 ~ 3-2적들이 중간중간 나옴

코어는 일괄 hp: 10%, 단 hp코어는 50%
함선은 일괄 hp: 40%
스타는 종류에 따라 hp: 40%, 50%, 60%이고, 50%가 기준값

함선이 코어를 장착한경우, 코어는 사망하고(다만, 이때 죽음 이펙트를 제거하여 사용자입장에서는 죽은것처럼 보이지는 않음, 이것은 점수 밸런스를 유지하기 위한 정책임), 함선은 코어의 능력을 획득함

코어가 magnet된경우, 해당 코어를 흡수하지 않음.
(오직 상태값이 없어야 흡수할 수 있음)

흡수되는 코어는 상태가 ship이 됨, 그런데 그 코어의 상태가 중간에 magnet된 경우, 함선은 해당 코어를 잃어버림
(우선순위는 마그넷이 더 높음. 이것은 만일에 대한 버그방지임)
십은 장착 직전까지 해당 코어가 ship인지를 주기적으로, 장착하기 직전에 확인함

하나 이상의 코어가 장착된 상태에서는 더이상의 추가 코어 장착은 없음.
함선이 파괴되면 장착되었던 코어는 같이 사라짐(사실, 이미 코어는 장착된 순간에 죽은거라서 의미는 없음)

코어가 함선에 흡수당하지 못했다면, 해당 코어는 그냥 그상태로 떠돌아다님, 다만 10초가 지나면 원상태로 되돌아옴


함선의 상태
- 'coreNormal' -> 'coreAccept' -> 'coreEquip'
다만, 중간에 마그넷 된경우, 그 함선은 바보가됨... (왜냐하면 '' 상태를 처리하지 않기 때문)
마그넷은 버그 방지를 위해, 일부 적들의 로직을 망가뜨릴 수도 있음 (아닐 수도 있고)

코어 종류 (코어도 자체 공격기능이 있지만, 발사간격이 무려 10초임)
코어의 겉 생김새는 원, 팔각, 사각형 형태로 되어있음
참고: 팔각, 클락을 제외하고는 따로 적 id가 지정되어있지 않습니다.
(다만 코어를 구분하는것은 subType === towerEnemyCore로 구분함)
1. 팔각: 8방향으로 총알을 발사하게 됨
2. 무지개: 색색별 총알이 대량으로 발사됨 (이 버전 이후부터 총알은 towerEnemyGroup1로 이동될 것입니다.)
(참고: 모든 함선은 BASE_ATTACK이 있고, 이 값을 기준으로 공격력을 재정의함)
6. 포션: 해당 개체의 최대 체력과 현재 체력이 기준값에 50% 증가합니다.

함선 종류
1. 미니 함선: 크기가 작으며 1개의 코어만 장착가능, hp 50%
2. 빅 함선: 크기가 크며 3개의 코어까지 장착가능, hp 100%
3. 크레이지 함선: 크기가 미쳤으며, 코어를 8개까지 장착가능, hp 500% (중간보스로 취급됨)
함선과 코어는 같이 등장하게끔 유도됨


// 참고: 적들은 총알 발사를 대부분 랜덤으로 하므로, 적이 많이 쌓이면 넌 총알을 못피하고 죽음
스타, 스타는 스타끼리 합쳐지고, 합쳐졌다면, 두개가 서로 붙어다니고 공격이 강화됨
스타의 공격력은 모두 동일, 체력도 모두 동일
그러나, 스타의 개수마다 총알 발사 개수가 서로 다르며, 스타의 개수가 많으면 많이 발사함

스타 체력 80%, 80%, 80% 모든 스타 동일

스타가 합쳐진 경우
스타는 연결(chain)상태가 되며, chain이 된 경우, 서로 붙어다니며 공격속도가 2배가 됩니다.
따라서, 합쳐지지 못하게 막아야 합니다. (체력은 증가하지 않음)
합체되는 대기 시간은 약 6초입니다.
(합체되면, 반짝이는 이펙트가 등장함, 그리고 서서히 붙음)

중간에 한개체가 죽을경우 합체는 취소됨
합체 대기시간 5초



자석 너프: 이제 자석은 상태값을 가지지 않은 적 상대로만 마그넷을 할 수 있습니다.
정확한 이유: 말도 안되는 버그 미리 막기

조만간 필드데이터에 대한 세이브 데이터 확장 개체를 추가할 예정
saveString = 문자열만 사용 가능, JSON으로 변환해도 상관없음
saveObject = 저장될 때는 JSON으로 변환되고, 불러올때는 객체로 변환됨


fakeBoard // 가짜 함선
함선 모양이지만, 코어 슬롯이 없습니다.
대신 유저에게 총알을 쏘며 방해함


페이크적들, 대체로 체력이 많음 (가짜코어 20%, 가짜쉽: 100%, 가짜스타 80% - 얘만 동일)
fakeShip: 가짜 쉽, 코어를 장착할 수 없으며 속도가 매우 빠름 (공격속도는 매우 느림)
fakeCore: 가짜 코어, 함선은 절대로 장착하지 않으며, 가만히 있다가 유저를 추적하기 시작함 (30frame간격마다 확인, 내부 대기시간 6초, 생성되면 화면 랜덤한곳에 이동하며, 6초 후에 유저 추적 시작)
fakeStar: 가짜 스타, 어느 누구와도 합쳐지지 않음, 그대신 공격력이 쎔(체력은 동일)

특수적은 안나옴


3-3 구성/ 총 9페이즈/ 240초


3-4구성 핵심 유닛들: 에너지코어 / 300초/ 보스전 없음
에너지 발사체 그 자체 (3-2의 자기장과 비슷함)
신규적은 60초 구간부터 등장함
신규적 총 10종류정도 추정

3-5 보스전/필드전 없음/360초
3-6 필드전/240초
3-7 필드전 + 보스전/180초
3-8 필드전/240초
3-9 필드전/240초


towerGroup3
corePal: 팔각 총알 발사 (자체적으로도 총알을 발사함)
corePotion: 주기적으로 hp 회복(5초에 10%)
coreMetal: 코어 내부 체력 증가(100%)
coreShot: 빠른 속도로 총알 발사
coreRainbow: 색색형 총알 발사
coreBrown: 갈색 코어(별개 다 있음...)

모든 코어는 자체적으로 내부 체력값을 가지고 있음.
함선은 코어를 장착할 수 있으며 (다만 내부적으로 코어를 죽여서 장착하는 방식을 사용함)
기본 코어 hp: 20% (상당히 높은편)
기본 코어 공격력: 10

코어 체력 예외: metal: 100%


함선
shipNormal: 보통 크기, 2개의 코어 장착 가능, 체력 200%
shipBig: 대형 크기, 4개의 코어 장착 가능, 체력 400%
함선은 시간이 지나면, 화면 안에 있는 코어의 상태를 강제로 변경하고 랜덤으로 흡수함
(단, 상태값이 다른 코어를 흡수하지 못함)
코어 흡수가 완료되면, 코어는 사망하고(대신 사망 직전 이펙트를 제거함, 코어는 죽음 처리되므로 유저의 점수도 상승함), 코어가 가지고 있는 체력만큼 코어를 추가함
코어의 장착가능 개수는 정해져있고, 초과 장착은 불가능
함선 공격력: 15


스타
starOne: 별 모양, 작은 크기, 같은 스타 2개가 융합하여 starTwo로 진화
starTwo: 별 모양, 중형 크기, 같은 스타 2개가 융합하여 starThree로 진화
starThree: 직접 생성되지 않음, 대형 크기
starFour: 별 모양, 대형 크기, 다른 스타를 흡수하여 자신을 회복(일정 체력 이하일때만 발동, 2회 제한)

스타 등급별 체력, 20%, 40%, 80%, 160%
스타 등급별 공격력, 10, 11, 12, 13
스타 등급별 크기 40x40 -> 80x80 -> 160x160 -> 240x240
스타는 등장한지 2초 이후에 무조건 다른 스타랑 융합을 시도함

스타 자체는 공격기능이 없음 (단지 합쳐짐)
같은 등급이 없다면 합쳐지지 않음


참고: 이제 적의 상태에 영향을 끼치는 적들은 구조적으로 다른 버그를 막기 위하여 '' 공백상태가 아닌 이상은 접근하지 않음 (state값이 ''이여야만 상호작용을 할 수 있음. 엄밀히 따지면 상호작용이 아니라 일방적용이지만...)


페이크 적
fakeShip: 딱봐도 슬롯이 없고 대신 FAKE 라는 글자가 보임. 이 적은 짝퉁이며 그 외에는 함선과 동일
체력은 200%
fakeCore: 가짜모양의 코어 (어떠한 함선과도 상호작용하지 않음. 그냥 장식)
fakeStar: 별모양인데 무언가 비뚤어져있음. 어떠한 star하고도 상호작용하지 않음. 그냥 장식


에너지 적 (3-4 에서만 등장)
energy1: 소형 에너지, 유저를 랜덤한 시점에 느린 속도로 추격함, hp: 10%, 개수 매우 많음
energy2: 중형 에너지, 유저를 랜덤한 시점에 중간 속도로 추격함, hp: 15%, 개수 중간
energy3: 색상 변경 에너지, 무작위의 방향으로 중간 속도로 이동, hp: 20%, 개수 중간
energy4: 흡수형 에너지, 꽤나 빠른속도로 이동, hp: 20%, 개수 적음


클락 적 (3-4 에서만 등장)
clockWatch: 시계, 시계가 돌아가며 일정시간 후, 폭발공격을 시도함, 대기 시간 10초, hp: 100%
clockTower: 시계탑, 시계가 돌아가며 일정시간 후, 유저방향으로 총알을 대량 발사, 대기 시간 10초, hp: 200%
clockPotion: 시계포션, 시계가 돌아가며 일정시간 후, 체력을 전부 회복함, 대기 시간 10초, hp: 40%


여기까지가 towerGroup3임

towerGroup4는 3-5 ~ 3-8까지일듯?
3-9는 신규 적 없음

towerGroup5는 3-10 ~ 3-12일지도...



star: yellow -> white -> cyan -> blue
체력: 20%, 40%, 80%, 160%
데미지: 4, 8, 16, 24

스타
페이크
//그룹3
클락
에너지
//그룹3


페이크 적
특징: 거짓이라는 글자가 대놓고 쓰여져있음. 원래 그룹과는 완전히 이상한 동작을 함. 원래 그룹과 모양은 비슷하지만 뭔가 이상함.
핵심: 하나같이 뭔가 이상하고 어이없음.

1. fakeBar: 바는 바인데 FAKE글자를 날림(...) 게다가 동그라미가 아닌 FAKE글자인 네모임...
2. fakeHellgi: 헬기는 헬기인데 옆에 fake가 써져있음. 날개와 다리가 없고 직선임(...) 속도가 지 멋대로이고 나머지는 bar랑 동일
3. fakeFigure: 불규칙 모양
4. fakeCore: 코어는 코어인데 글자가 FAKE... 심지어 아무 기능도 없음. 웃긴것은 가끔 함선이 이 코어를 장착하고 아무 효과도 받지 않을 수 있음. (함선은 코어를 랜덤으로 타겟함)
5. fakeShip: 함선은 함선인데 코어자리에 대놓고 fake를 써놈. 그래서 아무 코어도 못받음. 그런주제에 이동속도는 엄청빠름
6. fakeStar: 별모양이 찌그러져있음. 그래서 다른 별들과 합쳐지지 못함. 그냥 떠돌이임.
// 2-3

3-4
클락 적 (모래시계는 해당되지 않음)
특징: 시간에 따른 차등형 공격, 그리고 제한시간이 초과되면 필살기가 나옴. (피할 수 없음, 데미지 부족하면 넌 죽게됨)
시계바늘의 위치 또는 시계의 숫자에 따라 패턴 차등적용 (다만 4종류까지 최대)
초반: 공격 없음
중반: 총알 공격을 시도함
후반: 폭발 공격을 시도함
극후반: 광역 공격을 시도함 (플레이어에게 매우 치명적임, 따라서 오래 살려두면 안됨)

subType - digital, analog

디지털계열
clockDigital
clockPotion
clockWatch

아날로그계열
clockAnalog
clockGrandfather
clockAlram


에너지 적 (3-1, 3-2에 출현하는 적들과는 별개)
특징: 에너지 총알을 발사하며, 닿을때마다 지속적으로 데미지를 받음
등급별로 색이 다르고, 크기도 다르고 공격주기도 다름 (크기가 작을수록 위험함)

에너지체1
에너지체2
에너지체3
에너지체4
에너지체5
에너지체6

특이한것은, 별이 클수록 약함(체력은 서로가 엇비슷함)
energyA - 작은 별, 매우 강력함, 더 빠른 지속피해
energyB - 작은 별, 강력함, 빠른 지속피해
energyC - 중간 별, 중간 정도, 중간 지속피해
energyD - 조금 큰 별, 중간 지속피해
energyE - 큰 별, 중간 지속피해
단, 별이 가려지는 경우도 있어 별을 피하기 어려울 가능성이 높으므로, 실질적인 데미지는 높게 설정되지 않습니다.
(이 에너지는 따로 애니메이션이 존재함)

star랑 색 구조는 대략 다르고 색 순서로 세기는 다음과같음
빨강 -> 핑크 -> 보라 -> 파랑 -> 하늘
순으로 강해짐


3-5 7페이즈 

dungeonScript ->
changeDps ->




core: 8, potion, metal, shot, rainbow, brown
core의 hp는 50% 동일
코어는 같은 종류를 중복하여 장착할 수 있음. (최대 제한 개수는 상관없지만, 중복이면 2중첩까지만 가능)
8 = 8방향으로 총알을 발사, 주기 6초, 2단계 4초
potion = 실시간 체력 회복, 주기 = 2%당 1초, 2단계 4%당 2초
metal = 최대 체력/현재 체력 증가 = 100%씩 증가 / 최대 200%
shot = 자기가 이동하는 방향으로 발사 = 주기 3초, 2단계 2초
rainbow = 갑작스런 이동속도 증가 = 기존 2배, 3배
brown = 자가복제 (죽을경우 브라운을 생성, 브라운은 재생성되지 않음, 코어 장착 상태일때만 유효)

ship = 함선 (함선은 코어를 장착 가능)
shipA = 중형 hp 500%
shipB = 대형 hp 1000%
코어 장착 알고리즘은 만들면서 테스트
코어가 장착되면 40%hp를 추가하고, 

star = 삭제 (유니크로 변경하고, 노란색 작은별만 허용)

fake = 각 시리즈의 거짓된 적들 (주요 특징은, 모양이 이상하고, 무언가 엉성함, 기능을 써도 올바르게 동작하지 않음)
fakeMove (지 멋대로 이동함. 규칙이 없음.)
fakeBar (fake 글자를 이동시키는 이상한 바...)
fakeHell (가짜 헬기라 모양이 이상함)
fakeCore (대놓고 FAKE 써져있음. 장착은 되지만 아무 의미가 없음)
fakeShip (대놓고 FAKE 써져있음. 그런데 코어를 흡수못함? 그런데 의미가 없음?)

clock = 시계 적 (3-4에서 출현)
energy = 에너지 적 (3-4에서 출현) = 모든 적은 effectdexturemake로 만듬 (색만 다름, 크기는 동일)


analog: 아날로그 시계
digital: 디지털 시계
시간에 따른 패턴 발생, 시간이 많이 지날수록 시계는 점점 강해짐 (빨리 죽여야함)
그런데 체력이 많음...

시계 1단계
analog: 아날로그 시계
digital: 디지털 시계
체력: 400%

시계 2단계 (중간보스 인것처럼 느껴질거지만, 보스는 아님)
grandfather: 괘종시계 (아날로그 강화판)
체력: 1000%

시계 초침과 분침은 따로 이미지가 구성되어있음. = 모든 시계가 공유
디지털은 숫자값이 따로 이미지가 구성되어있음. (대충만들거지만...)


energy: 모든 적이 공통적임. 색만 다름. (회전프레임 총 10개)
다만, 파란색 계열은 더 회전속도가 빠르고, 더 공격력이 높고, 이동속도도 빠름 (대신 공격력이 낮음)





3-1: move, figure, hell, unique x 6, boss: boss robot
3-2: bar, unique x 4: boss: bossBar(no name)
3-3: ship, core, fake, unique x 1, boss: dasu core system
3-4: clock, energy
3-5: only boss (anti gaurdian system)
3-6: camera, mujeongi
3-7: not new enemy
3-8: destroy bupum
3-9: not new enemy

3-10: robot, lever, switch
3-11: juewe, stone
3-12: spectrum
3-13: cpu

3-1 ~ 3-5 다운타워 초반부
3-6 ~ 3-9 다운타워 후반부 -> 3-8까지는 클리어 해야, 4라운드 진입 가능
3-10 ~ 3-13 다운타워 시크릿 구간

4-1 ~ 4-6: 각 6개의 지역을 이동하는 이동 스테이지, 이 스테이지들을 클리어 해야
특정 구간에 진입이 가능

4-11 ~ 4-16 (폭포 -> 바다 구간)
4-21 ~ 4-27 (동굴 -> 산 구간)
4-31 ~ 4-38 (초원 -> 지하 구간)
4-41 ~ 4-58 (몬스터 파티 구간)
4-61 ~ 4-72 (전이 타워 구간)
4-81 ~ 4-97 (하늘 -> 구름 구간)

5-1 ~ 5-6 중간도시
5-11 ~ 5-19 핑크 워터 월드
5-21 ~ 5-29 클로즈 탑 월드

6-1 ~ 6-4 대류권/빛이 비추는 공간

후반부
7-1 ~ 7-8 마운티스, 동굴대륙
8-1 ~ 8-6 대륙
9-1 ~ 9-4 코어 구간



라운드 1 ~ 2: 초반 구간
라운드 3: 다운타워, 강화 기능 추가
라운드 4: 스카이 랜드, 인첸트 기능 추가
--- 여기까지 초반구간 ---
라운드 5: 중간도시, 부품 강화 추가
라운드 6: 대류권
라운드 7: 마운티스, 에너지 강화 추가
--- 여기까지 중반구간
라운드 5A: 신장비 파밍
라운드 5B: 신장비 파밍
라운드 8: 신장비 파밍
---
라운드 9: 마지막 라운드
라운드 10은 없습니다.
그 다음부터는 EX1 식으로 분류됨




figure: 적 수 채우기 용도(... 농담이 아님)
hell: 전투기, 적을 공격하는 용도 (참고로 여기서 적은 플레이어를 뜻함, 적 입장에서의 적이 플레이어임)
fake: 가짜 시리즈, 무언가 짝퉁들...
energy: 엄청난 체력으로 플레이어의 생존공간을 압박함 (못피하면 죽음... 그런데 공간이 부족해서 못피함... 데미지 부족하면 으앙 죽음)

star: 랜덤하게 회전하며 돌아다님. (끝)
예전엔 합체 패턴을 생각했었으나, 다른 적들까지 포함하면 너무 복잡하여 취소함.
스타는 이제 unique로 처리됨





core = 6종류
파괴 이펙트: 서로 동일 (fake 제외)
파괴 사운드: 8, metal, shot, brown 들은 동일, potion, rainbow은 서로 다름

ship = 2종류
파괴 이펙트: 폭발형 이펙트 (서로 동일), 다른 고유한 것 사용
파괴 사운드: 서로 다름

star = 1종류
파괴 이펙트: 이미 만들어놈
파괴 사운드: 미정

fake = 5종류
파괴 이펙트: 기존걸 따라함, 다른 고유한 것을 사용하지 않음
파괴 사운드: 무언가 단음적인 것들

clock = 3종류
파괴 이펙트: 내부파괴형? (10프레임정도?)

보스 = 3-1, 3-2, 3-3에서만 출현
3-1 보스로봇, 미사일만 미친듯이 발사 (충돌은 제거하고, 폭주 구간을 상향하기로 함)
20% -> 30%

3-2 = 보스바 (게임상에서는 보스취급이지만, 보스경고도 없고 그냥 나오고 체력도 없고 패턴도 없음)
맞으면 띵 소리와 함께 위로 튕겨짐 (이동만 영향을 받음)
(시간내로 못죽이면 쳐맞다 죽을 수 있음.) = 보스 체력 너프 예정

3-3 = 다수 코어 시스템 (DASU CORE SYSTEM)
무언가 눈 같은것(그 1-3, 2-4 ~ 2-5 보스)이 여러개의 연결 코어를 조종함
연결 코어는 공격할 수 없지만, 보스에게 데미지를 줄 때마다 코어가 자동적으로 파괴됨
(내부적으로는 한개의 객체 취급이라 이런것. 다만, 코어는 공격판정이 있으니 주의)

패턴은 따로 없지만, 다수 코어는 지속적으로 유도총알과 난수총알을 섞어서 발사하기 때문에 가능한 한 빠르게 파괴해야 하며, 다수 코어들은 일정 거리 간격 내에서는 자유롭게 이동할 수 있다.

모든 코어가 파괴되면 폭주 패턴이 나오고, 2-4에서 했던것처럼 미친듯한 반사총알을 발사한다.


다운타워 시간 조정
이젠 모든 라운드가 가능하다면 4분 이내로 진행되게 변경될 예정

라운드 시간 기준점
최소 시간: 120초 (이 미만으로 내려갈 수 없음, 아직까지 120초 라운드는 없음)
참고: 이 시간은 보스전을 고려하진 않음, 보스전은 30초, 60초 두 종류만 존재

평균적인 라운드 시간: 180초 ~ 210초 사이
다운타워 = 240초 -> 200초로 변경 (보스 등장시간을 고려해 필드전은 180초 기준임)
180초 + 보스 등장 20초 + 보스전 40초 = 240초

시간이 조금씩 다른 이유는 보스 등장 시간 때문
3-1: 200 (보스전 체력 8000%, 60초 기준)
3-2: 200 (보스전 체력 4000%, 30초 기준)
3-3: 200 (보스전 체력 12000%, 80초 기준)
3-4: 240 (필드전)
3-5: 360 (라운드 3 최종보스)

3-6: 180
3-7: 150 + 보스전
3-8: 180
3-9: 150

아마, 특정 라운드가 아닌 이상
일반적인 필드전의 길이는 180초가 기준이 됩니다.
가능하다면, 한 판에 5분이상 소요되지 않도록 조정할 예정 (일부 특수 라운드 제외)

던전 밸런스 -> 3-9까지 만들고 재측정에 돌입할 예정 
(전반적으로 길이가 늘었던, 던전들의 길이를 축소시킬 계획)
(아무리 긴 던전이여도 종합 240초 이상을 초과하지 않도록 변경 예정)
(보스전을 포함할경우, 210초가 최대 한계)
일부 스테이지는 연출, 기타 등으로 10초단위로 떨어지지 않을 수 있음.

기본 시간 결정 (일부 라운드에서는 적이 남아있을경우 진행 불가, 해당하는 구간에 도착하면 남은 적 수를 표시함)
보스 체력은 기존 dps의 150% 보다 높습니다.
30초보스 = dps의 4000% (x1.33)
40초보스 = dps의 5000% (x1.25)
60초보스 = dps의 10000% (x1.36)
// 50초보스는 없음
모든 보스는 30초 아니면, 40초입니다.

1-1 150 + 보스전
1-2 180
1-3 210 (조만간 너프 예정)
1-4 150 
1-5 210 (180으로 너프 예정)
1-6 152 + 보스전 (보스전은 초반에 있음)

2-1 150 + 보스전
2-2 170
2-3 192
2-4 207 (후반 연출, 맵 이동때문에 클리어 시간이 이렇게 설정됨)
2-5 200 (후반 패턴을 변경할 예정, 라운드 클리어 직전에 동그라미가 뛰어노는 연출을 추가)
2-6 150

레벨: 20 ~ 25
3-1 240 -> 180 + 보스전(보스전 할당 시간은 60초)
3-2 240 -> 180 + 보스전(보스전 할당 시간은 60초)
3-3 240 -> 180 + 보스전(보스전 할당 시간은 60초)
3-4 240 (보스전 없음)
3-5 360 (다운타워 파트의 최종 보스)

레벨 20 ~ 25
다운타워 1 / 20
다운타워 2 / 21
다운타워 3 / 21
다운타워 공허 / 23
다운타워 안티가디언 보스 / 25

레벨 25 ~ 28
다운타워 코어 내부 / 25
다운타워 코어 중앙실 / 25
다운타워 통로 / 26
다운타워 외벽 / 26
마을로 돌아가는 길 / 28

레벨 29 ~ 32
다운타워 공장 1 / 29
다운타워 공장 함정 구간 / 30
다운타워 공장 레버 강벽 / 30
다운타워 공장 컴퓨터실 / 31
흑마신의 비밀 연구소 / 32

3-6 180 다운 타워 코어 내부
3-7 193 다운 타워 코어 탐험
3-8 180 
3-9 165
3-10

3-11
3-12
3-13
3-14
3-15

라운드 1
1-0 / 1
1-1 / 2
1-2 / 2
1-3 / 4
1-4 / 4
1-5 / 6
1-6 / 8 (6개중 4개를 클리어 하면 레벨 10이 됨)
2-1 / 10
2-2 / 11
2-3 / 12
2-4 / 14
2-5 / 15
2-6 / 16 (6개중 4개를 클리어 하면 레벨 20이 됨)
3-1 / 20
3-2 / 20
3-3 / 20
3-4 / 22
3-5 / 24 (5개중 3개를 클리어 하면 레벨 24이 됨)
3-6 / 25
3-7 / 25
3-8 / 26
3-9 / 27
3-10 / 28
/--- 엔딩 ---/
3-11 / 29
3-12 / 29
3-13 / 30
3-14 / 30
3-15 / 30

레벨 0 ~ 10
30000 ~ 40000

레벨 11 ~ 20
50000 ~ 60000

레벨 21 ~ 30
181100 ~ 192000

레벨 31 ~ 40
355500 ~ 410000

레벨 41 ~ 50
563300 ~ 620000?

레벨 51 ~ 60 (
595000 ~ 1075000

라운드 1: 1 ~ 10
라운드 2: 11 ~ 20
라운드 3: 21 ~ 30, 29 ~ 32 (라운드 3 확장팩)
라운드 4: 31 ~ 55, 60 ~ 140 (라운드 4 엔드컨텐츠?)
라운드 5: 55 ~ 62, 72 ~ 82 (라운드 5 확장팩)
라운드 6: 63 ~ 65
라운드 7: 66 ~ 80, 83 ~ 89 (라운드 7 확장팩)
라운드 8: 81 ~ 90
라운드 9: 91 ~ 92, 96 ~ 98 (라운드 9 확장팩)

만렙컨텐츠
100 ~ 140까지 / 최대 레벨 150
130 ~ 140보다
141 ~ 150이 약 12 ~ 24배 더 많은 경험치 필요
150 달성은 의무가 아님 (140까지만 제공)

확장팩 컨텐츠
확정
라운드 3-11 ~ 3-15
라운드 5-11 ~ 5-18, 5-21 ~ 5-28

라운드 3은 다운타워에 남아있는 숨겨진 비밀을 찾으러 과는 과정이 있음
라운드 5는 숨겨져 있는 워프공간을 통해 다른 세계로 이동하는 과정이 있음.

중간도시의 비극
인공지능만이 관리하던 도시는 어느순간, 인공지능만의 오류로 생존자들을 공격하기 시작한다.
생존자들의 대피가 시작되었지만, 기계의 힘은 강력했고 너무 많은 사람들이 학살당하였다.

언널드가 원인을 확인해본 결과, 단순한 오류는 아니고, 인공지능을 설계할 때, 최대의 이득을 설정하는 과정에서
잘못 지정된 가치를 지정한것이 원인이였다.

즉, 성장에만 초점이 맞추어져 있었으며, 대부분의 사람들은 안정을 택했지만, 인공지능의 성장 초점때문에 과도한 목표가 설정되어 마을이 무너져가기 시작했던것

과도한 성장의 목표는 결국 불가능한 목표를 만들어내고, 불가능한 목표는 하여금 사람들을 포기하게 만든다.
인공지능은 이것을 잘못 판단하여 마을사람들을 적대하고, 죽이기 시작한다.

가치 없는 사람들을 죽여가면서...

이것이 엄청난시간동안 지속되어 중간도시의 모든 마을은 파괴되었지만, 인공지능이 공격한것은 생명체 뿐이였으므로 공격받지 않은 마을은 살아남았다.

중간도시에 남은 생명체는 단 1개
홀로 남은 그는 중간도시에 대한 역사를 알려준다.

중간도시에 대한 역사를 들은 언널드는, 숨겨진 공간을 찾는것을 고려한다.
(5-A, 5-B 구역에 진입하기 위해 레벨 70이상 필요합니다.)

5라운드: 55 ~ 62, 5A: 70 ~ 78, 5B: 70 ~ 78
6라운드: 63 ~ 66
7라운드: 67 ~ 73
8라운드: 80

1 > 2 > 3 > 4 > 5 > 6 > 7 > 8
> 5A, 5B > 9



core - 8각
8: 8방향 총알 발사, 효과음 없음, 주기 6초, 4초
Potion: 실시간 체력 회복, 효과음 없음, 주기 1초당 1%, 1초당 2%, 단 30초이상 회복할 수 없음
(회복은 체력이 98% 이하면 무조건 시도함, 시도할 때마다 1스택 감소, 최대스택 30스택)

적에 관해서 저장 후 불러오기 관련 처리를 추가 할 예정

저장 함수 (FieldData 전체)
getSaveData -> 이 함수는 그대로 유지
setLoadData -> 이 함수는 그대로 유지

확장 변수
saveString 추가 예정
saveObject 추가 예정 <- 삭제했지만, 다시 추가함

저장되는 데이터는 적마다 다를 수 있음.

getSaveData, setLoadData는 공통 데이터만 다루고, 개별 데이터는 다루지 않습니다.
이 규칙을 3-2까지 만들고 일부 변경할 계획

다시 코어 모드로

core: hp 공통 50%, (다만 metal은 코어 효과로 100%임)
참고: 코어는 랜덤으로 등장하지만, 내부적으로 dps가 100%맞춰져서 등장합니다.
(참고2: 함선이 코어를 흡수하면 해당 코어의 능력을 얻지만, 코어랑 약간 다르게 효과를 받을 수 있음.)
(이 말은, 코어가 단독으로 있을때랑 함선으로 있을때량 효과가 다를 수 있다는 말)

코어 단일은 무조건 1단계 효과, 2단계 효과는 함선에서만 구현되며 코어 자체랑 약간 다를 수 있음.
8: 8방향 총알 발사, 주기 8초 (첫 생성시 4초)
포션: 일시적 체력 회복 (1회 적용됨, 체력 50% 미만일경우, 50%를 즉시 회복, 회복이 남아있을경우 죽지 않고 강제 회복시킴, 다만 회복시켜도 0이하이면 확정사망)
강철: 최대 체력 증가 (자기 현재 체력을 환산한 값의 x2배를 추가함, 이 수치값은 고정되어있음)
shot: 무작위의 방향으로 총알 발사, 주기 5초
rainbow: 일정 시간 단위마다 무지개를 소환하여 공격, 무지개를 소환하면 특이한 사운드가 발생
(무지개는 총알로 분류, 2초동안 유지, 공격력 15), 주기 10초
무지개는 유저를 추적하지만, 속도가 매우 느림
brown: 갈색

ship: hp 500%, 1000%
쉽은 자체 공격 기능은 없음, 코어를 장착할경우 공격 기능이 추가됨
8: 8방향으로 총알 발사, 주기 6초, 4초
포션: 일시적 체력 회복, 1회 적용됨, 한번 회복될 때마다 cpbase값의 100%씩 회복함, 최대 2번(코어가 2개일경우)
강철: 최대 체력, 현재 체력 증가, 2번까지 적용 가능
shot: 자기가 바라보는 방향에다 총알을 발사, 주기 2초 / 1초
rainbow: 무작위에 방향에 총알을 연속적으로 발사 (rainbow의 공격은 사용되지 않음) 주기 6초 / 4초
brown: 

코어 장착 방식
5초 단위로, 무작위 코어를 발견한 경우, 해당 코어의 상태를 변경 후, 함선으로 끌고옴
함선에 끌려온 코어는 삭제되고, 코어가 가진 점수와 남은 체력과 최대 체력을 함선에 합산시킴
(참고: 끌려들어온 코어가 죽을경우, 코어 흡수 취소됨)
장착 개수가 초과활경우, 코어를 더이상 흡수하지 않음
소형은 2개 흡수 가능
대형은 4개 흡수 가능

shipSmall, shipBig


fake 적들 (무언가 나사빠짐)
fakeMove: 몇번 이동하다가 영원히 멈춤(...) 애니도 더이상 동작하지 않음 (enimation이 finished됨)
fakeBar: 닿으면 fake 소리남(...)
fakeHell: 헬기가 지 멋대로 회전하면서 이상한 방향으로 이동함, 총알도 이상한 방향에다가 쏨(무작위긴 하지만)
fakeCore: 가짜 코어, ship은 흡수할 수 있지만, 아무 효과도 없음... (물론 코어를 흡수했으므로 최대 체력이 증가하긴 하지만...)
fakeShip: 코어를 흡수하는 척을 하지만 코어를 흡수하지 못함(...) 코어는 붙었다가 떨어짐...

clock: 시계: 일정시간이 지날경우 피할 수 없는 시계탄을 발사함
주기 30초 (데미지 40)

digital clock: 일정 시간이 지날경우 피할 수 없는 시계탄을 발사함
주기 30초 (데미지 40)

grandfather clock: 일정 시간이 지난경우 피할 수 주위의 체력을 전부 올려주고
더 시간을 끌면 피할 수 없는 시계탄을 발사함
주기 미정

시계적들은 자체 패턴은 없지만, 소환한 후 너무 오랜시간이 지나면 유저에게 극도로 불리해짐


star: 특이한 특징은 없지만, 빠른 속도로 무작위 방향으로 날라다님

energy 적들
별 다른 특징이 없이 느린 속도로 이동하지만, 크기가 크고 물량이 많아 적을 피할 공간을 줄여주는 역할을 함




코어 파괴 사운드 = 동일
코어 공격 사운드 = 무지개만 단독으로 가지고 있음.

enemyDieTowerCore - 코어 
towerEnemyCoreRainbow


레인보우: 무지개 소환 (무지개는 적으로 분류되지만, 플레이어에게 닿으면 사라짐)
브라운: 브라운 쉴드 소환 (브라운 쉴드는 적으로 분류되고, 플레이어에게 닿아도 사라지지 않으며, 공격력도 없음)


core8 - 8방향 발사 기능 추가
corePotion - 회복 기능 추가
coreShot - 샷 발사 기능 추가
coreMetal - 체력 증가 기능 추가

coreRainbow - 특이 코어 (무지개 소환, 함선에 장착하면 함선 가동 속도 증가)
coreBrown - 특이 코어 (브라운 소환, 함선에 장착하면 쉴드 생성)

코어의 체력은 일괄적으로 50%이며, 함선에 장착했을 때 추가효과를 얻습니다.
(다만, metal은 100%, potion은 회복이 있어서 내부적으로는 dps 75%이나, 실제 계산할때는 50%로 계산합니다.)
코어 출현 빈도는 랜덤이며 dps가 100%에 맞춰져서 생성되도록 합니다.
(단, 특정 구간에서는 브라운과 레인보우 코어만 등장함)

coreRainbowSummon
dps: 20%, 최대 1회만 소환 가능, 닿을경우 사라짐, 데미지 없음 (데미지 방해용도임)

coreBrownSummon
dps: 20%, 최대 1회만 소환 가능, 닿아도 사라지지 않음, 데미지 없음


코어: dps 50%, metal만 100% (자체 체력 증가 기능때문에), potion: 75% (50% 즉시 회복때문에)
코어가 소환하는 개체는 dps 20%
(코어 dps는 변동적이기 때문에 50% ~ 100% 사이가 될 수 있음, 이를 고려하여 생성해야 합니다.)



각 요소를 소환할 때마다 효과음 재생
(1회만 소환할 수 있는 경우는 dps 값 초과를 막기 위해서)
기준값 200%를 초과하면 클리어에 문제가 있을 수 있음.

전투력 기준
라운드 1-1 ~ 1-3: 40000, 1-4 ~ 1-6: 44000
라운드 2-1 ~ 2-2: 50000, 2-3 ~ 2-4: 55000, 2-5 ~ 2-6: 60000(50000의 120%)
라운드 3-1 ~ 3-2: 70000, 3-3 ~ 3-5: 77000(70000의 110%), 3-6 ~ 3-9: 80000
참고: 일부 라운드는 저 전투력보다 더 높은 기준이 필요한것처럼 보이지만,
실제로는 라운드 내에 있는 부가적인 요소 (동그라미가 아군이 됨, 내부 옵션 추가)
때문에 저 전투력이 깰 수 있는 수준으로 설정되어있음.


코어 사운드 - 완료
함선 사운드 - 완료
페이크 사운드 - 완료
시계 사운드 - 완료

시계 방식: 일정 시간이 지나지 않으면 아무것도 안함
40초 이상 생존할경우, 시계 공격 소리가 발생됨
45초 이상 생존할경우, 무차별적으로 플레이어를 추적하여 지속 공격함
(시계가 플레이어를 무조건 추적하며 회피할 수 없음)
아날로그 시계 dps: 100%
디지털 시계 dps: 100%
종 시계: dps: 1000% (!!!)

시계는 한참동안 아무것도 하지 않지만, 폭주상태가 되지 않도록 주의할 필요가 있음.
30초 이상/ 40초로 변경 (종소리가 울리는 시점부터 시계는 붉은색으로 변함)
30초 부터 5초 간격으로 시계 공격 소리 재생
공격은 40초부터 시작, 30초가 넘어가면 더이상 이동하지 않고 대기 상태
40초가 되는순간 즉시 플레이어가 있는곳에 이동


스타: 별다른 특징 없음 (자유롭게 돌아다님, 주기적으로 속도 리셋)

에너지몬스터
특징: 엄청난 체력 (대략 dps의 1000% 수준), 약한 공격력 대비 높은 타격량, 느린 이동속도, 큰 크기


중간 에너지 몬스터
dps의 200%, 공격력은 비슷하지만, 속도가 조금 더 빠름
(영역 내에 닿으면 연속타격)



보스 - 다수 코어 시스템 (DASU CORE SYSTEM)

BOSS ROBOT 보스 로봇(...)
3-2 없음(...)
DASU CORE SYSTEM (다수(?!) 코어 시스템)
ANTI JEMUL GAURDIAN (안티 제물 가디언)


DASU CORE SYSTEM = [중앙 부품] 오른쪽에 소환, 그 후 여러개의 코어가 부착됨
각 코어들은 적 오브젝트 내부의 오브젝트라 타격은 불가능함. 그리고, 코어에 플레이어가 닿으면 지속적인 데미지를 받음

다수 코어들은 무작위의 방향으로 총알을 마구잡이로 발사하며, 빠르게 처리하지 않는다면 무시무시한 총알을 맞고 사망함


다수 코어 공격패턴 (패턴을 시전하기 전 일정시간동안 아무것도 하지 않음)
1. 코어 정지 후 레이저 발사 (닿을경우 상당한 데미지를 받음)
레이저는 이미지로 출력됨
2. 플레이어가 있는 방향에다가 코어 늘리기 (단, 거리 제한이 있음)

이 패턴이 지속되지 않으면, 무작위의 방향으로 총알을 발사함

towerEnemyBossRobot - 보스로봇 3-1
towerEnemyBossBar - 바 (경고가 표시되지 않음) 3-2
towerEnemyBossDasu - 다수 코어 시스템 3-3
towerEnemyBossAnti - 안티 제물 가디언 3-5

enemyTowerBossDasuEntrance
enemyTowerBossDasuCoreCreate
enemyTowerBossDasuCoreAttack
enemyTowerBossDasuLaserAttack
enemyTowerBossDasuWait = 공격 대기 신호

enemyDieTowerBossDasu

다시 재정의
패턴 1 무작위 총알 발사 (다수 코어에서 랜덤 방향으로 난사)
패턴 2 다수 코어 던지기 (다수 코어는 벽에 부딪히면서 서서히 느려짐) 
-> 일정시간 후 원래 위치로 이동
패턴 3 다수 코어 던지기 (다수 코어를 앞에다가 던짐) (펀치같은거)
패턴 4


보스로봇 hp dps 10000% (7000000)
입장: 로켓을 쏘면서 왼쪽이동, 로켓을 쏘면서 오른쪽 이동
(이 순간에는 보스에 닿아도 데미지를 입지 않음 - 적이 아니므로...)

패턴 1: 추적 미사일 발사
패턴 2: 무작위 Y축 미사일 발사
패턴 3: 미친듯이 충돌 (삭제 예정) <- 미사일로 변경
패턴 3x: 무작위 방향 미사일 연타
패턴 4: 3방향 미사일

폭주 패턴: 무작위 방향, 무작위 이동


보스바 hp dps 8000% (5600000) <- hp 너프됨
패턴 1: 위로 서서히 올라옴... 매우 느린 속도로... 60초내로 죽여야함... 안그러면 넌 뒈짐
패턴 2: 맞으면 무조건 위로 튕겨짐...
패턴 3: 레이저 발사 (밑에서 버티기 금지)
폭주 없음

3-1: 200초 + 보스
3-2: 210초 + 보스
3-3: 200초 + 보스
3-4: 240초


다수 코어 시스템: hp dps 10000% (7000000)
입장: 다수 코어가 등장하고, 코어를 1개씩 소환함
코어는 총 6개 (너무 많으면 피할 수 없음...)

참고: 보스는 가능하다면 맨 오른쪽에 붙어있습니다.
패턴 1: 코어에서 무작위의 방향으로 총알 발사 (코어는 고정된 위치)
패턴 2: 코어가 무작위의 방향으로 날라가면서 서서히 속도 저하
패턴 3: 코어를 앞방향으로 던짐
패턴 4: 코어를 세로축 정렬 후, 무작위의 코어가 총알을 발사
(코어가 이동하는 속도는 느린편)

폭주 패턴: 코어가 무작위로 돌아다니면서 무작위의 방향에 총알 발사
(피하기 매우 힘들 수 있음)

코어가 하나씩 파괴된 후, 보스 파괴


참고: 라운드 3은 모든 구간에 옵션을 장착한 채로 플레이됩니다.
3-5: 안티 제물 가디언 (옵션은 당연히 동작함) - 최종 보스 (라운드 3의)
1 ~ 2페이즈 (hp 12000%, 11200%) = 120초
3 ~ 4페이즈 (hp 10600%, 10200%) = 120초
5 ~ 6페이즈 (hp 7500%, 6000%) = 90초
7 ~ 8페이즈 (hp 2000%, 1200%) = 30초
총합 300 ~ 360초 예상되지만, 적정 전투력 기준 360초임
120/120/90/30 = 360초?
132/114/86/36


(보스는 가능한 왼쪽에 붙어있음)
각 페이즈당 패턴은 약 4개정도
1 ~ 2페이즈 주로 총알 위주 발사
3 ~ 4페이즈 주로 레이저 사용
5 ~ 6페이즈, 무력화 기믹을 찾아야 함
7 ~ 8페이즈 적의 마지막 발악 (대신 유저가 받는 데미지의 기댓값은 모든 페이즈중 제일 낮음)

모든 보스는 5 ~ 6페이즈를 제외하고, 지속적으로 공격을 가함
이로인해, 유저에게는 반드시 체이스 옵션이 지급됨 (다른 옵션은 나오지 않고, 이 라운드만 자동 장착되어있음)

적의 공격력은 가능한 한 낮게 설정됨 (1번 죽으면 바로 게임오버이므로)

보스는 점점 작아짐 (총 8형태, 각 보스는 다른 개체로 취급됩니다.)



이 게임에서 엄밀히 따지면 최종보스는 거의 중간에 배치됨... 이유는 모르겠음.
라운드 1 최종보스: 1-4 (하지만 의미없음)
라운드 2 최종보스는 없습니다. (2-4, 2-5는 최종보스가 아님)
라운드 3 최종보스: 3-5 (360초 ~ 420초) 
라운드 4 최종보스는 없습니다.
라운드 5 최종보스: 5-3 (?!)
라운드 6 최종보스는 없습니다.
라운드 7 최종보스: 7-6
라운드 8 최종보스는 없습니다.
라운드 9 최종보스: 9-4 (총 12페이즈? 예상... 대략 600초 이상 필요함)



enemyTowerBossDasuCoreSummon - 코어 소환
enemyTowerBossDasuCoreAttack - 코어로 직접공격
enemyTowerBossDasuCoreReflect - 코어 튕겨지는 상황
enemyTowerBossDasuCoreArrangement - 코어가 수직정렬되어 대기하는거
enemyDieTowerBossDasu

보스 등장 방식
서서히 확대하면서 오른쪽에 등장
100%크기까지 확대된 후 코어를 1개씩 생성 (총 6초)
코어 모두 소환 후 패턴 시작


----------------------------
기준선 변경...

참고: 모든 코어는 함선에 장착될 수 있음. fake 제외 (fake는 장착할 수 없음...)
함선에 장착했을때랑, 단일 코어로 존재할 때랑 능력이 서로 다를 수 있음.
코어의 기본 체력은 20% dps
코어가 흡수된경우, 함선은 코어의 최대체력과 남은 체력을 각각 추가함.
(그래서 내부적으로 maxHp가 지속적으로 변경될 수 있음.)

core8: 8방향으로 총알 발사, 주기 8초
corePotion: 현재 체력의 50%미만이면, 반드시 50%의 체력을 회복함 (1회 한정)
coreMetal: 최대 체력/현재 체력 증가 (기존값의 2배)
coreShot: 무작위의 방향으로 총알을 발사, 주기 4초
coreRainbow: 무지개 소환 (무지개는 코어만큼의 체력을 가짐, 다만 아무것도 하지 않음, 딜 방해용도)
coreBrown: 쉴드 추가 (쉴드는 코어만큼의 체력을 가짐, 1회 한정, 쉴드가 생성된 경우 주위에 갈색 쉴드가 켜짐)

참고: 모든 코어의 체력은 50%dps로 시작함
metal은 체력증가로 100%dps, 포션은 50%이하시 50%회복하므로 75%dps, rainbow는 50% ~ 100%(생성 안될수도 있으므로), brown은 50% ~ 100% (쉴드를 안쓰게하고 죽일 수 있으므로)

이로인해, 코어의 dps는 100%로 간주되며, 점수 공식도 이에 영향을 받음 (다른 적들과는 다르게 예외가 적용되어 있습니다.) 또한 코어가 등장할때도 이 밸런스를 고려하여 평균dps를 맞춰 등장시킵니다.


레인보우, 브라운... (무지개)
코어 이동은 랜덤한 속도가 지정된 상태로 이동함.



ship 특징: 
매우 느린 속도로 좌/우로 이동 (상/하 이동은 없음)
생성된지 5초가 지나면, 코어를 1개씩 장착함 (무작위의 코어를 지정함)
코어를 장착한 경우, 해당 코어에 따른 효과를 받고
코어의 남은 체력 만큼 함선의 체력이 증가, 
코어의 최대 체력 만큼 함선의 최대 체력이 증가
코어가 장착되면, 효과음 발생
코어 장착은 즉시 이루어지며, 화면에 있는 랜덤한 코어가 사라지고, 함선에 코어가 장착되어있는 모습을 볼 수 있음.
만약, 코어가 없다면 코어 장착은 불가능
코어 장착 최대 개수는 정해져있음.
장착된 코어는 삭제됨 (코어에 해당하는 점수또한 함선에 추가됨)

ship dps: 500%(소형), 500%(대형) (서로 체력은 똑같고, 대신 코어 장착개수만 다름)
데미지: 14

코어의 기능들 (코어 효과는 2중첩까지, 단, 코어는 같은게 여러개 장착 될 수 있음)
8: 8방향 코어 발사, 주기 6초, 4초
포션: 함선의 체력 20% 회복(코어가 가진 기능과 별개로 다시 동작할 수 있음), 최대 2회 가능
[단, 포션의 회복량은 20%로 지정되어있지만, 함선이 생성될 때 기준으로 상수값이 따로 설정됨
이것은, 강철의 효과로 인한 최대 체력 증가에 영향을 받지 않는다는 뜻)
샷: 유저방향, 무작위 방향을 동시에 발사, 주기 4초, 3초
강철: 현재 체력과 최대 체력 +20% 증가
레인보우: 이동속도 대폭증가(! 엄청나게 빨라짐)
브라운: 쉴드 추가(체력의 20%정도)
페이크: 아무 효과 없음... (정말로 가짜라서)


페이크 적 시리즈 (주요 특징: 무언가 이상함)
페이크이동: 다른 이동시리즈처럼 이동 막 하다가 4번 이상 이동 후 20%확률로 멈춤(확률은 20%씩 증가)
페이크바: 부딪히면 페이크 소리남...
페이크헬: 에니메이션이 없으며 지멋대로 회전각을 바꿔버림 (총알도 아무렇게나 발사함)
페이크쉽: 쉽처럼 코어를 장착하지만 코어 장착 효과를 못받음(...) (그러나, 코어 자체의 체력은 추가됨)
페이크코어: 아무 효과도 없습니다.


다운타워 시간 변경 (배경 전환 시간 변경 예정)
이제 페이즈는 30초 단위가 아닌 20초 단위
3-1: 180초 + 보스전
3-2: 200초 + 보스전 (보스 체력은 4000%)
3-3: 180초 + 보스전
3-4: 240초

보스 로봇 (hp: 10000%)
보스 경고: 160초 시작
보스 입장: 170초 등장
보스 생성: 175초
보스 이동 패턴 삭제하고, 로켓만 사용하도록 변경

보스 바 (hp: 4000%, 경고 없음)
보스 입장: 195초
이제 보스에게 닿으면 위로 튕겨집니다. 보스는 위에 붙어버립니다.
(시간내로 못죽이면 너는 반드시 죽음)

다수 코어 보스 (hp: 10000%)
보스 경고: 160초 시작
보스 입장: 170초 등장
보스 생성: 175초

보스 패턴: 코어 휘두르기, 코어 배치, 코어 던지기, 총알 발사
코어 개수 6개

패턴 사용시간: 8초 단위로 변경
패턴 시작은 패턴 실행 후 2 ~ 8초동안만 진행
첫번째 패턴은 무조건 총알 발사 패턴임

코어 이동에 대해서 (패턴에 따라 코어 이동방식이 변경)
코어는 패턴에 따라 위치가 고정되어있음
그 위치를 기준으로 조금씩 이동함

일반상태 (정해진 위치 기준으로 +-10정도로 랜덤하게 이동함)
(이동속도 제한 +- 10)
보스는 조금씩 이동할 수는 있지만, 위치에 제한이 있음

위치 기준점
보스가 있는 위치 기준으로
baseCorePosition
[-100, -100, -200, -200, -300, -300]
[-75, 150, -75, 150, -75, 150]

coreSpeed = 0.2
coreMaxMoveMent

baseCorePosition - 10 ~ baseCorePosition + 10
코어의 위치가 최대치를 넘어가면 속도를 반전


코어 펀치
코어가 순간적으로, 중앙에 모여든 후, 플레이어가 있는 방향을 향해 발사됨
[표적 위치 기준으로]
차이값 100%, 차이값 60%, 차이값 20% 위치에 다수 코어가 날라갔다가 돌아옴
이것을 패턴 시간동안 반복
코어 이동시간은 0.4초 이내

패턴 시작 전에 코어는 중앙으로 이동됨


코어 배열
코어가 오른쪽에 순차적으로 배치됨 그리고, 무작위의 Y축 속도로 총알을 난사


코어 반사
코어가 무작위의 방향으로 반사됨 (맨 처음에는 오른쪽으로 날라감)
시간이 갈수록 코어는 점점 느려짐 (8초 쯤에 코어 정지)


다수의 위치: x축, y축 느린속도로 조금씩 이동함 (약 0.1정도)
매 패턴이 교체되면, 남은 2초동안은 코어가 강제로 이동되도록 변경


코어 펀치
가운데로 모임, 일정시간이 되었을 때 펀치 발사함.


어레인지먼트
코어가 오른쪽에 순차적으로 배치됨 (코어 자체를 이동시킬지 의문)

하이퍼 대기가 아니거나 
하이퍼 모드가 아니거나


3-1: 180초
3-2: 200초
3-3: 180초


3-1, 3-2 라운드 구조 변경
배경 변경 구조: 40/80/120/160
페이즈 변경 구조: 20초단위 1페이즈

시간: 180/200/180
보스 체력: 10000%, 4000%, 10000%

3-1: 0 ~ 10: 옵션에 대한 안내가 나옴
11 ~ 14: movementEnemy
15 ~ 18

group1: move -> special -> hell -> figure ->


3-1: 200 + 보스전/60초
3-2: 206 + 보스전/28초
3-3: 200 + 보스전/60초
3-4: 240초
3-5: 
14000%, 13500%, 13000%, 12500%, 12000%, 11000%

72/66/60/55/50/45 = 6분 = 360초
/30/15 = 400초

60/60/60/60/60/60/40/20 = 420초

옵션의 dps는 각각 레벨당, 40%, 60%, 80%, 100%정도
3-1
baseDps
페이즈 1: 60% / 옵션 레벨 1
페이즈 2: 100% / 옵션 레벨 2
페이즈 3: 120% ~ 150% / 옵션 레벨 3
페이즈 4이후: 180% ~ 220% / 옵션 레벨 4
옵션 dps는 40/60/80/100 이 되도록 수정

3-1 ~ 3-4은 옵션을 얻어야 장착됨
3-5는 자동으로 오렌지 옵션이 장착됨 (물론 시작하자마자 보스전이지만...)



0 ~ 7: 옵션 강조 및 등장
8 ~ 11: moveBlue
12 ~ 14: movePurple
15 ~ 19: moveViolet

20 ~ 24: moveBlue + movePurple + moveViolet
25 ~ 29: moveYellow
30 ~ 32: sandglass
33 ~ 37: tapo
36 ~ 39: punch

40 ~ 44: hellgi
45 ~ 48: helljeon
49 ~ 52: hellcho
53 ~
43/46/49/52 = hell x 5

60 ~ 72: laser
73 ~ 79: daepo

페이즈 5
80 ~ 99: figure

페이즈 6:
100 ~ 120: hell + laser

페이즈 7:
121 ~ 132: X + I
133 ~ 140: daepo + punch + sandglass

페이즈 8:
141 ~ 159: hell + daepo + laser + sandglass + tapo

페이즈 9:
160 ~ 178 gasi
167 ~ 172: move

페이즈 10:
180 ~ 200: 보스전


3-2
페이즈 1: bar 시리즈
페이즈 2: 자기장, 번개, 대포
페이즈 3: 자석 등장, 그외 잡몹 혼합
페이즈 4: 대포 + 신규 헬시리즈 등장
페이즈 5: 헬시리즈
페이즈 6: 신규 도형 + 기존 도형
페이즈 7: 대포 + 자석 + 펀치
페이즈 8: 혼합
페이즈 9: 헬시리즈 대량
페이즈 10: 바시리즈 대량 + 자기장, 번개, 자석 섞임
페이즈 11: 보스전


적 구성의 기준
그룹1: 이동, (대포, 펀치, 모래시계, 타포), 헬시리즈(5), 레이저, 도형, (X, I, gasi), 보스로봇
그룹2: 바, (자기장, 번개, 자석), 헬시리즈(+4), 도형+, 보스바
그룹3-1: 코어, 함선, 페이크, (스타), 보스다수
그룹3-2: 시계, 에너지

3-1: 페이즈 수 6개 (30x6 = 180)
3-2: 페이즈 수 7개 (30x6 = 180 + 20)
3-3: 페이즈 수 6개 (30x6 = 180)
3-4: 페이즈 수 6개 (40x6 = 240)

페이즈1: 코어들의 등장 (각 종류별로 한번에 출현)
페이즈2: 함선과 코어의 조합 (이때 코어는 랜덤임), 함선은 많이 나오지는 않음 (dps문제때문에)
페이즈3: 함선만 나옴 (코어가 없음)
페이즈4: 페이크들의 등장
페이즈5: 미친 헬시리즈
페이즈6: 


3-1, 3-2, 3-3 공통
0 ~ 29
30 ~ 59
60 ~ 89
90 ~ 119
120 ~ 149
150 ~ 179

3-1, 3-3
180 ~ 200: 보스전 진행 (보스 경고 표시)

3-2
180 ~ 209
210 ~ 217: 보스전 진행 (보스 경고 없이 바로 보스 등장)

3-4
30초단위/온리 필드전

3-5
60초단위/단일 보스전


// 3-1 ~ 3-2의 구조가 대폭 변경됩니다.
3-1 1페이즈
0 ~ 10 //


3-1: 200초 + 보스전 / 보스 경고 /
3-2: 217초 + 보스전
3-3: 200초 + 보스전 / 보스 경고 /
3-4: 240초
3-5: 420초 / 보스 경고 (ANTI JEMUL GAURDIAN)
3-6: 180초
3-7: 191초
3-8: 180초
3-9: 180초

1-4: REDZONE JEMUL GAURDIAN (레드존 제물 가디언)
2-4: ONGSIM JEMUL GAURDIAN (옹심 제물 가디언)
3-5: ANTI JEMUL GAURDIAN (안티 제물 가디언)
3-12: KAINT JEMUL SURIOR (카인트 제물 슈이러)


제물을 바쳐서 악마를 소환하려고 하는 집단 <- 저 가디언들...
여기서 안티는 배신했지만, 붙잡혀 강제 세뇌당해버리고,

레드존은 제물(생명체)들이 반란을 일으켜서 실패한데다가, 가짜 생명을 가진 운석에 낚여서 개판이 되고
우주방위국에 의해 사망

옹심이는 동그라미한테 두들겨 맞고 사망
(동그라미 단독으로는 힘들지만, 언널드가 같이 싸워준탓에 옹심이도 죽게됨)

안티는 언널드에 의해 코어가 파괴되면서 사망
안티는 사라지던도중 제물적들의 의해 중요한 정보를 전달받는다.

이 정보를 통해 우연히 발견한 통로를 추적하여, 행성에 있는 모든 생명체를 제물로 바쳐 악마를 소환하려 했지만
실패한다. (언널드는 너무 당연한듯이 그 시스템을 무력화했다.)

곧이어 우주방위국에게 그 집단들은 체포되고, 전부 사형 판결을 받고 그 집단들은 전멸한다.

언널드가 우연히 파란행성을 들른 탓에 그들의 계획은 전부 실패하게 되었다. 이것은 단순한 우연이였지만, 결과적으로 좋은 일이 되었다.


다운타워에 있는 사건을 해결하고 난 후, 화이트 동그라미에 의해 새로운 세계에 초대받는다.
여기는 동그라미 마을에 있는 사람들을 놀게 하기 위한 놀이터인 스카이랜드

파란 행성은 중력권이 낮아서 110km 미만으로 내려가지 않으면 중력이 매우 약하게 작용한다고 한다.



우주방위국 본부 기지 - 에리어0
핵코어 행성계 - 에리어1, 우주방위국의 고향
센티멘탈 행성계 - 에리어2, 최근에 추가됨
-> 행성 번호
1. 센티멘탈A1 = 중심핵 행성
2. 센티멘탈A2 = 비어있는 작은 행성
3. 센티멘탈A3 = 비어있는 작은 행성
4 ~ 6: 골디락스 존
4. 센티멘탈B1 아즈텍 행성 = 높은 온도로 인한 여러 광물이 있는 행성
거주는 가능하지만 생활이 극단적으로 어려워 생명체가 발달하지 못하고 멸종됨
5. 센티멘탈B2 파란 행성 = 주위에 푸른빛으로 결계가 쳐져있는 행성
어떤 이유에서인지 생명체가 감지되지 않음. 그러나, 생명체가 살았던 흔적이 최근까지 발견됨
생존과 관련한 문제로 행성 어딘가에 숨어있는것으로 추측됨
6. 센티멘탈B3 글라스 랜드 = 굉장히 살기 좋은 지역으로, 우주방위국과 교류하고 있는 행성
7. 센티멘탈C1 = 비어있는 행성, 주위엔 산만 가득하다.
8. 센티멘탈C2 = 초대형 행성, 수많은 행성들의 충돌을 예방하고 있음
9. 센티멘탈C3 = 중형 행성, 고리가 있다. 
10. 센티멘탈C4 = 중형 행성, 가스 행성, 제일 마지막에 위치해있음.


파란 행성에 대한 정보는 현재 우주방위국에서도 거의 없는것으로 드러남.

행성 이름은
오렌지마인 - orange mine
파란플래닛 - paran planet
그린글라스 - green glass

행성 이름이 왜 저런것인지는 여전히 의문이지만, 우주방위국이 정보를 찾았을때 행성 내부에서는 해당 행성을 이런식으로 부르고 있었음.



라운드 페이즈의 시작은 기준시간 + 1초개념이다보니
30초 간격의 페이즈는 실질적으로 29초정도만 진행됨
31 + 29 = 60

3-1
0, 30: 기존과 거의 동일 (0 ~ 7: 옵션 등장 및 안내), 8 ~ 11, 12 ~ 14, 15 ~ 18, 21 ~ 24, 25 ~ 30
31, 60: 31 ~ 33, 34 ~ 40, 37 ~ 42, / 45 ~ 60
61, 90: 61 ~ 75
91, 120
121, 150
151, 180
181, 200

초반엔 신규적이 나오고, 후반엔 기존에 나왔던 적들과 혼합됨












3-2
0, 30
31, 60
61, 90
91, 120
121, 150
151, 180
181, 210
211, 217 (보스의 체력이 낮기 때문에 시간 패널티가 추가되었음)

3-3
0, 30
31, 60
61, 90
91, 120
121, 150
151, 180
181, 200

3-4
0, 30
31, 60
61, 90
91, 120
121, 150
151, 180
181, 210
211, 240

배경 변경 시점
0 ~ 59 = 1
60 ~ 120 = 2
121 ~ 180 = 3
181 ~ 240 = 4

3-4
0 ~ 30 = 1
31 ~ 90 = 2
91 ~ 150 = 3
151 ~ 210 = 4
211 ~ 240 = 5

3-5
시작하자마자 보스전





3-2
3-2/ bar, jagijang, lightning, magnet

페이즈 0 (신규 적들의 등장)
3 ~ 15: bar들의 등장
16 ~ 19, jagijang
20 ~ 24, lightning
25 ~ 30, magnet

페이즈 1 (헬시리즈 신규 추가 및 지원사격)
31 ~ 34, hellla
35 ~ 39, hellpo
40 ~ 44, hellpa
45 ~ 49, hellna
50 ~ 58, hellgi, hellcho, helljeon (지원사격)

페이즈 2 (마그넷의 환상의 조합식)
60 ~ 90 magnet
62 ~ 70 daepo
72 ~ 87 jagijang, lightning, punch, tapo, sandglass
+bar

페이즈 3 (신규 도형과 기존 도형들)
90 ~ 105 신규 도형
106 ~ 120 기존 도형 추가

페이즈 4 (헬시리즈의 폭주)
121 ~ 150 헬시리즈의 무한 투하
+ 중간중간, 자기장, 번개, 자석이 튀어나옴

페이즈 5
151 ~ 165 대포의 반란
166 ~ 180 이동적과 혼합적과 자석 (펀치)

페이즈 6
180 ~ 189 대규모 헬포 파티 소환 (헬포와 헬나가 한번에 여러마리 나옴)
190 ~ 208 바들의 등장 (수가 매우 많음)

페이즈 7
211 ~ 217 보스전

/*

3-3
페이즈 0: 코어들의 등장
0 ~ 5: 주황색, 핑크색 옵션 등장
6 ~ 9: 신규 코어 1 (화면 내에 보이도록 생성됨)
10 ~ 12: 신규 코어 2 (화면 내에 보이도록 생성됨)
13 ~ 16: 신규 코어 3
17 ~ 20: 신규 코어 4
21 ~ 25: 신규 코어 5
26 ~ 30: 신규 코어 6

페이즈 1: 함선의 등장
31 ~ 60: 코어는 지속적으로 등장합니다.
31 ~ 42: 소형 함선의 등장 (요구 dps가 높기 때문에 많이 등장하지는 않습니다.)
대략 3초에 1개씩
43 ~ 56: 대형 함선의 등장

페이즈 2: 페이크 적들?
61 ~ 66: fakeMove(?)
67 ~ 72: fakeBar(?)
73 ~ 80: fakeHell(?)
81 ~ 84: fakeCore(?)
85 ~ 90: fakeShip(?)

페이즈 3: 진짜와 가짜와의 혼란 사례
91 ~ 100: move + fakeMove
101 ~ 110: hellgi + fakeHellgi
111 ~ 120: bar + fakeBar
(여기에서 조차도 마그넷이 나온다)

페이즈 4: 함선들... (그런데 코어가 없다?)
121 ~ 150 fakeShip, shipSmall, shipBig
140 ~ 150 fakeCore만 등장(...) 함선들은 어이가없게도 이 코어도 흡수함
fakeShip은 코어 자체도 못먹음...
(중간중간 헬전, 헬나가 찾아옴)

페이즈 5 마지막 파티 쇼
151 ~ 160 star show
161 ~ 170 daepo show 
163 ~ 177 gasi show

페이즈 6 보스전



배경 순서: 

round3_1_level1 -> round3_3level2

round3_3_level1 -> round3_3level2 -> round3_3level3 -> round3_4level4

round3_3_level1 0 ~ 30초까지 100% 유지
31 ~ 60: fadeout (10%까지)
50 ~ 60: round3_3_level2_fadein

레이어 순서를
level 1
level 2
level 3
level 4
level 5 - 마지막 배경
level 1 -

1 -> 2 -> 3
4 -> 5

0 / 60 / 70 / 120 / 170 / 180
1 -> 2 -> 3 -> 4 -> 5 -> 1

60 -> 70 -> 80 -> 120 -> 160 -> 170 -> 180
 1       2      3          4                 5         1

60 -> 70 1 -> 2
70 -> 80 2 -> 3
80 -> 120 3 -> 4
160 -> 170 4 -> 5
170 -> 180 5 -> 1

60 / 70 / 120 / 160 / 170 / 180

3-4 배경
30 / 60 / 90 / 120 / 150 / 210 / 240
1(3-4)  1     2     3       5     1(3-5)

벽배경 0 ~ 15
공허배경1 16 ~ 30
공허배경2 31 ~ 120
공허배경3 120 ~ 210
공허배경4/5 혼합 (에너지체 배경) 120 ~ 210
보스직전 벽배경 210 ~ 240

40 / 50 / 60 / 110 / 160 / 170 / 180
40 1구간 페이드, 2구간 통로
50 2구간 통로
60 2구간 페이드, 3구간
110 3구간 페이드, 4구간
160 4구간 페이드, 5구간 통로
170 5구간 통로
180 5구간 페이드, 1구간

P: 10, 12, 20, 24, 40, 48, 56, 80, 90, 100
T: 10, 20, 30, 40, 50, 60, 70, 80, 90, 100
X:  1,   1,   2,  2,  2,  3,  3,   3,  4,   4

0 ~ 30 // dps 60% ~ 80% (option dps 10 ~ 12%)
31 ~ 60 // dps 100% ~ 120% (option dps 20% ~ 24%)
61 ~ 90 // dps 120% ~ 160% (option dps 48% ~ 90%)

0 ~ 30 // dps 60% ~ 80%
31 ~ 60 // dps 100% ~ 120%
61 ~ 90 // dps 120% ~ 160%
91 ~ // dps 200%

core dps 40%
ship dps 400%


옵션 등장 순서: 딱히 없음... 랜덤은 아닌데, 딱히 무슨 기준점이 있어 등장하는것은 아님
(3-1 초반과 3-2초반과 3-1후반은 제외)


라운드 3-4 
0 ~ 30: 페이즈 0: 이때는 다운타워 배경음악으로 진행
26초에 기존 배경음악 페이드 아웃

31 ~ 60: 새로운 음악 등장 (downtower_void)


downtower 3-1 ~ 3-3
downtower_boss 3-1 ~ 3-3
downtower_void -> 현재 제작중 3-4
downtower_anti_phase1 3-5
downtower_anti_phase3 3-5
downtower_anti_phase5 3-5
downtower_anti_phase7 3-5
downtower_core_passage 3-6 ~ 3-7
downtower_passage 3-8


4-10 skyland_main
4라운드는 라운드 숫자 구조가 많이 다릅니다.
각 통로를 이동하며 다음 구역으로 진행해도 되고, 또는 해당 구역에서 놀아도 됩니다.

중요한것은, 어떤식으로든 경험치를 모아서 레벨업을 하고,
슬롯 강화를 위한 재료를 모아야 한다는것이죠.

참고로 경험치 던전, 골드 던전은 만들 생각이 없습니다. 대신 노가다 수준은 낮을것입니다.
라운드 3부터 골드가 드랍됩니다.
라운드 4부터 재료 및 골드가 드랍됩니다.

골드에 대해: 아직 사용처 미정, 적어도 라운드 3까지 만들고 세부적인 계획을 만들 생각
(다만, 라운드 1은 골드를 얻을 수 없고, 라운드 2부터 골드를 얻을 수 있음)
파밍을 위해서는 라운드 3을 주로 플레이해야함

파밍 골드 값 (1판당)
라운드 1: 100 미만
라운드 2: 100 ~ 110 사이
라운드 3: 125 ~ 140 사이
라운드 4: 200 ~ 220 사이 (단계마다 다름, 저 수치는 최하단계 기준)


강화단계 / 최대 30단계
강화 상승 수치 (무기 공격력의 일정 %만큼 추가됨)
+0: 100%
+1: 110% (+10%)
+2: 121% (+11%)
+3: 134% (+13%)
+4: 150% (+16%)
+5: 166% (+16%)
+6: 182% (+16%)
+7: 200% (+18%)

// 9강 = 200%
// 16강 = 300%
// 21강 = 400%
// 30강 = 800%
// 게임의 기준선은 21강(엔드는), 스토리 진행은 16강 기준

7 = 200% (+100%) 
13 = 300% (+200%)
18 = 400% (+300%)
22 = 500% (+400%)
30 = 1000% (+900%)

500% = 22
536% = 23
588% = 24
634% = 25
700% = 26
787% = 27
864% = 28
922% = 29
1000% = 30

costVal * costMul
1 = 100 / 100%
2 = 104 / 100%
3 = 108 / 100%
4 = 112 / 100%
5 = 116 / 100%
6 = 120 / 16% / cap 6
7 = 120 / 16% / cap 6
8 = 120 / 16% / cap 6
9 = 120 / 15% / cap 6
10 = 120 / 15% / cap 6
11 = 135 / 11% / cap 12
12 = 138 / 11% / cap 12
13 = 142 / 10% / cap 12
14 = 146 / 10% / cap 12
15 = 150 / 10% / cap 12
16 = 166 / 10% / cap 12
17
18 ...
21 = 200 / 6% / cap 20
22 = 1562 / 15% / cap 10
23 = 1938 / 15% / cap 10
24 = 2336 / 15% / cap 10
29 = 10575 / 10% / cap 15

100/105/110/115/120/135/150/175/200/225/255/300
86/92/98

weapon list

기본 무기 칩 (기본형 장비)
weapon chip - bronze / silver / gold / diamond (4단계 구성?)

무기 성장 레벨 순
bronze 0 ~ 40까지 추천
silver 41 ~ 60까지 추천 (라운드 6까지 유효)
gold 61 ~ 89까지 추천 (라운드 8까지 유효)
diamond (라운드 9진입을 위해서는 필수)

강화수치는 이전되지 않지만, 지금까지 넣었던 강화비용의 일부를 돌려받을 수 있음.
(내부적으로 강화소모된 비용이 누적되어, 이 값을 일부 돌려받을 수 있음.)


라운드 1: 레벨 성장 시스템
라운드 2: 골드 시스템
라운드 3: 무기 강화 시스템
라운드 4: 인첸트 시스템
라운드 5: 인첸트 강화 시스템
라운드 5A, 5B: 신규 장비 조합식 세팅
라운드 6: 없음
라운드 7: 조합 칩 강화 상승 시스템, 단계성장
라운드 8: 없음 (파밍재료는 얻을 수 있음)
라운드 9: 없음 (엔드 장비는 라운드 9에서 드랍되지는 않습니다.)

라운드 7을 진행하면서 재료를 모아 전투력을 향상시켜야 라운드 9에 입장할 수 있습니다.
이것이 싫다면 익스프레스 티켓을 통해 빠르게 장비를 획득할 수도 있습니다.

장비는 단계방식이며, 다만, 파밍은 해당 구간에서 어느곳이든지 할 수 있습니다.
1단계 -> 2단계 -> 3단계 -> 4단계 -> 5단계 식으로 진행되지만
원한다면 중간에 건너 뛰는 것도 가능
모든 무기는 0강에서부터 시작

인첸트 시스템
총 4개의 슬롯이 주어지며, 이 슬롯에 인첸트석을 장착하여 인첸트석을 강화하거나 새로운 능력치 부여 가능
능력치는 무작위로 설정되지만, 하위 단계 수치로 감소하지 않고, 원하는 옵션을 선택할 수 있는 인첸트석도 존재
(즉, 천장이 있음)

수치 레벨: 18
재련 포인트: 140 / 200
재련 총합 사용 포인트: 2580

공격력 +1042
공격력 +6%
방어상쇄율 = 7%
쉴드 리커버리 = 12%

슬롯 레벨 +1
모든 인첸트 수치 증가 + 24

인첸트 정보
종합 수치 = 1924 + 1655 + 1095 + 1332 + (452 x 4) = 6875
공격력 증가% = +116%

공격력
베이스 값 + 레벨 보너스 + 무기 공격력 + 인첸트 공격력
10000 + 6532 + 7569 + 5992 = 26253

// 공격력 +436% (33% + 216% + 235%)
26253 x (1 + 4.36) = 105827

// 전투력
105827 x 1.124 x 1.402 x 1.245 x 4 = 148527


25%(5)/22%(6)/19%(7)/16%(8)/13%(9)

50 재련 성공률 
50
50
50
50
60
60
70
70
80
100
110
120
130
140
150
150
150
150
150
200
200
200
200
200




전투력 공식
dps = 전투력

공격력 x (weapon 1.0 + skill 0.8 x 4)

weaponMultiple = 1
skillMultiple = 0.8
final result = 1 + 3.2 = 4.2 (28% / 72%)
attack * 4.2 = total power

but multiple change is combat power
sub weapon will deleted...

0.96 + 0.79 (29% / 71%) = 4
1 + 4 (20% / 80%)

전투력 기준값
1: 40000 ~ 50000
2: 50000 ~ 60000
3: 70000 ~ 77000
4: 80000 ~ 120000
5: 140000
6: 156000
7: 190000
// 생각과는 다르게 전투력을 올리는것은 매우 어려움

공격력의 4.2배정도

레벨 보너스는 30부터 급격히 감소하여
+0 ~ +3000
+2400 ~ +5000
+4800 ~ +6000

6070, 6140, 6190. 6240 ...
해서 최대 10000까지 상승 (레벨 100기준 보너스는 10000)
그러나 레벨 30의 보너스가 약 6000정도
레벨 60이후는 보너스의 양이 매우 적어짐

라운드 4입장까지는 (전투력 일정값 까지는 진입이 가능, 강화 없이도)
다만, 라운드 4 후반부를 진행하려면

4-11 / 90000
4-12 / 90000
4-13 / 90000



3-4
0 ~ 30
31 ~ 210 = 180초 음악?
210 ~ 240 = 음악 없음

배경 순서
level1 = 0 ~ 30
level2 = 31 ~ 60
level2/3 = 30초 주기로 변경됨
level4 = 150 ~ 180
level5 = 180 ~ 210
level6 = 210 ~ 240 // 보스 직전방 (따라서 round3_4_level6임)

3-5 (round3_4_level6) // 1, 2, 3, 4페이즈
(round3_5_level1) // 5, 6 페이즈
(round3_5_level2) // 7, 8 페이즈


1페이즈: 가느다란 총알 패턴화하여 발사
2페이즈: 가느다란 총알이 더 강화되며 발사빈도수 증가
3페이즈: 배경이 검은색 타일로 갑자기 변경되며
검은색 타일 속 안전한 타일을 지속적으로 찾아야 함
(보스는 이동하지 않습니다.)

타일 패턴은 암기를 해야할 수도 있음.
색을 구분 못하는 사람들을 위해 1, 2, 3, 4, 5, 6등의 기호가 표시됨

4페이즈: 벽의 등장
지속적으로 보스가 회복, 및, 벽, 및, 방어막을 사용하며
딜이 부족할경우, 막힐 수 있음.
중간중간 아이템들이 등장하고, 해당 아이템들을 이용해 극딜을 꽃는 구조입니다.

5페이즈: 배경이 아공간으로 변경됨
5페이즈는 코어의 부품이 떨어진 상태
각 공간마다 광역 공격이 시도됨 (총알은 발사하지 않음)

6페이즈: 보스의 내부 아공간에 입장하여, 보스의 약점이 있는곳에 다가가 보스를 공격하세요.
(참고로, 보스모양을 한 개체를 찾아서 다가가야 합니다.
보스에 다가가지 않으면 보스의 체력은 감소하지 않습니다.
보스는 주기적으로 위치가 변경됩니다.

성공적으로 패턴을 진행하면 보스는 무력화상태가 됩니다.
일정 횟수 이상 사용시 더이상 보스는 패턴을 진행하지 않습니다.

7페이즈: 아공간의 진행 속도가 빨라짐
이제 적은 발악합니다. 무작위의 방향으로 미친듯이 총알을 발사합니다.

8페이즈: 보스는 더이상 총알을 발사하진 않지만, 엄청난 속도로 화면을 돌아다닙니다.

8페이즈 죽인 이후

보스가 죽는 과정: 보스가 있는곳에 빛이 반짝거리며, 보스가 점점 회색으로 변함
회색으로 변한 보스는 5초후 자연적으로 소멸
(참고: 보스가 죽는 과정은 이펙트로 표시됩니다.)
(자동 로드 기능을 사용했다면, 보스가 표시되지 않을 수 있음)

보스가 완전히 사라지면 클리어 음악 (다른 음악과) 과 함께
4초 후 라운드 클리어

총 시간 480초 예상
옵션의 구조 때문에 (데미지구조가 90초때 100%가 됨)
총 체력은 다음과 같이 설정됨

각 페이즈의 기준 시간
84초 - 1페이즈
66초 - 2페이즈
60초 - 3페이즈
54초 - 4페이즈
여기까지 4분 30초 = 240초
64초 - 5페이즈
56초 - 5페이즈
여기까지 6분 30초 = 360초
40초 - 6페이즈
20초 - 7페이즈
여기까지 7분

150/135/125/60/10 (클리어 이후 보스 이펙트 표시 등...)


다운타워의 구성
다운타워 전반부 (라운드 3-1 ~ 3-5), 적정 레벨 21 ~ 25
다운타워 1, 2, 3 -> 배경음악 다운타워, 다운타워 보스전
다운타워 공허 -> 배경음악 다운타워 공허
다운타워 5 (보스전) -> 보스전 전용 음악 1, 2, 3, 4 (총 4개?)

다운타워 후반부 (라운드 3-6 ~ 3-9), 적정 레벨 26 ~ 29
다운타워 코어로 가는 길 -> 코어 음악
다운타워 코어 센터 -> 코어 음악, 다운타워 보스전
다운타워 통로 -> 통로 음악
다운타워 외벽 -> 파란 행성 -> 동그라미 마을 -> 마을 회관 음악 순으로 진행

다운타워 외벽 (0 ~ 60) -> 동그라미 마을로 가는 과정 (61 ~ 90)
1 -> B1 -> 2 -> 보스 결계의 구 파괴 -> 라운드 클리어


다운타워 시크릿 (라운드 3-10 ~ 3-13), 적정 레벨 30 ~ 33
다운타워 함정 구역
다운타워 로봇 방어실
다운타워 기계실
다운타워 숨겨진 컴퓨터


마스터 화이트 동그라미 (다만 얘는 동그라미가 아님)
실제 이름: 화이트

언널드: 나이 91



라운드 3-4
(신규 적은 단 2종류가 끝, 시계 에너지체, 이때문에, 상대적으로 패턴이 단조로울수도 있음)

페이즈 1: 0 ~ 15
기존 적들만 나옴 (신규 적은 30초부터)
중간에 10초 지점에서 다운타워 배경이 흐려짐
중간에 10초 지점에서 기존 배경음 페이드아웃

페이즈 2: 16 ~ 50
신규 배경음악 재생
16 ~ 23: 아날로그 시계 등장
23 ~ 29: 디지털 시계 등장
30 ~ 36: 종 시계 등장
37 ~ 42: 에너지체 A, B 등장
43 ~ 49: 에너지체 스몰 등장

페이즈 3: 51 ~ 90
테마에 맞게 별들이 등장
(등장 적: 별, 자기장, 에너지체)

페이즈 4: 91 ~ 120
중간중간 함선과 코어가 섞여서 등장하며
에너지체가 낮은 비율로 등장
여기서는 자석도 등장

페이즈 5: 121 ~ 150
시계가 몇개 등장하고
헬시리즈의 기습공격 (초당 여러마리가 한번에 나옴, 헬전 위주로)

페이즈 6: 151 ~ 180
일부 적들은 페이크로 등장함 (가짜와 진짜사이)
함선, 헬, 코어
여기서는 자석도 등장
179 타임스탑 (적은 176초까지 나옴)

페이즈 7: 181 ~ 210
극한의 에너지체 고통 (에너지체가 매우 많이 나옴)
209 타임스탑

페이즈 8: 211 ~ 240
마지막 초 러쉬 적들
211 ~ 217: 이동 적 + 가시 러쉬 (페이크 포함)
218 ~ 234: 헬 시리즈 러쉬 (엄청나게 많이 나옴, 페이크 포함)
237 타임스탑



신규 적 패턴
에너지체: 딱히 없음. 대체로 느린속도로 이동하고, 화면 바깥쪽으로 넘어가면 곧바로 다른 화면 안쪽에서 나오게됨.
(나중에 지옥 구간에서 지옥을 겪을거임. 공포의 에너지들이 화면을 꽉 채운 미친구간)

시계: 모든 시계는 공통 패턴을 가지고 있으며, 벽임
시계 바늘은 지속적으로 0 -> 1 -> 2 -> 식으로 이동하며
9에서 빨간색이 되고, 10이되면 시계가 미친듯이 흔들리며 12가 되면 피할 수 없는 화면 전체 광역 공격을 시도함
데미지 60!
빨리 죽이지 못한다면 당신은 죽을 수도 있음.
12까지 제한시간은 약 30초 (즉, 27초에 빨간색, 30초에 흔들리고, 36초에 광역 필살기)
광역 필살기 데미지가 등장하면 화면 전체가 노란색으로 빛납니다.

디지털 시계: 시계 값은 0 -> 1 -> 2 식으로 이동하며, 00:45초에 빨간색이 되고
50초에 시계가 흔들리며, 60초에 피할 수 없는 광역 공격이 나옴
광역 필살기 데미지가 등장하면 화면 전체가 빨간색으로 빛납니다.
데미지 200! (절대 살아남을 수 없음)

종 시계: 시계 값은 아날로그랑 동일하지만, 시간 간격은 다름
시계는 오래 살려두면 안됩니다. (그 때문에 초반과 중반만 살짝 등장하고, 후반에는 등장하지 않음)

참고: 시계는 한번 공격하면 하얀색으로 되돌아오며, 11보다 약간 높은값을 가리키며 더이상 동작하지 않습니다.
즉 1회성 공격

시계 필살기 데미지
80/100/200
제한 시간
44(32/36), 55(40/45), 66(48/54)
8(빨간색)/9(흔들림)/11(필살기 사용)


배경 순서
1 / 2 / 3 / 4 / 5 / 6 / 7

0 ~ 15 - 1
16 ~ 30 - 1 / 2
31 ~ 60 - 2 / 3
??
??
210 ~ 240 - 7

1 / 2 다운타워 / 공허구간
3 / 4 그라디언트 배경
5 / 6 에너지 배경
7 / 보스전 방 (3-5랑 연관되어있음)

0 ~ 15 - 1
16 ~ 30 - 2
31 ~ 210

31 ~ 210 (180초)
A / B / A / B / A / B = (30초 단위 전환) (3 ~ 4)
          E1 / E2 / E1 + E2 교차 표시 (90 ~ 180구간에만 표시됨) (5 ~ 6)
90 ~ 120 E1
120 ~ 150 E2
150 ~ 180 E1 + E2
181 ~ 210 표시되지 않음

210 ~ 240 (7)

15 -> 0 / 1
30 -> 1
60 -> 2

다운타워 -> 다운타워 보이드
음악 (0 ~ 19초: 다운타워 음악)
20초 ~ 210초: 다운타워 보이드
211초 ~ 배경음악 없음



3-4 페이즈
0페이즈: 0 ~ 30
이동적 -> 자기장, 스타

1페이즈 31 ~ 60
신규 적 시계 등장

2페이즈 61 ~ 90
신규 적 에너지 등장

3페이즈 91 ~ 120
함선과 코어의 재등장

4페이즈 121 ~ 150
시계와 에너지와 스타와 자기장의 혼합

5페이즈 151 ~ 180
공포의 시계떼들...

6페이즈 180 ~ 210
공포의 에너지체들이 몰려온다.

7페이즈 211 ~ 240
헬시리즈, 대포, 펀치, 타포등 엄청난 적들의 물량공세가 펼쳐짐
(X, I, gasi는 등장 안함)



dps의 문제인데...
200% 기준값이고
적을 많이 나오게 하려면, 적의 체력을 감소시켜야한다.

밸런스 다시 수정?
0페이즈 60% ~ 80%
1페이즈 100% ~ 120%
2페이즈 120% ~ 160%
3페이즈부터 200%

적 체력 대략적인 값 기준 (이 수치에서 약간 오차가 있음. +-5%정도)
다만 dps를 고려할 때 +-5는 무시됨
(일부 적들은 조금 더 강할 수 있지만, 계산식에서는 고려하지 않음)

다운타워에서 적의 등장 빈도 및 수를 증가시키기 위해, 전반적인 적의 체력이 감소했습니다.
타워그룹 공통
헬시리즈: 헬기류 40%, 전투기류 20%
바: 10%
도형: 20%/20% (합산 40%),
이동형적들: 4% ~ 6%
코어: 20%
함선: 200%
시계: 200%, 400%(종 시계는 특수적 취급)


특수 적들
타포/모래시계: 50%
펀치/대포: 20% (초당 10마리)
X, I: 50%
가시: 6%
자기장/번개: 40%
별: 10%

에너지 대형: 100% = 초당 2마리
에너지 중형: 50% = 초당 4마리
(압박을 주려면 2배 더 나와야함...)

베이스 체력 기준
4%/5%/10%/20%/40%/50%/100%

참고사항: 오차 범위가 있다고 해도 내부적으로는 그렇게 계산되지 않습니다.
이걸 정확히 계산하려면 아예 새로운 던전 생성 코드를 만들어야 합니다.
hp그룹 4 ~ 6% / 내부적으로 5%로 처리
hp그룹 8 ~ 12% / 내부적으로 10%로 처리
hp그룹 16 ~ 24% / 내부적으로 20%로 처리
hp그룹 35 ~ 45% / 내부적으로 40%로 처리
hp그룹 50 ~ 60% / 내부적으로 50%로 처리
hp그룹 100% ~ / 내부적으로 100%로 처리
hp그룹 200% ~ / 내부적으로 200%로 처리
일부 적은 hp가 500%, 1000%도 나올 수 있음.
일부 적은 hp가 4% 보다도 낮을 수 있음.
게임 내에서의 적 출현빈도는 정해진 dps에 맞춰져서 설계됨


기본적으로 던전의 dps는 초반구간 40%, 중반구간부터 80% ~ 100%, 피크구간 100 ~ 120% 정도입니다.
다운타워는 200% (대신 옵션보너스가 있음)



다운타워 그룹3
코어 = dps 20% (50%에서 너프)
함선 = dps 200% (400%에서 너프)
시계 = dps 100% (400%에서 너프)
종시계 = dps 500% (특수한 경우에만 등장하도록 되어있음)
에너지 = 대형은 dps 100%, A형은 dps 20% 너프
A형은 주위의 빛이 원형이 되도록 블루어 적용 계획

보스dps 10000%/4000%/10000%


다운타워 밸런스 dps구조
페이즈 0/1/2/3/4/5/6/7...
dps: 40 ~ 60/80 ~ 120/120 ~ 160/200/200/200/200...
옵션의 데미지 구조
페이즈 0: 12/14/20
페이즈 1: 24/28/40
페이즈 2: 48/56/90
페이즈 3: 100

적 체력 베이스값에서 큰 오차를 가지지 않도록 변경합니다.
예를들어
5% 체력 라인은 4% ~ 6% 범위 내로
10% 체력 라인은 8% ~ 12% 범위 내로
20% 체력 라인은 16% ~ 24% 범위 내로
이런식으로 +-20%의 오차가 있을 수 있지만, 아주 큰 차이는 아님

(이전 적들은 해당사항 없음)
다운타워 그룹은 전면적으로 밸런스가 수정됩니다.

그룹 1
이동적: 5%
이동옐로우: 10%
모래시계, 타포: 50%
펀치, 대포: 20%
X, I: 50%
가시: 2% (5%보다 더 작습니다.)
레이저: 100%,
레이저 스몰: 20%
헬시리즈 헬기류: 40%
헬시리즈 전투기류: 20%
도형: 20% (40%에서 너프됨, 다이아만 50%)
보스로봇: 10000% (6000% x 1.4 = 9600% 보다 높은수치를 설정함)
참고: 보스전에서는 dps단위가 초당 200%이므로
6000%면 약 30초 보스임. 30초는 너무 짧아서 적 체력을 더 늘린게 보스로봇의 체력
10000% = 50초인듯 하지만, 스킬의 데미지가 100%보다 약간 높아서
대략 35 ~ 50초 사이에 보스 죽이기 가능

그룹 2
바: 10% (20%에서 너프됨)
자기장: 50% (소수의 적만 출현하도록 유도됨)
번개: 20%
자석: 50%
보스바: 4000% (3000% x 1.4 보다는 낮음, 1000%단위로 표현하기 위해 일부러 4000%사용)

그룹3
코어 20%
별 10%
함선 200%
페이크 = 기존 적들과 동일
다수코어(보스) = 10000%
시계 100%, 시계종: 500%
에너지 100%
에너지 중형 20%


점수 구조도 변경 필요?
(참고사항: 필드 스코어는 대략적으로
(baseCp / divScore) x (baseTime + bossTime) x (dps%) x (roundAdv%)
구성됨

baseCp: 해당 라운드를 진행하기 위한 기준 전투력 (이 전투력 이상이여야 클리어 가능)
divScore: 적의 체력을 기준으로 경험치를 주는데, 이 점수가 높을수록 얻는 점수가 낮아짐
기본값은 100이며, 이것은 적 체력 10000당 100점을 의미함

baseTime: 해당 라운드를 클리어하기 위해 사용해야 하는 최소의 시간
(finishTime이 180초면, 해당 라운드를 클리어하기 위해 180초를 진행해야합니다.)
(다만 라운드 구성에 따라 이 값은 약간 오차가 있을 수 있음.)
(평균적으로 저 최소시간보다는 더 많이 플레이할 수 있습니다.)
(그러나 저 시간보다 더 적게 플레이하는것은 특수한 상황을 제외하고 없습니다.)

bossTime: 보스전에서 사용가능한 예상 시간
(이것은 기준값이며, 보스의 체력과 dps의 관계를 따져서 처리합니다.)
20초 보스 = 약 3000% (2000% x 1.5)
30초 보스 = 약 4000% ~ 5000% (3000% x 1.4)
60초 보스 = 약 8000% ~ 10000% (6000% x 1.4 ~ x1.6)

dps%: 해당 라운드를 진행하는데 평균적으로 사용해야하는 데미지
(기본적으로 플레이어의 dps는 100%입니다.)
(일부 라운드는 특수한 형태 때문에 이 값이 다를 수도 있습니다. 그러나 이 값이 달라지는경우
divScore값이 증가하고 dps당 점수가 감소합니다.)

roundAdv%: 각 라운드 점수에 대한 보너스 값
(이것은 보정 용도로 사용)


라운드당 점수 기대치
1-1: 58000 ~ 60000 (150+30)
1-2: 80000 (180)
1-3: 100000 (210)
1-4: 60000 (150)
1-5: 100000 (210)
1-6: 80000 (150)

2-1: 90000 (150+20)
2-2: 100000 (170)
2-3: 90000 (192)
2-4: 120000 (207)
2-5: 130000 (200)
2-6: 100000 (150)

3-1: 220000 (200+40)
3-2: 220000 (220+20)
3-3: 240000 (200+40)
3-4: 270000 (240)
3-5: 480000 (480)
3-6: 250000 (180)
3-7: 270000 (150+40)
3-8: 270000 (180)
3-9: 260000 (150?)


3-5 보스 패턴
보스의 형태
중앙에 에너지 코어
그리고 그 주위에 몇가지 부품들

페이즈 시간
78초/72초 = 150초
66초/60초 = 126초 = 276초
54초/54초 = 108초 = 384초
40초/20초 = 60초 = 444초

내부 기준값 (dps는 200%로 취급합니다.)
72초/72초 = 144초
66초/66초 = 132초
60초/60초 = 120초
40초/20초 = 60초

보스가 예상하는 시간보다 빠르게 죽을경우, 빠른 진행이 가능합니다. (모든 페이즈 공통)

페이즈 0 (0 ~ 10)
보스 경고 표시 - 3초
10초 = 1페이즈
100초 = 2페이즈
180초 = 3페이즈
240초 = 4페이즈
300초 = 5페이즈
360초 = 6페이즈
400초 = 7페이즈
420초 = 8페이즈
435초 = 클리어

0페이즈
3 ~ 8 보스 경고 표시

1페이즈
보스 체력 = 90초분량
(90 x 100 x 2 = 18000%)

패턴 = 총알 발사 위주
(보스는 항상 오른쪽에 있음, 고정 위치)
1. LEFT 방향 총알 발사 (무작위)
2. LEFT 방향 총알 발사 (연사형)
3. LEFT 방향 총알 발사 (집중형)
4. LEFT 방향 총알 발사 (이외의패턴들...)

보스의 체력이 50%보다 낮아질경우, 모든 패턴이 강화됨


2페이즈
보스 체력 = 80초분량
(80 x 100 x 2 = 16000%)

패턴 = 폭발 발사 위주
(영역을 전개하고 폭발하는 형태)


3페이즈 (배경 변경, 아공간으로 이동)
보스 체력 = 60초분량
패턴 = 영역 찾기, 정해진 위치를 찾지 못하면 보스 타격 불가


4페이즈
보스 체력 = 60초 분량
결계의 보석 =


1 ~ 2 (optionbattle ? remake)
3 ~ 4 (new pattern)
5 ~ 6 (new pattern)
7 ~ 8 (optionbattle ? remake)

공격형
1페이즈: 총알 발사 (여러 패턴)
2페이즈: 폭발 공격 (여러 패턴, 보스로봇과는 다른 방식임)

영역형
3페이즈: 영역 전개 (정해진 위치에서만 보스 타격 가능)
4페이즈: 영역 공격

시계형
5페이즈: 시간과 공간의 방 (중앙에 시계가 표시되며, 적절한 행동을 해야함)
6페이즈: 시간과 공간의 방 2

폭주형
7페이즈: 총알 난사
8페이즈: 보스 혼잡 이동 + 무지성 유도 로켓등등

참고: 보스는 그로기 타임이 없지만, 어차피 유도 무기를 중심으로 플레이 해야 하므로(필드, 보스 상관없이)
보스 딜링은 신경 안써도 됨

보스가 죽은 후
보스에서 빛이나며, 코어의 색이 회색으로 변함
이 시점에서 시간이 지난 후 클리어


총알 발사 방식
<- 왼쪽방향 직선형
<- 왼쪽방향 난사형
<- 왼쪽방향 연사형
<- 왼쪽방향 집중형
<- 왼쪽방향 패턴형 A, B, C
한개의 패턴이 끝나면, 다른 패턴이 시도됨 (중복없음)
중복패턴일경우 임의의 순차패턴으로 처리됨
(예를들어, 1번이면 2번, 2번이면 3번으로 이동)


패턴 2: 폭격
폭격위치는 항상 예고됩니다.
폭격은 세로방향으로만 이루어짐.
미사일 자체에는 데미지가 없지만, 미사일이 폭발했을 때 데미지
(미사일은 공격력 0)

참고: 보스쪽에는 미사일이 발사되지 않으나, 보스랑 부딪히면 뒤로 튕겨져나갑니다.
(보스의 공격력은 0입니다.


downtower_anti1
downtower_anti2
downtower_anti3
downtower_anti4
downtower_passage
downtower_trap_room
downtower_factory
downtower_computer_room


보스 파괴 순서
1페이즈: 겉면 벽부분,
2페이즈: 겉면 미사일 발사부분
3페이즈: 제 1쉴드
4페이즈: 제 2쉴드
5페이즈: 균열 오로라
6페이즈: 균열 오로라
7페이즈: 

0 ~ 3: 대기 시간
4 ~ 9: 보스 경고
10: 보스전 시작
1차 보스전:
2차 보스전:
3차 보스전:

BOSS ROBOT 3-1 보스 로봇
BOSS BAR 3-2 (경고는 없음) 보스 바
DASU CORE SYSTEM 3-3 다수 코어 시스템

3-5
페이즈 1 ~ 2: NOK GASI (녹 가시) 녹 가시
페이즈 3 ~ 8: ANTI JEMUL GARDIAN (안티 제물 가디언) 안티 제물 가디언

GABUDAN (가부단/거부된 구역) 3-7



3-1 ROCKET ROBOT
3-2 BOSS BAR
3-3 DASU CORE
3-5 NOK GASI
3-5 ANTI JEMUL GARDIAN
3-7 GABUDAN (가부단)
3-11 GAROMAK (가로막)
3-13 DETECT COMPUTER (디텍트 컴퓨터)
최종 라운드: 3-5
에필로그: 3-6 ~ 3-9
에필로그 2: 3-10 ~ 3-13

1 ~ 9: 라운드 1 - 20분
10 ~ 19: 라운드 2 - 20분
20 ~ 32: 라운드 3 - 45분
30 ~ 60, 75 ~150: 라운드 4
60 ~ 64, 78 ~ 86: 라운드 5
65 ~ 68: 라운드 6
69 ~ 76: 라운드 7
87 ~ 89: 라운드 8
90 ~ 91: 라운드 9



3-5 보스전
(보스 경고 표시)
페이즈 0: 녹가시 1
페이즈 1: 녹가시 2

(보스 경고 표시)
페이즈 2 ~ 7: anti jemul gardian (안티 제물 가디언)


녹가시 1 / 페이즈 0 / 0 ~ 90초
녹가시 2 / 페이즈 1 / 91 ~ 180초
안티 제물 가디언 1 / 페이즈 2 / 181 ~ 240초
안티 제물 가디언 2 / 페이즈 3 / 241 ~ 300초
안티 제물 가디언 3 / 페이즈 4 / 301 ~ 360초
안티 제물 가디언 4 / 페이즈 5 / 360 ~ 420초
안티 제물 가디언 5 / 페이즈 6 / 421 ~ 440초
안티 제물 가디언 6 / 페이즈 7 / 441 ~ 480초

보스 자체 공격력은 0임 (안티 제물 가디언도 마찬가지)
녹가시 1 페이즈 (대형 개체 소환)
hp: 20800%

보스는 패턴 휴식시간이 없으며, 곧바로 다음 패턴을 무조건 실행함
발사 개체의 데미지는 낮게 설정됨
일부 패턴은 예고를 함
패턴 1: 집중형 발사
패턴 2: 왼쪽형 발사 (무작위 위치)
패턴 3: 저격형 발사 (플레이어 위치를 추적)
패턴 4: 분산형 발사
패턴 5: 가로세로형
패턴 6: 역반사형
패턴 7: 일렬형 
패턴 8: 낙하형

폭주패턴: 범위발사형

가시 종류는 여러개가 있음.

녹가시 2 페이즈 (가시 개체 소환, 대형 가시가 등장함)
hp: 19200%

이제는 대형 가시로 직접 공격함
패턴 1. 수직 아래에서 위로
패턴 2. 점진 속도 증가형 (벽에 부딪히면서 좌우반전, 각도는 고정)
패턴 3. 화면쓸기(회전속도 매우 빠름) (참고로 보스 공격력은 0이지만, 오브젝트로 대신 공격함)
패턴 4. 가시 투척
패턴 5. 전방 공격
패턴 6. 사선 낙하
패턴 7. 양쪽 전개
패턴 8. 가시 벽 쌓기 (시간내로 못부수면 유저를 추격함)


녹가시 hp 총합 40000%
녹가시는 매 페이즈마다 패턴 8개가 있음.
모든 패턴 간격의 대기시간이 없음
단, 일부 패턴은 발사 전에 예고를 함.


가시 종류 - 5종류
주황색
초록색
연보라색
하늘색
검정색


보스 등장 (300x100)
보스 개체는 각 페이즈마다 따로 할당됨

nokgasi1 (보스 형태는 페이즈1 + 가시1로 붙어있음. (이미지상으로는...)
판정 사이즈는 뒷 부분이 추가되어있음 (이미지사이즈로하면 페이즈1부분만 충돌되므로)
보스 공격력은 10 (연타 초당 3회)

nokgasi2 (보스 형태는 가시만 있음)


페이즈 3 (페이즈 3은, 보스랑 라운드랑 연동되어있음. anti1, anti2, anti3, anti4, anti5, anti6)

보스 -> 가시발사형태
가시를 new로 생성하고 그 다음에

new Gasi()
Gasi.insertType 또는
constroutor 박어

가시마다 내부적으로 알고리즘은 다르게 처리됨
이를 위한 옵션값이 추가로 정의되어있음.
세이브/로드 시는 이 값이 적용되지 않을 수도?

총알 기본데미지 5,
급수기하적인 데미지를 막기 위해 일부 가시는 데미지가 더 낮게 설정됨
다만 1은 아님

x축 이동속도는 제약이 있음. (800x600에서 피할 수 있는 시간을 1초 이상 주려면 12px를 넘으면 안됨)
F1. 오렌지 패턴
생성 후, 무작위 위치로 이동 (단, 피할 공간은 3군데 있음)
피할 공간이 먼저 계산되고 (값 좌표 기준 +- 20임)
피할 공간을 제외한 나머지 20단위로 총알 발사
데미지 5

F1-2. (대각 범위)
대각선만으로 이동함 (회전각 없음)
무작위 위치에서 200px 만큼 생성됨
y축 이동속도는 1.2 or -1.2
데미지 5

F2. 녹색 패턴 (집중 / 유도 아님)
생성 후, 3초 이후부터 엄청난 속도로 발사됨. 위치는 고정(여기서 약간 +-)
알아보기 쉽도록, 총알이 조금 더 앞쪽과 뒤에서 골고루 생성됨
데미지 2

F3. 보라색 (유도)
녹색이랑 비슷하지만 플레이어 방향을 추격함
데미지 2

F4. 하늘색 패턴
가시가 발사되면 위쪽으로도 가시를 발사
(이것은 조정 필요)
데미지 5 (하늘색은 구분이 쉽도록 다른 색상을 발사하도록 처리됨 = 오렌지색)

F4-2 가시 낙하
가시가 위에서 생성되고 아래로 내려옴

F5. 회색 패턴
무작위 발사 (방향, 속도, 위치 전부 무작위)
대신, 발사 빈도수는 낮게 설정됨 (초당 3회 정도)

F6. 유도 패턴 (이것만 데미지 2)
가시를 발사하는데 일정시간 연속으로 플레이어 방향쪽으로만 발사
(색: 보라색)


폭주 패턴 (hp 20% 이하)
랜덤한 색상의 가시가 영역 형태로 난사되며 피하기 어려울 수 있으므로 가능한 한 데미지를 많이 주어야 함
(시간을 끌수록 가시의 개수가 점점 늘어나므로, 주의)




1번 패턴
총알 생성 -> 생성된 총알은 정해진 좌표로 이동 -> 이동 대기 시간이 다 되면 (별도로 처리함)
왼쪽으로 이동
총알속도: 12

범위: 0 ~ graphicSystem.canvas_height
4군데 지정
[Math.random] +-20 제외

발사 간격은 20픽셀
피할 수 있는 공간은 60픽셀정도




2번 패턴
총알 생성 -> 총알은 느린 속도로 대각선 방향 (위 또는 아래) 을 통해 이동
총알 범위는 전체적인 범위 중 랜덤한 절반 영역
총알속도: 10

60, 120, 180, 240, 300, 360, 420, 480, 540, 600


1번, 2번 = 오렌지
3번 = 그린
4번 = 보라 (유도)
5번 = 하늘 (가시가 가시를 생성)
6번 = 벽반사
7번 = 완전 무작위형 (y축 위치, 대기시간없음, 속도 랜덤 (x축6 ~ 8, y축 2 ~ 3)
8번 = 보라 2 (유도, 전영역 위치함)

패턴 진입 방식
패턴 총 개수: 8
(hp 20%이하, 폭주패턴: 모든 색이 다 나옴)

공격번호 측정방식
= 객체가 생성될 때 무작위 공격번호가 설정됨
[1, 3, 6, 8, 4, 2, 5, 7]
이 패턴은 8번 공격할때마다 무작위로 지정됨

패턴 번호
1, 2 오렌지형 (여러구간에 걸쳐서 발사됨)
3 그린 (특정 구간에 집중)
4 5 보라 (플레이어 추적형, 생성 범위에 따라 패턴 구분됨)
6 하늘 (가시가 가시를 생성)
7 핑크 (벽반사)
8 회색 (완전 무작위)
9 랜덤 (올랜덤패턴)


1, 2 오렌지 (영역형, 대각형)
3, 4 그린 (집중형, 난사형)
5, 6 보라 (유도형 2패턴)
7 하늘 (가시생성형)
8 핑크 (반사형)
9 회색 (무작위형)
10 폭주 (랜덤색, 랜덤방향, 랜덤개수, 엄청난속도, 가시데미지는 2로 설정됨)
일부 가시패턴에서의 가시 데미지는 낮게 설정됨

패턴 진행시간, 패턴마다 다르게 설정됨


오렌지, 보라 = gasi1
그린, 그레이 = gasiGreen
핑크, 하늘 = gasiPink

orange/violet = 1
green = 2
pink = 3
blue = 4

= 1 / orange/violet
= 2 / green/grey
= 3 / pink
= 4 / blue



nokgasi1 = 20000%
nokgasi2 = 20000%
nokgasi2 = 페이즈 1-2

이제부터 모든 가시는 연타방식으로 변경하고, 연타 데미지는 3 (초당 10회)
(가시는 회전하지 않습니다. 가시의 종류는 총 5종류입니다. (보스랑 구분하기 위해 색이 조금 다름))
= 형태는 동일

패턴1: 가시를 소환하고 밑에 대기시킨 후 발사
(시전 이전에 회전이 시작되고 속도가 점점 빨라짐)

패턴2: 가시 사선 던지기 (포물선? 처럼)
패턴3: 가시 창 (양 위/아래 출현하고, 큰 가시가 여러줄로 나옴)
(여러대의 가시에 맞을 수 있기 때문에 가시의 데미지는 낮습니다.)

패턴4: 가시 직진 찌르기 (대형 가시)
패턴5: 가시 플랫폼 (아래에서 위로 올라옴 / 일정 지형 패턴인것처럼)

패턴H: 가시가 회전화면서 전방을 왔다갔다 함 -> 폭주패턴으로 변경

up/down/left (right 없음)

teal
green
blue
yellow
pink

// 타임스탑을 다른방식으로 걸어야겠다.
보스가 있으면 스탑 -> (기본시간을 90초?, 130초)
보스가 다른것으로 변경되면 시간 재개하고 다음페이즈로 이동
다시 보스가 있으면 스탑

페이즈 1-1, 1-2 (녹가시)
페이즈 2-1, 2-2, 2-3, 2-4 (안티)
페이즈 3-1, 3-2 (안티 폭주)

페이즈 2-1 (안티 제물)
+0 ~ +10 보스 경고
+11 ~ +13 보스의 등장 (보스는 가운데에 등장)
+14 ~ +20 사운드 재생
+21 ~ +25 공간 이동 (공간배경은 어두운 배경에 + 미세한 붓그림들이 있음)
+26 ~ +60 패턴 재개

보스를 찾아야 한다. (보스의 체력은 표시되지만, 이것은 라운드에서 처리함 (즉 적은 없음)
보스가 있는곳을 성공적으로 찾으면 보스가 표시되며, 보스(인데 보스가 아닌 적으로 되어있음)
를 공격할 수 있음.
적의 체력은 1200%,
이것을 5회 반복 = 6000%
횟수 반복 마다 시간 범위가 조정됨

페이즈 2-2
색깔(모양) 사각형들이 마구잡이로 돌아다니기 시작함
이 색깔은 적은 아니라서 공격은 불가능
색깔이 있는곳에 부딪히면, 다른 공간으로 이동... 하고
거기에서 보스를 쓰러트려야 함
(내부적으로 보스는 여러종류임... 보스인데 보스가 아니고 보스처럼 취급하는 이상한 게임)
색깔 공간을 클리어 할 때마다 시간 범위가 조정됨

페이즈 2-3 (쉴드 부수기)
여기저기 쉴드들이 생성
쉴드를 부술때마다 패턴이 변경됨

페이즈 2-4 보스 본체 공격

페이즈 2-5 ?!?!?!?!?!


10, 12, 20, 24, 40, ...
90초기준 = 140%

1-1 페이즈: 150% x 80 x 1.2 = 14400 + 600 = 15000



2-1 페이즈 라이프 5개
정해진 구역은 랜덤으로 설정됨 (이리 저리 돌아다니면서 보스를 찾아야 함)
보스가 등장하면, 적이 등장하고 이 적을 죽을 때마다 보스의 라이프 1 감소
총 5라이프를 감소시키면 통과
보스는 움직이지 않습니다.

사운드 - 안티 제물 -> 사운드 및 검정배경 확대
검정배경이 전부 확대된 이후에는, 기존 배경을 흐리게 처리한 후, 안개 배경을 표시
(여기까지 그래픽, 사운드 완성)

보스가 등장하면 사운드 재생

musicxx_round3_5_phase2

(타워에너미 계열이 아님)
round 3-5 전용 사운드
1페이즈는 없음

round_3_5_message1 = 메세지1
round_3_5_phase2_start = 페이즈 2 시작
round_3_5_phase2_search = 페이즈 2 검색 (보스를 찾은 경우)
round_3_5_phase2_bossDie = 보스가 당한 경우

핵심은 보스를 찾아서 공격하는것
(보스를 찾으면 새로운 적이 생성됨)

0 ~ 90 (0 ~ 10, 11 ~ 89)
91 ~ 180 (91 ~ 189)
180 ~ 240 (191 ~ 239) / 라이프 4개?

페이즈 2 배경음악

round3_5_phase1 / 1-1, 1-2
round3_5_phase2 / 2-1, 2-2
round3_5_phase3 / 3-1, 3-2
round3_5_phase4 / 4-1, 4-2
round3_5_phase5 / 5-1, 5-2

페이즈 1음악 = 확정
페이즈 2음악 = 확정
페이즈 3음악 = ?
페이즈 4음악 = 확정

페이즈 1 확정
녹가시1, 녹가시2 = 보스전
가시패턴 확정

페이즈 2 아직 모름
첫번째가 보스 찾기
두번째 ? -> 공간 이동 후 임의 패턴 회피 (

페이즈 3 공간 붕괴하고, 이제 본격적으로 싸움


모든 페이즈 구간 음악 확정
19, 20, 21, 22
music19_round3_5_phase1
music20_round3_5_phase2_blackArea
music21_round3_5_phase3_antijemulNormal
music22_round3_5_phase4_antijemulHyper

1페이즈: 녹가시 (확정) - round3_5_phase1
2페이즈: 검은 공간 - round3_5_blackArea
3페이즈: 안티 제물와의 대결 - round3_5_antiBossNormal
4페이즈: 안티 제물의 폭주 - round3_5_antiBossHyper

참고: 녹가시 테마는 없습니다. 단순히 1페이즈 음악에 녹가시가 출현할 뿐...
1페이즈 음악
원래 안티 보스는 8페이즈 구성이였지만, 4페이즈로 압축 (2개씩 1페이즈로 묶음)
1페이즈 음악: 그냥 1페이즈 음악일 뿐...
원래는, 여기서 안티 제물이 등장해야 했으나, 녹가시란 보스를 만들고 안티 레이저에 붙이려고 해보니
뭔가 안어울려서, 버림...
결국, 1페이즈는 녹가시라는 단일 보스만 남게 되어버림.
(안티 제물은 2페이즈때붜 등장하도록 변경됨)
이 때의 잔재로, 1페이즈는 녹가시만 등장하지만 음악 이름엔 녹가시가 없음

2페이즈 음악
2페이즈부터 안티 제물과 싸우지만... 전개가 이상하다?
안티 제물은 플레이어를 자기만의 어두운 공간에 초대합니다. 블랙 공간안에 갇힌 플레이어는 이곳을 탈출해야 합니다.
그렇기 때문에 썰렁하고 어두우면서 이상한 느낌이 드는 공간으로 만들었습니다.

2페이즈를 클리어하면 어두운 공간을 탈출하며 안티 제물이 다시 등장합니다. (기존대비 크기는 2배입니다. - 이건 다른 제물보스랑 거의 동일하지만...)


3페이즈 음악, 4페이즈 음악
둘 다 안티제물랑 전투할 때 나오는 음악이지만, 이것을 1, 2로 구분할지 normal, hyper로 구분할지 고민하다가
3을 normal, 4를 hyper로 구분하였습니다.

3페이즈에는 안티 제물과 고정적인 장소에서 싸우게됩니다. 배경은 이동하지 않습니다.
3-1 페이즈를 클리어하면 쉴드가 일부 사라지며
3-2 페이즈도 마찬가지

3페이즈를 클리어하면, message사운드와 함께 4페이즈가 시작됩니다.
4페이즈는 다시 다른 배경으로 변경되며, 4페이즈를 클리어하면 원래 위치로 되돌아옵니다.
이후 안티 제물이 사라지고... 라운드 클리어
(이 보스는 다른 방식으로 죽게됨)


music19_round3_5_phase1
music20_round3_5_blackArea
music21_round3_5_antijemulNormal
music22_round3_5_antijemulHyper
music23_down_tower_core / r3-6 ~ r3-7
music24_down_tower_passage / r3-8
music25_down_tower_trap / r3-10, r3-7s1
music26_down_tower_factory / r3-11 ~ r3-12
music27_down_tower_deep / r3-13
music28_donggrami_maeul_shop
music29_trailar_music1

10/70/70 = 150 (180 -> 150)
1-1: 0 ~ 10, 11 ~ 80
1-2: 81 ~ 150
2-1: 0 ~ 20, 21 ~ 80
2-2: 81 ~ 150
= 300초

2-1: 보스 찾기
아무렇게나 이동하다보면 보스가 등장합니다.
보스를 찾으면 보스가 등장하며
이를 4번 반복
각 횟수당 15초 단위

2-2: 영역 공간
4개의 공간이 오픈되며, 각 공간 안에 있는 목표를 달성해야 합니다.
공간 순서는 5번째를 제외하고는 랜덤임
1. 길 찾기: 함정을 피해 골인지점에 이동해야 합니다.
2. 동전 모으기: 정해진 개수의 동전을 모아야 합니다.
3. 보스 죽이기: 보스를 죽이면 됩니다.
4. 몬스터 피하기: 여기저기서 달려드는 몬스터들을 피하면서 죽이세요.
5. 결계 부수기: 보스는 아무것도 하지 않지만, 죽일 수 있습니다.

2-2페이즈를 통과하면, 배경이 다시 다운타워로 변경되고, 배경 스크롤이 진행됩니다.


3-1: 안티 제물 쉴드 부수기
1. 링 공격 (링을 소환하고 링이 있는 위치에 링 연타)
2. 링 확대 (링을 소환하고 해당 링이 지속적으로 확대됨 / 일정시간 후 삭제)
3. 링 이동 (링이 지속적으로 빠르게 이동합니다.)
4. 링 반사 (링이 이리저리 튕겨저나가면서 돌아다님)
5. ???

3-2: 안티 제물 쉴드 부수기 (쉴드 2단계 구성)
1. 사각막대형 레이저 등장 (스캐너 방식)
2. 에너지 총알 발사 (몇가지 패턴이 있음)
3. 폭탄 떨어트리기
4. 미사일


3-2의 안티 제물 쉴드를 전부 부술경우, 4페이즈로 이동
4페이즈로 이동시, 배경 변경
4-1: ?? (단일 패턴, 총알만 발사)
4-2: ?? (단일 패턴, 유저를 추적하면서 추적미사일만 발사함)

4-2페이즈까지 성공한 경우, 보스가 죽습니다.
그리고 일정시간이 지나면 클리어



2-1 페이즈에서 필요한 사운드 및 그래픽
신규 배경은 2페이즈, 4페이즈만 존재
1페이즈, 3페이즈는 r3-4에서 level7 배경 사용

페이즈 입장 전 사운드는 전부 완성
페이즈 입장 후

1페이즈: phase1 - nokgasi
2페이즈: BlackSpace
3페이즈: antijemul normal mode
4페이즈: antijemul hyper mode

2-1페이즈 (각 구간당 20초, 최대 4회 반복, 최대 대기 시간 14초, 보스 체력 2000%, 10초구간)
보스를 찾아라.

주위를 계속 돌아다니면 (참고: 움직이지 않으면 보스를 찾을 수 없음)
보스가 등장합니다. 이 보스를 죽이면 다음구간으로

2-1-2
이제 플레이어는 조금씩 뒤로 밀리기 시작합니다. 계속 앞으로 가주세요.
일정량 이동했을 때 보스가 다시 등장하고, 다시 그 보스를 죽이세요.

2-1-3
이제 플레이어는 더 빠르게 뒤로 밀리거나 바깥으로 밀쳐지기 시작합니다.
(그러나 의미는 없음)

2-1-4
이제 플레이너는 강제로 빠르게 랜덤하게 이동하기 시작합니다.
(플레이어는 화면 바깥을 벗어날 수 없으므로 벽에 부딪히면 더 밀리지는 않음)

페이즈를 클리어할 수록 배경 이동속도가 지속적으로 증가합니다.
배경은 X축방향으로 움직입니다.
배경레이어는 일정시간단위로 계속 변경됩니다. (2초단위로 생성, 소멸을 반복)
플레이어는 강제로 <- 방향으로 점점 이동합니다.

보스를 찾으려면 계속 돌아다녀야 합니다.
(아무런 이동도 없다면 보스는 나오지만 대략 12초이상의 대기시간이 필요합니다.)
(이동을 계속한다면 보스는 최소 5초 이후에 등장합니다.)
(이동하는값은, 유저의 이동 조작을 확인하여, 그 값이 true일 때 (input이 아닌 down으로 조사하기 때문에 중복여부를 판단할 수 있음) 이전값과 이후값의 x축 + y축의 차이값이 일정 값 이상이어야 보스가 등장합니다.
(단, 유저의 이동속도도 같이 조사해서 총 이동값의 비중값을 따짐, 이 판정은 매 프레임마다 지속)

유저 이동속도가 = 10인경우, 
140px만큼 이동하면, +14점 추가

총점: 최소 5초를 이동해야 합니다.
(단, 내부적으로도 점수는 계속 상승하며, 만약 플레이어가 이동을 하지 않더라도 12초 이후에는 보스가 반드시 등장합니다.)

보스가 있는 동안은 타임스탑되며, 보스를 예상보다 빠르게 죽일경우 일정시간 더 빨리 진행할 수 있습니다.

80
70
100
110

+0 ~ 10 보스 경고 표시
+11 ~ +20 페이즈 2 이동
+21 ~ +41 페이즈 2-1-1
+41 ~ +61 페이즈 2-2-2
+61 ~ +81 페이즈 2-2-3
+81 ~ +100 페이즈 2-2-4

페이즈 2-2
성공적으로 페이즈 2-2에 도달하면, 4개의 워프존이 생성됩니다.
이 워프존으로 들어가 미션을 수행해야 합니다.
각 구간당 20초가 기준값입니다. (이것보다 조금 더 걸릴거임)
각 구간에 일정시간이 초과될경우, 클리어를 못하는 사람을 위하여 모든 함정이 해제됩니다.
그 기준값은 34초

구간1: 토네이도를 피하면서 골인지점까지 이동하기
구간2: 빨간색 공간을 피하면서 골인지점까지 이동하기 (빨간색 공간에 부딪히면 리셋)
구간3: 보스가 등장합니다. 보스를 죽이세요. 보스는 총알만 여러개 발사하지만 딱히 중요한 패턴은 없습니다.
구간4: 에너지체(3-4에서 나왔던것)이 등장합니다. 여러방향에서, 조심하세요.
구간5: 이제 벽을 부술 시간입니다. 구간3과 동일하지만, 벽은 아무것도 하지 않습니다.
다만 토네이도에 닿으면 보스가 체력을 조금씩 회복하므로 주의하세요.

구간 5은 반드시 마지막에 도착합니다.
이 구간을 성공하면 페이즈 2 클리어.

...

페이즈 2에서 필요한 사운드
- 페이즈 2입장, 메세지1 (확정)
- 보스 찾기, 보스 소멸 (보스가 죽는사운드와는 조금 다를 수도 있지만 확정은 아님)


페이즈 2-1, 보스 찾기
토네이도를 피해 앞으로 나아가야함
아무 이동도 없으면 더 오래걸림
토네이도에 닿으면 왼쪽으로 튕겨짐

2-1-1, 토네이도 없음, 배경스크롤 속도 0
2-1-2, 토네이도 추가, 배경스크롤 속도 변경 (레이어마다 다름)
2-1-3, 토네이도 더 추가, 배경스크롤 속도 변경 (레이어마다 다름)
2-1-4, 토네이도 더 추가, 배경스크롤 속도 변경 (레이어마다 다름)

보스 찾기 방식: 유저가 어떤식으로든 이동하면 이동점수가 쌓임
이 이동점수는 시간에 따라서도 누적됨
(즉 아무렇게나 돌아다니다보면 보스가 등장함)
토네이도는 닿으면 데미지(4프레임당 6)를 받으므로 주의


이동점수
이전좌표값과의 실시간 비교
좌표차이값만큼의 점수
(x + y의 차이값을 전부 더함)

1프레임당 약 8점정도 상승
60프레임 이동 = 480점

1초당 500점 기준이며, 최소 6초 이동해야 함.

3000점 1
3500점 2
4000점 3
4500점 4

시간에 따른 점수 속도 상승
5초 이후 매 프레임당 10점,
10초 이후 매 프레임당 20점
15초 이후 매 프레임당 40점씩 상승함

점수가 초과되면 랜덤한 위치에서 보스 생성 (보스의 공격력은 0이고, 이동하지 않음)
(보스가 죽으면 점수 리셋하고, 다음 구간으로 넘어감 이것을 총 4번 반복)

타임 기준값 / 타임 스탑은 각 구간당 20초단위처럼 정의되어있지만
실제로는 +18/+38/+58/+80 입니다.
6 + 12
7 + 13
8 + 14
9 + 15

1 10
2 9
3 8
4 7

토네이도 속도
기준값에 가속이 되도록 변경

참고 이동속도는 결과적으로 음수로 계산됨 (좌표값을 이동하는 개념이라서)
최소속도: 4
최대속도: 10
이 범위 내에서 2초마다 랜덤하게 변경
왼쪽으로 많이 넘어간 토네이도는 자동으로 삭제됨

기준속도가 8
현재속도가 4
가속값이 0

가속값을 0.1
현재속도를 기준속도로 상승
기준속도 범위 이내일경우, 가속 리셋

이값을 -abs해서 스피드 적용


시작속도
목표속도

시작속도에서 목표속도로 서서히 이동
목표속도에 도달하면, 시작속도가 목표속도로 변경됨

속도가 크면 속도를 줄이고
속도가 작으면 속도를 늘리고
단 흔들리는걸 막기 위해 속도 범위는 +0.1 ~ -0.1
속도 변화는 이보다 적음

스프라이트 개념을 재설계
객체 구성
필드, 무기, 적, 플레이어, 라운드

적 총알은 저장되지 않음
이펙트는 저장되지 않음
스프라이트는 저장후 불러오기 기능을 구현하지 못해 포기하였으나, 생각해보면, 다른방식으로도 복구할 수 있었음.

저장시스템도 변경


getSaveData -> saveData -> return
setLoadData -> loadData -> return x need to parameter

FieldData -> 확장을 좀 하고

관리 방식 변경
BaseFieldParameter <- 모든 필드데이터 공통 요소
ClassParameter <- FieldData를 확장한 공통 요소
ExtendParameter <- 확장 요소 (각 객체별로 다를 수 있음)

sprite process ->

round -> loadData -> loadDataSprite

// 이 값들은 전부 문자열임
objectType = Field, weapon, enemy등등을 구분
mainType = donggramiEnemy, towerEnemy처럼 그룹을 구분
(그러나 그룹을 구분하는 경우가 거의 없어 이 변수는 잘 쓰이지 않음)
subType = 해당 적의 세부타입이라고 되어있지만, 이 값 자체는 적 자체를 구분하는데 사용됨
state = 상태값 (현재 상태에 대한 정보)

saveString = 따로 저장되는 문자열
saveList = 따로 저장되는 추가적인 오브젝트 리스트 (객체형)
(이 값은 JSON이며, 객체이지만, 함수는 사용할 수 없음), JSON은 함수를 저장할 수 없음

저장은 필수적인 일부 정보를 제외하고 저장하게됨
(개수 제한은 필요하다면 넣을 수 있음)

필드에서 사용하는 객체의 종류
- 플레이어 (플레이어오브젝트, 플레이어에 관한 로직을 처리)
- 무기 (플레이어가 적을 공격하기 위해 사용하는 무기)
- 적 (적, 적이 공격력이 있다면, 플레이어를 공격할 수 있음, 일부 적은 공격주기가 다를 수 있음)
- 적총알 (적이 사용하는 총알, 플레이어를 공격할 수 있음)
- 이펙트 (특정 오브젝트가 특정 이펙트를 표시하기 위해 사용하는것)
- 데미지 (적이 받은 데미지를 표시)
- 라운드 (현재 진행하고 있는 라운드)
- 스프라이트 (라운드에서 표시하기 위한 또다른 객체, 이 객체는 어떤 용도로 사용될지 라운드 내에서 임의로 결정됨)
(스프라이트는 아군일수도, 적군일수도, 중립일수도 있습니다.)

저장하는 방식
해당 저장 요소는 FieldData의 공통 요소에서 정의되며
일부 객체는 saveData, loadData에서 정의하지만,
이 함수는 사용자 지정이 아니였습니다.
이유는 함수를 상속할 때마다 매개변수와 조건을 다시 확인해야 하는 번거로움이 있기 때문입니다.

FieldData
필드데이터는 기본적으로 tamshooter4에서 사용할 필드 객체의 기본을 정의합니다.
다만 현재 이 객체는 몇몇 기능이 빠져있고, 이로 인하여, 
새로운 기능을 구현하기 위한 코드가 너무 많이 필요해지게됨.

이로 인하여, 중앙에서 어느정도 처리해 줄 수 있는 함수를 대량으로 추가해야 함
이 작업은 며칠동안 계속될 가능성이 높음

불러오기 과정
불러오기가 시작되면, 기존에 있는 데이터를 가져온 후 sramdata를 해석하여 플레이어의 정보를 갱신함
만약 sramdata가 잘못되면 해당 정보는 백업데이터를 살펴봄
만약 backupdata까지 에러나면 해당 데이터는 삭제됨 (복구할 수 없다고 판정하고 리셋)
- 일반적인 상황에서는 해당 오류는 있을 수 없음 -

만약 필드데이터가 널이 아니면
필드데이터 해석을 시도함

필드에서 저장되는 정보
플레이어, 무기, 적, 스프라이트
(적 총알, 데미지, 이펙트는 저장 용량을 줄이기 위해 저장하지 않음)
그러나, 현재 스프라이트는 불러오는 방법을 알지 못하였으나, 이번에 알게됨

스프라이트의 목적
스프라이트는 라운드 내부에서 사용되는 객체입니다.
이 말은, 스프라이트에 대한 처리 로직은 라운드 내부에서 처리한다는 뜻입니다.
원래는 그랬어야 하지만 이것은 지금까지 다른 형식으로 구현되었습니다.

이로인하여, 게임을 만드는데 너무 복잡하고 어려운 방식으로 간접 저장하게 되었습니다.
이제, 이를 수정할 차례입니다.

확장 저장에 대해

FieldData.fieldDataBaseSave (조만간 함수 이름이 변경될 예정임)
필드 객체는 예상대로 모든 부분을 저장하지 않습니다.
이로 인하여, 예상하지 못한 행동을 적이 시도할 수 있지만, 해당 요소는 정상입니다.

그러나, 한동안은 적에 대한 일부 정보를 저장할 계획을 가지고 있음.
(물론 대부분의 적은 해당없음)

FieldData를 불러오는 도중 오류가 발생하면, 해당 FieldData는 삭제되고, 메인화면으로 되돌아갑니다.
(오류메세지가 자바스크립트 팝업으로 표시되지만, 
나중 버전에서 게임 내에서 표시되도록 변경될 예정)

저장기능?


불러오기에 대한 문제
어떻게 불러올 것인가?

먼저 불러와야 할 객체에 대한 정보를 저장해야한다.
이 값은 id로 판단

그러나, 스프라이트, 적 총알, 이펙트는 id가 존재하지 않음.
이 때문에 해당 요소들은 저장한 이후에도 복원하지 못함.
(누가 어떻게 생성했는지 모름)

이펙트, 적 총알은 애초부터 저장할 계획이 없었지만...
(사실, 저장할 수 있는 방법은 있고, 구현이 조금 까다로움)
그리고, 복원을 완벽하게 할 수는 없음. 정확하게는 로직이 없는 비어있는 객체만 남음
참고: 적은 스프라이트를 생성하면 안됨 (불가능하진 않지만, 원칙은 라운드에서만 사용 가능)


오브젝트: 값 고정 (못바꿈)
메인, 서브 (용도에 따라 다른듯?)

mainType
skill, skillsub


저장하는 정보
(저장하는 양을 줄이기 위해 나머지에 대한 정보를 전부 버림)
무기 (skill만 저장하고, 나머지는 버림)
적
스프라이트 (라운드 내부에서 추가적인 처리를 함)
플레이어
라운드

스프라이트 복구 방식
-> 라운드를 먼저 생성
해당 라운드에서 받아온 데이터를 기반으로
스프라이트를 처음부터 재생성

생성된 스프라이트는 이제 라운드에서 관리하지만, 생성은 field.createSprite에서 진행합니다.
스프라이트는 스프라이트끼리 행동하도록 처리됨


객체로 리턴되고, 필드에 저장할때는 JSON으로 다시 변환됨

모든 저장 변수는 saveList를 제외하고 객체가 아님
saveString = 문자열
saveList = 객체


delay 표준값
stateDelay
attackDelay
moveDelay

스프라이트 저장 방식
라운드를 불러올때, 불러오는 작업이 진행됩니다.




페이즈 1-1: 0 ~ 10, 11 ~ 80
1-2 81 ~ 150
80, 70

페이즈 2-1: 150 ~ 170, 171 ~ 251
2-2: 251 ~ 351

보스찾기에 대한 힌트는 라운드 내에서 제공되지는 않습니다.

시간이 정해진 값을 대기하게되면 FIND A BOSS가 출력됩니다.
FIND A BOSS...

2-1: 0 ~ 20 보스 출현 및 화면 전환
21 ~ 100 보스 찾기 (총 4번, 각 구간당 20초씩 진행)

각 구간당 20초
16 / 20 / 20 / 24


페이즈 1_1 <- 녹가시, 경고표시 0 ~ 80
페이즈 1_2 <- 녹가시2 81 ~ 150
페이즈 2_1 <- 경고 표시, 하면 전환 151 ~ 170
페이즈 2_2 <- 블랙스페이스 171 ~ 250
페이즈 2_3 <- 블랙스페이스2 251 ~ 300


70 / 70


10000%
14000%

적 공격 처리를, 조건부로 하게 해야하나?


0 / 2 / 5 / 7
1 -> 0 -> 1 -> 1
0 -> 2 -> 0 -> 2

0, 120, 180, 120

100초
120초 = 220초 = 370초?
상자 4개?


2-4를 클리어하면, 화면 스크롤이 서서히 느려지며 배경이 사라지고
완전히 어두운공간에 갇힘...
그리고 잠시 후, 무언가 상자가 플레이어 앞에 나타난다.

시간이 멈추면 SELECT BOX 란 안내가 뜸

각 구간마다 총알들이 방해하며, 일정시간을 버티면 보스가 등장한다.
그 보스를 쓰러트리면 됨

빨간색 총알 박스 (가운데에서 무작위 방향으로 무작위의 개수의 총알이 발사됨)
(시간이 지날수록 빈도가 높아짐, 최대제한 있음)

노란색 총알 박스 (임의의 줄이 지정되고 해당 줄에 예고를 한 뒤 전영역 레이저 발사)
(시간이 지나도 간격은 고정)

하얀색 총알 박스 (플레이어는 지속적으로 가운데에 끌려가며, 지속적으로 토네이도가 커짐)

검은색 박스 (이제 블랙스페이스를 공격할 차례)
(블랙스페이스는 적 객체로 분류됨)


빨간색 - 총알피하기
노란색 - 영역피하기
하얀색 - 토네이도피하기
초록색 - 가시피하기
각 공간을 일정시간 버티면서 이동하면 보스가 등장합니다.
(보스 등장 원리는 2-1과 동일, 단 수치는 고정값)
(블랙스페이스 번호는 특수값으로 고정됨)
공간은 5개 전부를 이동해야 하며, 1 ~ 4번은 순서를 선택 가능


검은색 - 공간부수기


2-1-4 가 통과되면
배경이동이 사라지고, 완전한 검은 공간으로 이동
그 다음 2-2-1로 이동되고
플레이어는 강제로 가운데에 배치
블랙스페이스번호는 항상 6으로 고정

0, 1, 2, 3, 4, 5, 
6, 7, 8

상자 아이콘 4개, 
빨간색 원 그라디언트 총알
노란색 사각형 그라디언트 영역
초록색 삼각형 그라디언트 길막
하얀색 토네이도

블랙스페이스 파괴 사운드


룸은 총 4개
해당 페이즈에 진입하면, 플레이어는 강제로 중앙으로 이동됨

그 다음, 방을 선택해야 하는데
(방을 선택하는 동안에도 시간은 진행되지만, 3초를 초과할경우 스탑됨)

한쪽 방향으로 쭉 가면 선택이 됨
(다른 방향을 누르면 리셋, 중앙으로 다시 이동됨)


[] [] []
[] [] []
[] [] []

    350
    250

-> sprite취급을 안할거고, 내부 객체처럼 처리할
red, yellow, green, tornado -> black

레드: 총알발사

옐로우: 영역 전개 후, 레이저 발사
영역전개: 스프라이트
레이저: 에너미불릿

그린
바깥 영역은 전부 가시가 표시
(내부적으로는 스프라이트 처리)

안쪽에는 가시가 발사되는데 직선으로 움직이고
에너미불릿처리 (데미지는 레드랑 동일)

화이트


시간 기준: 20초 / 20초 / 20초 / 20초 = 80초
타입스탑은 이보다 2초 적습니다.
18 / 38 / 58 / 78
2_3 = 30초

80/70 = 150
100/100/30 = 250

2초


그린 (맨 위, 맨 아래는 가시로 도배됨)
-> 스프라이트 취급?


100x100, 총 8개 x 2 = 16개 배치
1초마다 랜덤한 가시가 생성되고, 


스프라이트 vs 총알


2-1-1 ~ 2-1-4 블랙스페이스안티
2-2-1 ~ 2-2-3

블랙스페이스 에너미
블랙스페이스 안티 2페이즈 전역
블랙스페이스 토네이도 2-2-4
블랙스페이스 에리어 2-3-1

블랙스페이스안티 (옐로우는 얘가나옴)
블랙스페이스레드
블랙스페이스그린
블랙스페이스토네이도
블랙스페이스에리어

블랙스페이스에리어: 이미지없음, 공간 그 자체
체력이 감소할때마다 배경에 금이감...

블랙스페이스레드: 별다른 특징은 없습니다. (공격력 0)
블랙스페이스그린: 별다른 특징은 없습니다. (공격력 0)
블랙스페이스 토네이도: 별다른 특징은 없습니다. (시작하자마자 공격할 수 있습니다.)
블랙스페이스 에리어: 별다른 특징은 없습니다. (시작하자마자 공격할 수 있습니다.), 이미지가 없습니다.
체력은 2-1 보다 조금 더 많습니다.

페이즈 2-3
블랙스페이스 에리어만 존재
3초후 등장
그냥 딜로 때리면 끝남




페이즈 1: 0 ~ 80, 81 ~ 150
페이즈 2: 150 ~ 250, 250 ~ 350, 351 ~ 380
페이즈 3: 380 ~ 390?
hpBase는 100초 이후부터 200%

2-1 10s x 200% = 2000% (baseTime 20, delayTime 10)
2-2 14s x 200% = 2800% (baseTime 25, delayTime 12), tornado = 4000%
2-3 25s x 200% = 5000% (baseTime 30, delayTime 5)


red - shot
yellow - shot
green - shot?

배경: 블랙스페이스1, 2 -> 암흑 -> 기타배경 -> 암흑
블랙스페이스레드, 그린, 토네이도
-> 블랙스페이스 1, 2 (투명도 40%)
블랙스페이스를 공격할때마다 원래의 다운타워 배경이 흐릿하게 보이기 시작함
블랙스페이스를 죽이면, 페이즈 클리어

레이저: 3초 후부터 발사되도록 변경
가시, 에너미 총알이 아닌 스프라이트로 분류되도록 변경 (필드에 깔리는것은)
2-2는 보스 생성 위치를 다르게 하도록 변경


hp 50% 이하부터 투명도 상승

0.5 - (hp / hpMax)

0.5 - 0.5 = 0
50% = 0.5
40% = 0.4

1페이즈 80 + 70 = 150
2페이즈 100 + 100 + 30 = 230
3페이즈 90 + 90 = 180
4페이즈 30


3페이즈 시작 (다운타워로 되돌아옴)
메세지 발생
0 ~ 7 휴식
8 ~ 12 안티제물 다시 등장 (이번엔 축소되면서)
13 ~ 20 메세지 발생
21 ~ 30 무차별 폭격
31 ~ 40 메세지 발생
41 ~ 전투 시작(... 무슨 등장페이즈만 40초씩 걸림... 미친놈아...)
참고: 이 게임에는 스킵이 없... 흠... 너무 시간끄는것은 자제하겠습니다.

phase 3-1: antijemul
phase 3-2: antijemul
phase 4-1: antijemul (단일 패턴)
phase 4-2: antijemul (단일 패턴)

2-3 210 -> 200 -> 192
2-4 240 -> 220 -> 207
3-1 240 -> 200


페이즈 3-1 (최소 6패턴)
입장공격: 링던지기, 링폭파
링던지기, 링폭파, 롤링, 순간가속 후 자신이 이동했던 영역은 폭파데미지
백어택, 역중력, 

페이즈 3-2 (최소 4패턴)
분열그림자 생성 (다만, 이것은 스프라이트로 처리됨... 이 말은... 적 + 스프라이트의 조합이라는뜻)
참고로 스프라이트는 때릴 수 없지만, 스프라이트도 복사 공격을 시도하기 때문에 조심해야 함
분열그림자의 효과로 공격 빈도는 감소함

공격 방식: 링던지기(형태가 달라짐), 링폭파 (형태가 달라지고 폭파범위가 증가)
, 사이클 리테이션, 순간이동하면서 함정 설치, 한쪽이 끌어당기고 한쪽이 발사
대부분은 협동공격이고 개별공격을 하지 않음.
이게 가능하려면, 공격하는 순간에 메세지를 보내줘야함.


페이즈 4-1 (1패턴)
배경이 붉게 변경되며,
round3_5_redZone (그 우주 배경과 아주 유사하지만 다름)
가운데에서 엄청난 양의 총알을 사용하기 시작함 (다만 이 총알은 다운타워의 그것과 동일)

페이즈 4-2 (1패턴)
이후 오른쪽으로 이동하고 전영역에 걸쳐서 사각미로공격을 시도함
이 패턴까지 성공적으로 돌파하면 보스는 죽음
사각미로는 에너미총알로 분류됨

150초 = 2분 30초
220초 = 약 3분 40초
180초 = 3분
60초 = 1분


레벨 제한
20/20/20/22/25/27/27/27/29 3-1 ~ 3-9
32/32/34/34 3-10 ~ 3-13

스카이랜드 구성 30 ~ 60
4-1 -> 4-2 ~ 4-8

4-1 -> baseClear, antoher route
4-1 -> 4-2
4-1 -> 4-11


4패턴 ~ 6패턴 = 90초

안티패턴
3-1 페이즈
message2
message3

message1 - 안티 제물, 2 페이즈 진입시 등장
message2 - 대다 대, 3 페이즈 진입시 등장
message3 - 엔도 허, 4 페이즈 진입시 등장

페이즈 1: 녹가시 0 ~ 150
페이즈 2: 블랙스페이스 151 ~ 350
페이즈 3: 안티 제물
페이즈 4: 의식의 공간 (빨간색 돌)

페이즈 3이 등장하고, 보스는 이동하지 않습니다.
그 다음, 여러 폭격이 중앙에서 생성된 다음에
보스전이 시작됩니다.

round3_5base
phase 2 only

antiRing

라운드 1: 우주 여행, 운석 지대 (0 ~ 9)
라운드 2: 동그라미 마을 (10 ~ 19)
라운드 3: 다운 타워 (20 ~ 29)
라운드 4: 스카이 랜드 (30 ~ 55, 61 ~ 150)
라운드 4A: 헬 그레이 (45 ~ 56)
라운드 5: 중간 도시 (60 ~ 63)
라운드 5A: 핑크 아일랜드 (67 ~ 77)
라운드 6: 대류권 (64 ~ 66)
라운드 7: 마운티스 (67 ~ 71)

(잘 따지고 보면 워프가 아님)
스카이랜드 - 다양한 가상세계 탐험 (마을 -> 가상현실 -> 다른 행성의 공간)
= 워프

파란행성 -> 어딘가를 거침 -> 다른공간

3-13
4-1 ~ 4-67
4A-1 ~ 4A-15

우주 정거장 (임의의 휴식 장소)
-> 최단거리로 파란 행성으로 이동

파란 행성 (행성이라고 이름이 지어졌지만, 사실 이 행성은 죽은 행성임)
파란 행성은 무언가의 힘에 의해 층층단계로 구분되어졌고,

겉부분은 파란색
중간부분은 보라색
밑부분은 검은색으로 가득차게 됨
빛은 각 공간에 막혀 더이상 진행되지 못함
그러나 내부에서 빛을 발산할 수는 있음.
하지만 빛은 위로만 빠져나갈 수 있음.

중력은 115km 밑부분으로 들어가면 조금씩 작용하기 시작하며
대략 70km 밑이면 밑으로 내려가게됨
125km 위에서는 거의 완전한 무중력 상태

행성 자체의 중력이 거의 없음
공중도시가 유지될 수 있는 이유는 그것이지만...

사실 파란 행성은 몇가지 사건이 있었고
그로 인해 탄생한 몇몇 시설이 있음.

동그라미 마을 <- 동그라미라는 인공지능 개체가 마을을 만듬
이 과정은 몇십년이 걸림
그러나, 원래 이 마을에 사람들이 살았어야 하나, 어째서인지 아무도 이 마을에 접근을 못하였음.
이 상태로 마을은 방치됨 (약 100년정도)

다운타워 - 아예 새롭게 살 수 있는 세계를 만들고, 그 공간에 다른 마을을 이으려고 했음
중력은 115km 밑부터 작용하기 때문에 중력이 작동되지 않는 200km까지의 대규모 마을을 만드려고 했으나
실패함

스카이랜드 - 동그라미 마을의 연장선
그러나 스카이랜드같은 대규모의 마을을 만들기는 너무 어려웠기 때문에, 대신 가상공간을 제작함
하지만, 가상공간을 제작하는과정에서 치명적인 실수를 저지르고, 오히려 외부의 침입 요소 때문에
이 공간은 다른 공간으로 통하는 포탈처럼 취급됨

라운드4A(제목 미정)
스카이랜드를 돌아다니다 알 수 없는 신호를 계속 따라가면 나오는 이상한 공간
이곳에서는 목숨을 건 배틀이 벌어지고 있었으며, 이 배틀에서 승리해야만 생존하는 미친 구조임
그러나, 이 왜곡된 마을의 잘못된 점을 부수고 몇 캐릭을 구출함
그 중 구출된 캐릭은 이 게임에서 사용 가능
(단, 캐릭터의 밸런스는 기본 캐릭터의 밸런스를 사용합니다.)

라운드5 중간도시
스카이랜드를 전부 돌아다닌 후, 미완성된 스카이랜드 구간을 돌아다니다 알 수 없는 신호를 발견하고
더 밑으로 내려감
그리고 나오는 새로운 마을... 중간도시


동그라미의 탄생
동그라미는 원래 이 행성 사람들이 새 도시를 만들기 위해 만들어둔 인공지능 개체
(마운티스에서 다시 만나게됨)

라운드 1 - 6
라운드 2 - 6
라운드 3 - 9 + 4
라운드 4 - 21 + 26
라운드 5 - 6 + 9
라운드 6 - 4
라운드 7 - 11
라운드 8 - 6
라운드 9 - 4


중력공
링
링폭탄
백샷
링롤링 (링을 소환하고 / 링은 총알로 취급되지 않음, 적 내부 객체임)



hp에 따른 빈도수?
패턴 레벨 개념
hp 100% ~ 50% / 패턴 레벨 1
hp 50% ~ 20% / 패턴 레벨 2
hp 20% ~ 0% / 패턴 레벨 3
(단, 중력공 패턴은 패턴 레벨에 영향을 받지 않습니다.)

링: 발사 형태는 총 5가지
(가로/세로 4방향 + 가로/세로 4방향 랜덤포함) = 총 4x4 = 16
대각선에 있으면 안전함

8방향 각도 로테이션
발사개수 동시 16발

플레이어 조준 (그리고 그의 4각 반대 / 대각선 포함)
즉, 왼쪽에있으면, 오른쪽, 위, 아래 다 발사)
x축 반전, y축반전, x/y축반전 전부 발사 (플레이어 추적값 기준으로)

무작위 발사

패턴레벨이 올라가면 발사 개체수가 더 많아짐
1 / 2 / 3


링폭탄
무조건 1개는 플레이어를 조준하고, 무조건 7개는 플레이어 근처로 발사하고
무조건 5개는 랜덤
한번 발사할때 12개가 연속으로 나옴

패턴레벨이 증가하면 발사 개체수가 더 많아짐
12 / 17 / 22


중력공
하늘 위로 공을 쏘아보냄, 공은 랜덤한 위치로 이동하며
그림자가 점점 커지면서 밝아지고 공이 떨어짐
공에 닿으면 높은 데미지를 받게됨
패턴 레벨에 상관없이 6개 고정


백샷
보스가 순간적으로 뒤로 이동하고 (화면 바깥으로 이동하는거라 무기가 보스를 공격할 수 있음)
미친듯이 여러 탄환을 랜덤하게 날림

패턴 레벨이 높을수록 탄환 량이 매우 많아짐
18x5 / 24x5 / 36x5


링롤링
링을 소환하고 지속적으로 회전시킴
그리고, 보스의 이동속도가 잠깐동안 빨라짐

참고로 보스와의 충돌데미지는 0입니다.


+0 ~ +2 대기시간
+3 다 ~ 대 ~ 다
+9 ~ 14 링 발사 (무지하게 많이...)
+15 ~ 18 폭발 링 발사
+20 보스전 시작

18초 = 1080
+6 ~ +11
+13 ~ +16

참고: 안티 보스의 움직임
자유롭게 이동하며, 화면 바깥으로 벗어나지는 않습니다.
(단, 백어택 패턴 동안은 화면 바깥으로 나갈 수 있음)
이동속도는 0.7 ~ 1.2 범위 내에서 랜덤입니다. (5초마다 변화)


패턴 1: 링 발사 - 혼합 패턴
링 발사는 무작위 방향, 지정된 방향이 혼합되어있음.
생성자에서 기본 생성한 방식은 무작위 방향임
두가지의 종류를 한번 발사할 때마다 동시에 사용합니다.

1. 유저 추적 (유저가 있는 방향으로 총 3개 발사, 1개는 유저를 반드시 추적, 2개는 약간의 랜덤+-)
2. 무작위 방향 (방향을 알 수 없음. 속도는 가장 높은 값이 4가 되도록 보정
3. 가로/세로 (속도는 X축, Y축은 서로 다름)


패턴 2: 링 발사 - 라인 패턴
링 발사는 특정 패턴형태로만 발사함
패턴은 랜덤이고, 링이 여러형태의 라인으로 발사됨
(단 링 발사 구조는 랜덤이 아니고 고정)


패턴 3: 링 폭탄 발사
패턴 1과 거의 동일
다만 유저를 추적하는 링을 무조건 발사함
유저 추적 + 무작위 방향 + 가로/세로 동시 사용


패턴 4: 그라비티 볼
위로 (즉, 하늘로...) 공을 쏘아보냄
(공은 enemyBullet 취급하지만, 충돌 판정(collisionProcess)을 미룸)

공이 화면쪽으로 점점 떨어지며 (유사 3D)
공이 화면 바닥에 닿았을 때, 플레이어가 거기에 닿았다면, 돌이 사라질때까지
지속적으로 데미지를 받음

공이 떨어지는 시간은, 랜덤은 아니고 약 180프레임
30프레임이 지나면, 공의 위치가 결정됨
그 위치를 기준으로, 그림자를 표시함

공이 사라지는 시간은 60프레임,
알파값은 30프레임부터 줄어둠


패턴 5: 백샷
적은 이 시점에서 일시적으로 화면 바깥으로 나갈 수 있음.
화면 오른쪽으로 순식간에 이동한 뒤, 
미친듯이 탄을 쏨... (패턴이 있는것과 없는것의 혼합임)
그리고 다시 화면 안으로 돌아옴
화면 안으로 돌아오면 패턴 종료


패턴 6: 롤링
링을 48개 소환하고, 이 링들을 미친듯이 돌림
이 링들은, 적 내부 객체에 정의되어있음.

공격은 모두 랜덤으로 진행하지만,
카운터수에 따라 한개의 패턴은 적어도 몇 패턴 후에 실행됨

패턴 번호가 0 ~ 4일때
그라비티는 실행되지 않음,
링 패턴, 링폭탄, 링라인 중에서 랜덤하게 실행됨
같은 패턴이 반복될 수 있음.

패턴 번호가 5일때
백샷을 실행

패턴 번호가 6일때
그라비티 볼을 실행

패턴 번호가 7일때
링롤링을 실행

패턴 번호가 8이후


기본 패턴 (0 ~ 4번 패턴)
링노말: 무작위의 방향 + 플레이어의 방향으로 링 발사
링라인: 링 여러개를 같은 라인단위로 발사
링붐: 폭발하는 링을 발사 (폭발하는 링은 일정시간 후 폭발, 벽에 튕겨저나감)


특수 패턴 (패턴 5 ~ 8, 이후 패턴 12부터 확률로 실행)
그라비티볼:
링롤링: 링을 소환하고 자기 주위로 빙빙 돌림

0, 1, 2, 3, 4 (링패턴)
5, 6 (그라비티, 백샷, 링롤링)
7, 8, 9, (링패턴)
10 ~ (확률에 따라 다름)


그라비티볼
한발씩 쏘는 방식
(frame <= 180 // 30간격으로 총 6발)

그라비티볼은 서서히 커지며 알파값이 낮아지고, 위로 올라가는것처럼 구현
올라가는데 1초
그 다음 1초 대기 (이 시점에서 위치가 조정됨)
그 다음 3초동안, 그림자가 점점 커지고
그림자가 완전히 커지면 약간 커진상태에서 점점 줄어드는것으로 등장
(알파값도 서서히 높아짐)

땅에 닿으면 사운드 재생, 판정 시작
판정된 상태에서는 상당한 데미지를 받을 수 있음.

120 * 0.4


모든 패턴 구상 완료 (폭주는 없지만, 공격 개체수의 빈도가 늘어남)
패턴 순서
0, 1, 2, 3, 4 - 링패턴만 사용 (중복 가능)
5 - 백샷
6 - 그라비티 볼
7 - 링롤링

패턴 레벨이 2로 상승 (남은 체력이 낮으면 3으로 상승)
8, 9, 10, 11, 12 - 링패턴만 사용 (중복 가능)
13, 14, 15, 16, 17 - 백샷, 그라비티 볼, 링롤링만 사용
18 ~ 랜덤

링패턴은 모두 30프레임의 대기시간을 가짐, 패턴 지속시간 150프레임
링노멀 (플레이어 추적방향 + 랜덤방향을 동시에 발사)
발사 간격 [40, 30, 20]
발사 개체수 [4 + 2, 5 + 3, 4 + 2]

링봄 (무작위 방향, 플레이어를 조준하진 않음, 벽반사됨)
발사 간격 [40, 30, 20]
발사 개체수 [6, 6, 6]

링라인 (양 옆으로 링 이동)
발사 간격 [60, 50, 40]
링 개수 [10, 12, 14]
링 속도 [6, 7, 8]


그라비티 볼
대기시간 30프레임, 패턴 시간 480프레임
발사시간 = 360프레임
30 ~ 120프레임 사이에서 발사
발사 간격 [30, 20, 15]
제한 개수 [2x4, 2x5, 2x7]


백샷
패턴시간 300프레임
발사 간격 [9, 6, 4]
발사 개수 [4, 4, 3]


링롤링
링 개수 [5, 6, 7]
링 속도 [6, 8, 10]
링 간격 [30, 25, 20]



다음 페이즈 3-2
4분열???
보스가 무려 4개체!!!

보스가 죽은 후, 보스는 여러개로 나누어집니다.
(이 순간에는 hp가 줄어들지 않음, 스프라이트로 처리하기 어려움)
[진짜는 마지막에 이동하는데, 항상 오른쪽 맨 위로 갑니다.)
[각 개체는 특정 공간을 벗어날 수 없음]
[참고: 보스가 4개인것은 아닙니다. 적은 1개체이지만 보여지는게 4개체일뿐]
[무기가 공격하는것을 자세히 보세요.]

공격방식은, 조금 달라지지만 크게 다른건 없음

1. 링, 링유도, 링폭탄 (4개체 동시에 발사)
각 오브젝트는 정해진 공간을 벗어나지 않습니다. (백샷 제외)

2. 백샷
모든 오브젝트가 자기의 반대방향으로 이동
(고정 패턴)
플레이어 유도를 4방향에서 (x, y축에서 발사됨) 발사
이를 여러번 반복하고, 특정 라인에다가 발사 (x축, y축 랜덤이지만 한번 고정되면 계속 거기다쏨)

3. 그라비티울트라
4개의 에너지가 특정 영역을 그리며
그 영역에다가 울트라를 던짐
(데미지는 그라비티볼보다 더 높음)
범위가 매우 넓으므로 주의해야하지만, 피하기는 쉬움

4. 링오렌지 무브먼트
회전하는 링을 쏩니다. 이 링은 아까랑 다르게 좀 더 오래 지속(4바퀴, 회전속도는 느림)
그리고, 이동함 (대신 링 개수는 3개)

이번엔 폭주패턴이 있음.
레이저 무한 발사 (4개체 전부 다!)
다만, 피할 공간은 반드시 제공됨 (120px, 120px, 120px, 120px, 120px)



4분면 좌표
안티는 중앙으로 이동 후
-> 오른쪽 아래로, 왼쪽 아래로, 왼쪽 위로, (진짜)는 오른쪽 위로 이동
이동위치는 4분면의 가운데 (좌표 고정됨)
(x = 0 + (graphicSystem.canvaswidth / 2) - this.width / 2


링 -> 너프 필요
링폭탄 -> 그대로 진행
백샷 -> 그대로 진행 (코드 리펙토링 필요할지는 모르겠음 (과정이 복잡해서)

그라비티볼 -> 변형
링롤링 -> 변형

그라비티굴리기


3-1: 안티 제물 (링공격)
3-2: 안티 제물, 분열 합동 공격
링, 링폭탄, 백샷,
그라비티렉트
gravityRect

무서운 효과음이 들림 (0 ~ 60)
(61 ~ 300)
4초동안 그림자가 보임 (그림자는 서서히 커지며 (400x400까지 커짐)
300 ~ 360동안 추락

그라비티 끝

링롤링
오렌지 (? 난사)


페이즈 3 클리어 이후, 페이즈 4로 이동
페이즈 4가 시작되면, 음악이 꺼지고
아무 일도 벌어지지 않는듯 하지만...
얼마 안있어, 메세지가 들려오고 배경이 바뀐다.
다시 안티제물의 등장

80/70 = 150
100/100/30 = 230
90/100 = 190 = 570
30/20 = 50 = 620

여기서는 적이 다운타워의 총알을 사용 (고유한 부분은 없음)
4-1 페이즈 안티는 등장하지 않지만, 주위에서 미친듯이 총알이 발사됨
4-2 안티의 마지막 발악, 온갖 그라비티 공격이 등장한다. (실시간으로!)
4-3 



페이즈 4-1, 4-2
페이즈 4 시작
-> ~ 효과음 ~
-> 메세지 3
->

4-1: 벽쪽에서 총알이 쏟아짐, 전부 피해야함.
체력은 7000%
체력이 줄을수록 더 많은 탄환이 발생
단일 패턴

4-2: 다시 안티제물이 등장함.
안티제물은 미친듯이 돌아다니며 (엄청난속도로)
링을 여기저기 발사함 (간혹 플레이어만 조준할 때가 있음)
내부 패턴은 총 3개이며
링발사, 링폭탄발사, 플레이어저격
각 패턴이 번갈아가면서 실행
패턴간 딜레이간격은 거의 없음

페이즈 4는 복합패턴이 없음 (페이즈 3, 2처럼)
4-1은 이미지가 표시되지 않습니다.
4-2은 안티제물과 동일 (쉴드가 표시되지 않음), 링은 3-1것을 사용
4-3은 최후의 발악 (배경스크롤 속도가 매우 빠르게 이동함)
페이즈 4 배경은 라운드 1-4에 나왔던 배경과 거의동일


5-1 엔딩
보스가 죽게되면, 화면이 다시 다운타워배경으로 돌아감
보스가 죽는 과정은 무언가 많이 다르며
이 애니메이션이 종료된 이후, 사운드 재생 후 라운드 클리어

150
230
190
30/30/30 = 90



round3_5antijemulDie -> (라운드에서 재생?)
사운드는 라운드3_5로 되어있음.
적내부에서 재생하는 구조가 아님.


antiboss가 죽는 과정

죽음 효과음 재생, 5초간 반짝거리는 이펙트가 나옴
죽음 대기시간 300프레임
(적 내부에서 처리하도록 변경)

4x12
8x16
16x20
24x24
28x28
32x32
36x36
40x40
40x40
40x40
40x40
32x32
24x24
16x16
12x12


4-1 패턴
4방향 끝에서 중심축 방향으로, 무작위 좌표에서 고정형 속도배율에 맞게 처리됨
X축고정 = 8
Y축고정 = 8
이 패턴이 반복되며, 보스의 체력이 줄어들수록 탄 개수가 늘어나고, 플레이어를 조준하는 탄이 추가됨

4-2 패턴
이제 보스가 여기저기 움직인다. 보스는 지속적으로 플레이어를 쫓아간다. (화면 바깥으로 나갈 수 없음)
(보스의 공격력은 0이기 때문에 링오렌지를 가속하는것으로 공격을 대체한다.)
이동속도가 매우 빠르므로 회피가 어려움

4-3 패턴
여기까지 격파하면, 보스는 다시 중앙으로 이동하고 무한 탄막 샷을 쏘게 됨
탄막은 고정 패턴이며, (6라인 형태로 발사됨)
1초 휴식후 바로 다른 패턴

여기까지 부수면?

4-4 패턴
보스가 거대 블랙홀을 소환한다. 블랙홀은 크기가 점점 커지며
1초당 12데미지를 줌 (20프레임당 4데미지)
빨리 죽이지 못한다면 넌 죽을 수도 있지만, 요구 데미지는 낮기 때문에 기회는 충분함

4-4까지 클리어하면, 라운드 종료
4-4는 FINAL로 표시됨
PHASE 4-4 FINAL antijemul hp: 
PHASE 4-1
PHASE 4-2
PHASE 4-3
PHASE 4-4 FINAL

hpBase 각 페이즈당 기준시간 30초, 20초, 20초, 20초

보스가 죽는 그 즉시 적은 사라지고
대신, 보스 스프라이트 생성 (보스가 없는것을 확인한 뒤에)

보스가 죽으면 화면이 다시 다운타워배경으로 변경
보스가 반짝거리면서 죽어감
(내부적으로 알파값이 감소함) = 스프라이트 처리

보스 죽는 시간 = 5초
스프라이트는 제거되지 않음


참고: 이것은 마지막 페이즈로 분류됨
(스프라이트 생성 후 다음페이즈로 보냄)
시간 사운드 5초 + 배경전환 3초 + 대기 2초 = 10초


라운드 3 보스미터
빨강(20%), 파랑
빨강(20%), 주황(50%), 초록
빨강(20%), 핑크(20%)

페이즈 4 timestop
+0 ~ +60:  4-1 4방탄막
+61 ~ +90: 4-2 라인탄막
+71 ~ +100: 4-3 보스 직접공격 (엄청나게 빠른 속도로 움직임)

3의 배수
각 페이즈의 총합 시간이 30단위로
10 / 70 / 70 = 150
20 / 70 / 100 / 20 = 210 = 360
20 / 80 / 80 = 180

대기시간
보스경고: 5초
1페이즈 대기시간: 2초 + 경고 5초 = 7초
보스 등장 8초 (baseCp: 70000)
0 ~ 80 (hp 80second x 140% = 11200%)
81 ~ 150 (hp 70second x 200% = 14000%)
total 150

2페이즈 대기시간: 2초 + 경고 5초 + 안티제물 6초 + 배경전환 5초 = 18초
(각 구간당 20초, 보스 등장은)
18 ~ 90 (hp 12second x 200%, 2400%) x 4

91 ~ 190 (각 구간당 25초, 적 등장은 구간마다 조금 다름)
(hp 15second x 200%, 3000%) x 2 - (도형들), 적 등장 +12초
(hp 12second x 200%, 2400%) x 1 - (2-1에 나왔던 적이 나옴), 적 등장 + 15초
(hp 30second x 200%, 6000%) x 1 - (토네이도), 적 등장 + 0초

191 ~ 210
hp (20second x 200%, 4000%) - 블랙스페이스 에리어
total = 360 (210 + 150)

3페이즈 대기시간: 2초(배경전환) + 다대다 (5초) + 링발사 (11초) = 18초
20 ~ 100 (hp 80second x 200%, 16000%)
101 ~ 180 (hp 80second x 200%, 16000%)
total 570 = (210 + 150 + 210)

4페이즈 대기시간: 메세지 5초, 배경변경 5초 = 10초
10 ~ 50 (hp 40second x 100%, 8000%)
61 ~ 80 (hp 20second x 100%, 4000%)
81 ~ 90 (hp 15second x 100%, 3000%)
111 ~ 120 (보스 죽음?)
total 690 = (210 + 150 + 210 + 120)

(111 ~ 114) 배경 복구

4-F페이즈 대기시간
boss가 죽은경우, 
round3_5_clear -> r/c clearsound 0초

적이 남아있는동안, 지정시간에 도착하면 시간이 멈춰야함.
문제는 1-1적은 죽는 즉시 1-2를 생성해서, 다른 조건을 사용해야 한다는것
enimation 수정

경험치 값
3-1 ~ 3-3, 200000 ~ 210000 (200 + 40)
3-4, 220000 ~ 230000 (240)
3-5, 600000 ~ 610000 (630)
3-6 ~ 3-9 190000 ~ 200000 (180)

3-5 페이즈
1: (10 + 70) + 70 = 150
2: 18 + 72 + 100 + 20 = 210 // 360
3: 90 + 90 = 180 // 540
4: 30 + 15 + 15 + 10 = 610

다운타워가 다른스테이지에비해서 좀 긴편
3-6 다운 타워 복도 1
3-7 다운 타워 복도 2 (보스전)
3-8 다운 타워 통로 1
3-9 다운 타워 통로 2 (없음)
3-10 다운 타워 외벽
3-11 다운 타워 함정
3-12 다운 타워 로봇방
3-13 다운 타워 컴퓨터실
3-14 다운 타워 제물의 공간

3-6: 210 / 배경 4개 / (다운타워는 자동전환, 얘는 어느정도 이동해야함)
3-7: 229 / 배경 3개 / 보스전 배경 포함
3-8: 210 / 배경 2개
3-9: 210 / 배경 2개
3-10: 210 / 배경 3개

3-6 ~ 3-9 towerenemygroup5
3-11 ~ 3-14 towerenemygroup6

신규 적
감시카메라 2종류
경보기 2종류
보안단말기 2종류
총합 6종류 (3-6에서 전부 출현)
3-7은 신규 적 없음

3-8 부서진 부품들 12종류
3-9 신규 적 없음

배경음 
down_tower_core
down_tower_passage
down_tower_trap 3-7에서 이어짐

1-1 -> 1-2 -> 1-3 -> 1-4 -> 1-5 -> 1-6
2-1 -> 2-2 -> 2-3
2-4 -> 2-5 -> 2-6
3-1 / 3-2 / 3-3 / 3-4 -> 3-5
3-6 -> 3-7 -> 3-8 -> 3-9 -> 3-10


3-6 240
배경1: 통로A (기둥 + 벽) / 어두운 파랑 60
배경2: 계단A (파란색) / 어두운 파랑 90
배경3: 통로B / 갈색 150
배경4: 계단B (맨 끝에 바이 있음) 180
배경5: 통로C / 

3-7 
배경5: 통로C
배경6: 통로D
배경7: 컴퓨터실

통로는 2종류
기둥형 통로 (중간중간 기둥이 있음)
빛형 통로 (아무것도 없는듯한 공간에 빛들이 비추고 있음)
계단은 1종류


3-6 다운 타워 코어 1
800 13 배경1
1600 26 배경1
2400 40 배경1
3200 53 배경1
4000 66 배경2
4800 80 배경2
5600 93 배경2
6400 106 배경2
7200 120 배경2F3
600 배경2F3
1200 배경3
1800 배경3
2400 배경3
3000 배경3
3600 180 배경3F4
800 배경 3F4
1600 배경4
2400 배경4
3200 220 배경4F
총 220초 (보스전 없음)

3-7 다운 타워 코어 2
600 배경4F
1200 배경1
1800 배경1
2400 배경1
3000 배경1
3600 배경1F - 60
800 배경2
1600 배경2
2400 배경2 - 100
3200 배경3
4000 배경4
4800 배경5 - 140

40/80/120/160/200/220
배경1/배경1/배경1/배경1 = 53
배경2/배경2/배경2/배경2/배경2F = 67
= 120초 (30/30/30/30)
2400
4800
7200

계단 = 60초
나머지 배경4 = 225초

3-6 ~ 3-7
40초 오른쪽
80초 아래
120초 왼쪽
160초 아래
200초 오른쪽

보스: 40초 (55초)


0/40/80/120/180/225
0/40/80/120/160/225


배경
기둥 / 벽
기둥레이어
빛레이어

색 순서
회색 -> 파란색 -> 주황색 (3층 -> 2층 -> 1층)
3-6 ~ 3-7 ~ 3-7
1개의 층이 너무 멈...






(background)
1. greyFloor1 + greyPillar1 (background)
2. greyPillar1 (background)


(layer)



40/80/120/160/200/225
40/80/120/180/200/225

3-6
0 ~ 40 통로1
41 ~ 80 통로2
81 ~ 120 통로2 + 멀티통로 + 빛
121 ~ 160 계단
161 ~ 200 통로3
200 ~ 215 중간체크포인트

3-7
0 ~ 40 중간체크포인트 ~ 통로4
41 ~ 80 계단2 (주위 벽 색이 다름)
81 ~ 120 통로5
121 ~ 170 가부단 컴퓨터 보스전 (배경 6)
171 ~ 185 대기시간 (오른쪽으로 가거나, 시크릿을 찾아야함)
186 ~ 225 나가는길

0 ~ 10 부팅
11 ~ 20 미친듯이 공격
21 ~ 블루스크린(...)

3-9보스: 클리너 박스 (cleaner box)

보스들의 이름:
1-1 없음
1-3 없음
1-4 레드존 제물
2-1 큰 동그라미
2-4 옹심이 제물
3-1 크레이지 로봇
3-2 보스 바 (사실상 이름없음)
3-3 다수 코어
3-5 녹가시, 안티 제물
3-7 가부단 컴퓨터
3-9 클리너 박스
3-12 레버 스위치
3-14 다크사이드 세븐


다운 타워 1 200 + 40 / 4
다운 타워 2 220 + 20 / 8
다운 타워 3 200 + 40 / 12
다운 타워 보이드 240 / 16
안티 제물 150 + 210 + 180 + 60 + 10 = 610 / 26
다운 타워 코어 1 220 / 30
다운 타워 코어 2 160 + 60 / 33
다운 타워 통로 1 210 / 37
다운 타워 통로 2 180 + 30 / 40

다운타워 통로 속도
1 -> 5 -> 1(끝부분에서 속도가 줄어듬)

다운 타워 함정 3-11
다운 타워 버려진 공간 3-12
다운 타워 로봇실 3-13
다운 타워 미개발 구역 3-14


3-6 배경 조합
3-1 -> 3-4는 배경끼리 이어지지는 않음
3-4 -> 3-5는 이어짐
3-5 -> 3-6은 이어지지 않음 (중간 과정이 생략되어있음)
3-6 -> 3-10 까지 이어짐

1-1 -> 1-6까지 연속으로 이어짐 (조만간 그렇게 만들 예정)
2-1 -> 2-3까지 이어짐
2-3 -> 2-4는 이어지지 않음 (중간 과정이 생략됨)
2-4 -> 2-6는 이어짐

3-6 배경 조합
+0 ~ +40 (배경 1, 회색 벽 + 기둥)
+41 ~ +80 (배경 2, 회색 기둥 + 그림자 기둥)
+81 ~ +120 (배경 2랑 동일하지만, 노란색 빛이 추가됨, 그림자 기둥이 1개 더 있음)
+121 ~ +160 계단 + 노란색 빛
+161 ~ +200 (배경 3, 회색 기둥 + 

3-6 (background)
round3_6_greyFloor
round3_6_greyPillar
round3_6_greyStairIn
round3_6_greyStair
round3_6_greyStairOut
round3_6_greyFloorTilt
round3_6_coreInfo

3-6 (layer)
round3_6_greyPillarLayer
round3_6_lightYellow

3-7 (background)
round3_6_coreinfo
round3_7_blueFloorTilt
round3_7_blueStairIn
round3_7_blueStair
round3_7_blueStairOut
round3_7_blueFloor
round3_7_computerRoom
round3_7_passageInfo

3-7 (layer)
round3_7_lightBlue


신규 적
1. 보안카메라 (sequrityCamera) CCTV
2. 일반카메라 (camera)
3. 무전기
4. 헬렌(hell + lens) 헬시리즈 + 렌즈 (즉 돋보기...)
5. 헬넷(hell + network) 헬시리즈 + 네트워크
6. 경보기 (여러 종류의 색과 무늬가 있음)

3-1 ~ 3-3의 일부 적은 3-6 ~ 3-7에서 출현하지 않음


1. 카메라
주위를 돌아다니면서 무작위의 영역에 사진 촬영 (촬영범위 자기 자신 기준 200x200영역을, +-200범위내)
(촬영 시점은 최소 180프레임 ~ 240프레임 중 랜덤)
촬영된 부분에 플레이어가 있으면, 총알을 여러개 발사 (플레이어방향으로)
아닌경우, 아무일도 없음 (사진촬영소리가 들림)

2. 보안카메라
맨 위에 붙어서 이동, 일정 주기로 랜덤하게 총알 발사

3. 무전기
특정 방향으로 전파를 발사함, 전파 방향은 특정 방향에 집중되어있음.
(한 방향으로 연속발사, 방향은 랜덤)

4. 경보기
경보기의 색에 따라 다름, 플레이어가 있을때에만 추적함
빨강: 주위에 플레이어가 있으면, 무조건적으로 플레이어를 추적
(단, 속도는 느림)
초록: (자기 자신 기준) X축 또는 Y축 영역에 플레이어가 있으면
무조건적으로 플레이어를 추적
(단, 속도는 느림)
노랑: 랜덤 (추적을 했다가 말았다가 지 멋대로임)
(속도는 빠름, 다만 지속 5초, 쿨타임 5초)

5. 헬넷 (헬 + 네트워크)
무전기와 같은 공격방식인데...(이펙트는 다를 수 있음) 플레이어가 있는 방향을 40%확률로 공격함
60%확률로 엉뚱한 공격을 함

6. 헬카 (헬 + 카메라?)

헬시리즈
헬기, 헬전, 헬초, 헬갈, 헬바
헬포, 헬나, 헬파, 헬엘
페이크헬
헬넷, 헬렌
헬블

3-7 보스: 가부단 컴퓨터

3-7 신규 적 (파랑색 적 시리즈 3-7관련)
파랑 전구, 파랑 LED, 파랑 경보기, 헬블 (파란색으로 도배된 헬기), 극한 감가속...

3-9 신규 적
파편화된 부품 1 ~ 10종류 (이 이외 별다른 특징 없음)


towerGroup5
3-6 ~ 3-9
3-6+
camera / 카메라 / 1F : 총알 (사진촬영, 에너미불릿...)
cctv / 씨씨티비 / 1F : 다운타워 총알과 같음
radio / 라디오 / 1F : 전기파형공격 (노이즈파형)
siren / 사이렌 / 6F (3종류, 플레이어 감지시에만 에니메이션 동작)
hellnet / 헬넷 / 5F - 전파공격
helltell / 헬텔 / 6F - 음파공격
전구 / 8F
boss / 가부단 컴퓨터 / 0F ~ 4F 가변

3-8+
trash1
trash2
trash3 ~ 10
brick1 ~ 5
boss / 트래시 클리너 / 5F?





0.7/0.75/0.8/0.9/1.0/0.92/0.88/0.76

0.7/0.75/0.8/0.85/0.9/1.0/

0.92/0.84/0.76

cctv: 무조건 위에서 생성되고, 위에서만 돌아다니며, 아래 대각선 방향으로 총을 쏨
이동 방향에 상관없이 이미지는 고정
충돌 데미지 10, 공격 데미지 10

적 패턴
카메라: 자기 자신 주위 랜덤하게 사진촬영, 사진촬영은 미리 영역이 표시됨
사진을 찍히면, 15데미지 (지속 아님)
카메라 충돌 데미지: 11

무전기: 다른 무전기가 없을 경우, 무작위의 방향에 전기공격을 함. (단, 상, 하, 좌, 우, 한정)
다른 무전기가 있을 경우, 해당하는 무전기한테 전기공격(??? 그러나 적총알은 적을 못때림) (단, 여러개의 무전기가 있다면
그 결과를 예측할 수 없음)(
무전기가 전기공격을 받은 경우, 다른 무전기한테 전달하는것을 반복
아닌경우, 무전기는 다시 무작위의 방향에 전파 전달
무조건적으로 전파 전달 속도가 무전기의 이동속도보다 빠름
(참고: 이 총알은 내부 타이머가 있고, 내부 타이머 이내에는 재충돌하지 않음)
무전기 충돌 데미지 14
무전기 공격 데미지 12

경보기: 색마다 약간 다름
플레이어를 감지할경우, 빠른 속도로 플레이어에게 다가감 (이때 에니메이션 재생)
이동속도가 빠르지만, 플레이어보다는 느릴거임 (최대 4px)
충돌 데미지 4

빨간색: 자기 범위 +- 80px
초록색: x축 전체, y축 전체 자기범위+-0px
파란색: 지 맘대로(...) / 확률 25%, 지속 4초


전구: 정의된 패턴 없음 (무작위의 이동방향으로 돌아다님)
다만 닿으면 연타공격을 당함(...), 전기소리와 함께...
충돌 데미지 4, 반복횟수 5 (12프레임당 1번)


헬넷: 무전기랑 똑같은 공격을 하는데 (그러나 자기 자신은 해당 공격에 영향을 받지 않음)
무조건 위로 쏨... 그게 전부임...
충돌 데미지 13

헬텔: 점점 커지는 총알을 발사함 (자기가 바라보는 방향과 반대 방향으로)
충돌 데미지 13, 공격 데미지 6


3-11 ~ 3-14까지 구 코드 사용
4-1 부터는 신 코드 형태가 도입될것 (이제부터 지형도 도입할 수 있음)


camera
CCTV
radio
siren
blub

gabudan computer (...)

적이 등장하고, 1초후 스크린이 켜짐
GABUDAN COMPUTER
BIOS CHECK...
MEMORY 262144 KB OK
여기서 4초 소모...

가부단모니터 : 영역 표시용 (210x210)
가부단POST: 부팅 과정 표시
가부단OS: os loading 화면 표시
os loding이 끝나면, 바탕화면 표시
그 후, 방어 프로그램 가동하고
화면 변경
그 다음, 블루스크린

진행 시간
0 ~ 1초 화면 켜기
1초 ~ 5초 (POST 화면, 부팅시간 5초, 3초가 지나면 나머지 메세지가 뜸)
5초 ~ 10초 (OS 부팅 화면)
11초 ~ 13초 (바탕화면)
14초 ~ 17초 (프로그램 on)
18초 ~ 20초 (방어프로그램 표시)
패턴은 적이 생성되고 20초 후에 시작
10초간 탄막을 미친듯이 쏘며
30초가 되는 시점에서 블루스크린을 보여줌
이후, 더이상 적은 아무 동작도 하지 않음.

보스 체력은 이 과정을 전부 보여줘야 하므로 필요 dps는 12000%정도
60s x 200% (단, 3-6이기 때문에, 요구 dps 자체가 상승함 = 초당 250%정도)


스토리 구조
라운드 1: 파란 행성에서 온 구조신호, 이 신호는 우주방위국에서 누군가가 도움을 요청할 때
전달되는 신호이다. 파란 행성으로 가기 위해 최단거리로 이동하던 도중...
예상하지 못한 지역을 가게되고, 여기에서 이상한 일들이 벌어진다.

라운드 2: 파란 행성에 도착하고, 동그라미마을로 가 구조신호의 정확한 장소로 이동하려고 했지만,
동그라미들이 길을 막고, 자신들의 부탁을 들어줘야 한다고 요청한다.
그렇게 동그라미들의 부탁을 들어주고, 한편 마을 회관을 돌아다니던 도중, 외부의 침입자가 발생해
동그라미랑 힘을 합쳐 침입자를 몰아낸다.

라운드 3: 동그라미들은 부탁을 들어줘서 고맙다며, 다운 타워에 있는 침입자들을 없애달라고 부탁한다.
침입자들을 없애나가면서 다운타워의 깊숙한 곳으로 들어가자, 다운타워의 침입자들의 대장인
안티 제물이 등장한다. 안티 제물을 쓰러트리자, 무언가 다른 일이 벌어지며
안티제물은 아군이 되어 지금까지 있었던 일들을 설명해준다.

이후, 다운 타워 코어에 있는 컴퓨터의 데이터를 확인하러 간다.
그 컴퓨터는 동그라미가 사용하고 있던 컴퓨터는 아니였다. 누군가가 임의로 바꿔치기 한 것.

가부단 OS <- 가짜임
가부단 OS 부팅음

optionbattle = 640x480
tamshooter4 = 800x600 / 144hz dectect, 60fps ( after some time, i add 144display system)
tamshooter5 = 1920x1080(FHD / graphic / rendering), 1280x720(HD / processor)


가부단 os 부팅음

타워적그룹5
카메라 - 이동방식: 무작위 위치 지정 후 그 방향으로 이동 후 멈춤
(8초 중, 4초간 이동, 4초간 정지)


멈추고 나서, 2초 후에, 사진 촬영할 곳을 지정 (그곳은 노란색으로 표시됨) / 사운드 재생
그 다음 사진 촬영 공격 (적 불릿으로 처리됨)

생성 후 0 ~ 120 <대기>
121 ~ 240 <공격>

0 ~ 20 알파 증가
21 ~ 100 알파 최대
101 ~ 120 알파 감소


무전기
1. 공격 주기 4초
2. 공격 대상: 다른 무전기 (없으면 4방향 중 랜덤)
3. 다른 무전기는 전파를 받고, 다시 해당 전파를 다른데로 이동시킨다.



가부단 (보스체력: 12000%)
패턴은 순서대로 진행 (elapsed frame에 영향을 받음)
0 ~ 1초: 검정 화면
2 ~ 6초: Bios화면
(전환시간: 60프레임, 120프레임, 30프레임, 30프레임)
7 ~ 11초: 부팅화면
12초: 바탕화면 표시
14초: 아이콘 표시
16초: 프로그램 로딩
20초: 프로그램 실행 (이 때 무한탄난사 패턴 시작, 보스 배경음 시작 <- 이것은 메세지로 전달됨)
32초: 오류 발생 (이 때 모든 패턴이 종료됨 <- 보스 배경음 종료, 메세지로 전달됨)
35초: 블루스크린


0 ~ 90 1 -> 2
91 ~ 180 2 -> 3
181 ~ 270 3 -> 1


보스 탄 패턴
보스 체력은 15000% (75초)
// 단, 블루스크린이 뜬 이후 12초가 지나면 빠른 속도로 체력이 감소함 (프레임당 최대 체력의 0.1%씩 감소함)
// 따라서 일정시간 후 무조건 보스는 죽음
실질 체력은 12000%수준
프로그램은 15초동안 가동됨

탄패턴 1: 회전형패턴
탄패턴 2: 확산형패턴
블루스크린이 뜬 경우, 적은 더이상 공격하지 못함

0 ~ 40: 기둥 + 벽 -> 시간이 갈수록 배경은 어두워짐
41 ~ 80: 기둥만 나옴 -> 배경이 매우 어두움
81 ~ 120: 기둥레이어의 등장 -> 배경이 매우 어두우지만, 빛이 등장함

0 ~ 2400 / 1, 0 ~ 40
2400 ~ 4800 / 2, 41 ~ 80
4800 ~ 7200 / 3, 81 ~ 120
7200 ~ 8000 / 4 (밑으로 스크롤)

0 ~ 600 / 1 120 ~ 160
600 ~ 1200 / 2
1200 ~ 1800 / 3
1800 ~ 2400 / 4
2400 ~ 3000 / 5 (위치를 변경하고 다시 오른쪽 스크롤)

0 ~ 2400 / 1 161 ~ 200
3200 ~ 4000 / 2 201 ~ 220
4800 / stop


3-7
0 ~ 2400 0 ~ 40 플로어1
2400, 0 -> 2400, 3000 0 ~ 80 계단


플로어2 -> 컴퓨터방 -> 계단
81, 94, 107, 120 ~ 180, 191 ~ 220 (191, 204, 217)
보스전: 60초
10초동안 잠시 대기하다가 다음 구간으로 이동 (페이즈는 서로 분할되어있음)

코스 선택?

3-7 -> 3-8
3-7 -> 3-11

코스 선택 화면 (3-7, 3-11)
조건이 맞을경우, 코스 선택 화면을 표시
그 외는 자동 진행




3-6 필드 구성 (보스전 없음)
0 ~ 40 / 0
41 ~ 80 / 1
81 ~ 120 / 2
121 ~ 160 / 3
161 ~ 200 / 4
201 ~ 220 / 5

페이즈 0 (0 ~ 40)
4 ~ 10: 카메라
11 ~ 14: cctv
15 ~ 32: 무전기
33 ~ : 등장 적 없음

페이즈 1 41 ~ 80
사이렌의 첫 등장 (빨간색 -> 초록색 -> 파란색 순서로)
41 ~ 48
49 ~ 56
57 ~ 63
헬넷 64 ~ 70
헬텔 71 ~ 80

페이즈 2 81 ~ 120
전구 81 ~ 95 (신규적 등장 끝)
자기장 96 ~ 104
전구 + 자기장 혼합 등장
에너지체 등장

페이즈 3 121 ~ 160 (stair)
무전기 + 헬넷의 콤보
중간중간 헬바 + 헬나 + 헬라 + 헬텔이 섞여나옴

페이즈 4 161 ~ 200 (floor2)
무전기 + cctv + 카메라가 매우 높은 빈도로 출현함
+헬넷 + 헬텔까지

페이즈 5 201 ~ 214 (coreinfo)
적 빈도가 감소하며, 전구 + 사이렌이 일정 비율로 등장


3-7 페이즈 구성
0 ~ 40 / floor1
41 ~ 80 / stair
81 ~ 120 / floor2
121 ~ 170 / boss (computerroom)
170 ~ 180 / courseselect
181 ~ 220 / next course move

0 ~ 40
사이렌 + 전구가 매우 많이 나옴
이후 빈도가 감소하며 나머지는 cctv + 카메라 + 무전기

41 ~ 80
헬기 시리즈 총출동
중간중간 무전기가 등장함

81 ~ 120
대규모 사이렌과 카메라, cctv의 총출동
단 107초까지만...
이후에 적이 남아있으면 스크롤 정지가 일어남

120초 구간에서 스크롤이 종료되기 때문에
그 이전페이즈에서 경고가 표시됨

경고 표시 시점 114초
가부단 등장 120초 (보스 스프라이트 생성 없이 바로 적이 생성됨)
다음페이즈 이동 체크 (125초 ~ 170초)
보스 체력은 14000% (70초구간)
블루스크린이 뜨고도 시간이 더 경과한다면 보스의 체력은 자동으로 감소하도록 변경


170 ~ 180
코스 선택 화면 (3-7, 3-11 루트 중 선택, 그러나 정해진 조건에 맞아야만 3-11에 진입 가능)

181 ~ 220
코스 진행 (마지막 구역에 도착하고 시간이 다 되면 클리어)




3-6 페이즈 구성
0 ~ 40 (옵션은 등장하지 않음)
적은 5초 이후부터 등장
신규 적들은
카메라 -> cctv -> 무전기 순으로 출현
이후, 35초까지 이들의 조합으로만 적이 등장함

41 ~ 80
사이렌 첫 등장 41 ~ 64
65 ~ 80 헬넷, 헬텔 등장

81 ~ 120
전구, 자기장, 스타, 번개가 같이 등장하며
중간중간 모래시계, 시계, 에너지체가 혼합하여 등장
114초 이후에는 적이 등장하지 않음

121 ~ 160 (계단구간)
비행기구간

161 ~ 200 (플로어2)
전구 + 사이렌 + cctv + 카메라 + 무전기

201 ~ 220 (플로어2-1)
사이렌만 등장


카키 -> 공격 개체 이동속도 증가, 공격력 증가, 발사개체수 감소



배경
검은색 배경 그대로 가다가 -> stair -> 검은색 어두운 파랑



0 ~ 40 (신규적은 등장하지 않음)

카메라 + cctv가 우선적으로 등장
그 후, 시계가 등장 (아날로그만), 
스타도 일부 등장하고, 펀치도 등장, 타포도 등장

41 ~ 80
레이저 + 헬시리즈 + 자석

81 ~ 120
블루 테마 (hellpa, energyBlue, hellJeon, sirenBlue, moveBlue)

121 ~ 126 보스 경고
127 ~ 178 보스전

180 ~ 220 마지막 구간 (무의미한 도형들... + 그리고 일부 사이렌과 카메라와 무전기)


3-8 ~ 3-9
공통 신규 적
쓰레기류 (총 12종류, 서로 이미지와 체력값만 다르고, 나머지 동일)
(쓰레기 이미지는 헬시리즈 + 함선시리즈에서 몇개 따옴)
쓰레기 크기는 다를수도 있지만, 데미지는 동일합니다.
hpBase 4% ~ 7% / baseValue: 5%

trash1 ~ 4
trashWing1 ~ 4

수집기 (sujipgi) hpBase: 50%
주위를 돌아다니며 쓰레기들을 자동으로 수집함
(일정시간마다 자기 주위의 쓰레기를 1개씩 제거함)

롤러 roller
빠른속도로 이동하는 적, 그외의 별다른 특징은 없음

슬라이드칼날 slidekalnal
대각선으로 빠르게 이동한다.

블럭
다운타워에서 사용했던 어두운 형태의 벽돌색이다.

클리너 (보스, hp 10000%, 보스 시간 30초)
패턴: 쓰레기 소환 (여기 쓰레기들은 전부 


trash1 ~ 4
dieEffect -> ?

noiseSize = 40x40, 80x80
trashType: A, B = 4종류
dieEffect: sound 2종류
enimation = 12프레임, 2종류

청소기(보스), 쓰레기, 쓰레기윙(4날개, 4헬날), 쓰레기로터
벽돌
수집기



baseHp
hpBase 5%/10%/20%/40%/50%/100%

trash / hpBase 5% (별도의 패턴 없음, 크기가 클수록 이동속도가 낮아짐, 공격력 동일)
trashWing / hpBase 8% (회전하면서 밑으로 떨어짐, 데미지는 연타방식, 각도는 개체마다 다름)
trashLotter / hpBase 10%
trashBrick / hpBase 15%

sujipgi / hpBase 20%
roller / hpBase 40%
cutter / hpBase 10%

cleaner / hpBase 11000%


배경: 3-8 / 5개, 3-9 / 5개, 3-10 / 4개



파란 행성 하늘공간 (하늘공간 300km ~ 107km)
푸른 경계면 (하늘공간 107km ~ 93km)
대류권 (하늘공간 93km ~ 17km)
마운티스 (하늘공간 17km ~ 1km)
코어랜드 (지하구간 2km ~ 7km)

동그라미 마을 (하늘공간 250km 근처)
다운타워 (하늘공간 250km ~ 200km)
스카이랜드 (하늘공간 200km 근처)
중간도시 (하늘공간 132km 근처)

// 쓰레기류 적들 (내부적으로 mainType이 towerTrash로 분류됨)
먼지: 패턴? (자유형 이동, 60 ~ 180 프레임마다 속도 변경, 각속도가 무작위로 변경됨)
브로큰윙: 먼지랑 비슷하지만 이동속도가 더 빠름
브로큰로터: 브로큰윙보다 비슷하지만 회전속도가 있음

수집기: 아무 공간이나 돌아다니며, 주위에 쓰레기가 있을경우, 
임의 범위 내의 쓰레기를 지정하여, 해당 쓰레기를 끌어당김
쓰레기는 가운데로 끌어당겨지고, 4초 후 제거됨

롤러
이동속도가 꽤 빠름, 플레이어가 근처에 발견될경우, 

커터
순간적으로 앞으로 이동하는 경우가 있음. 



다운 타워
3-1 ~ 3-3 down_tower
3-4 downtower_void
3-5 round3_5
3-6 ~ 3-7 downtower_core
3-8 ~ 3-9 downtower_passage
3-10 downtower_outside
3-11
3-12
3-13
3-14

1. 쓰레기 (trash1 ~ 4, trashWing1 ~ 4, trashLotter1 ~ 4)
2. 수집기
3. 롤러
4. 커터

1. 쓰레기 (고유적인 패턴은 없이 임의의 방향을 돌아다님, 모든 쓰레기 공통)
단, trashWing은 회전이동이 있으며
trashLotter는 약간만 기울어짐 (-30 ~ +30도 내외, 회전이동 없음),

2. 수집기
먼저, 화면 랜덤한 위치로 이동
이동이 완료된 후 더이상 움직이지 않고 주위 쓰레기가 있는지 감지
주위에 쓰레기가 있다면, 쓰레기가 수집기에 이동하도록 변경
(수집기끼리 겹치게 하지 않기 위해서, 내부적으로 해당 쓰레기의 상태가 변경됨)
상태가 변경된 쓰레기는 수집기에게 다가감

수집기의 상태는 getTrash 상태로 변경되고, 이 상태에서는 쓰레기에 닿으면, 
쓰레기는 체력이 0이됨, 이 상태에서 쓰레기는 자동적으로 죽으므로
유저도 경험치를 얻음 (?!)

쓰레기 수집 상태는 4초 단위로 변경되고, 만약 주위 쓰레기가 없다면, 다른 위치를 계속 지정하여 움직임
멈춰있는 상태가 아닐경우에는 이동,
멈춰있다면 쓰레기 수집


3. 롤러
가속하면서 이동, 가속은 시간이 갈수록 빨라짐
플레이어끼리 충돌할경우 반대방향으로 이동되며 감속함
상태는 총 3개
stop, run, back


4. 커터
밑에서 소환되고 오른쪽으로 정해진 y축 위치까지 올라온 후, 무작위 방향 (25% 플레이어방향)으로 빠르게 날라감

5. 청소기
부품공식 (downleft <- vertical -> rightdown -> horizontal -> main)
vertical, horizontal은 각각 오브젝트 범위가 있음

패턴 1. 진입패턴 (주위 쓰레기 (이들은 적으로 분류되지만, 조합이 좀 다름))
대거 생성하고, 청소기의 흡입기쪽으로 이동시킴 (정방향속도)
참고로 이들은 0점

패턴 2. (패턴 1 시행 후 바로 패턴 2 진행)
청소기 휘두르기 (곡선으로는 휘두를 수 없음, 알고리즘의 한계)

패턴 3. 청소기 돌진 (청소기 호스는 그대로 유지됨(압축된채로?)

이후 패턴 4 ~ 7 반복 (랜덤성 없음, 무조건 순차진행)
패턴 4. 쓰레기 모으기
주위 랜덤하게 쓰레기들을 모음 (이것은 이제 적 총알로 분류되어 전부 피해야함)

패턴 5. 쓰레기 발사
주위 쓰레기들을 유저 방향쪽으로 던짐

패턴 6. 청소기 돌진


패턴 7 (폭주패턴)
폭주패턴에 진입하는 순간, 청소기의 호스가 파괴되며, 가운데 뚜껑이 열리고
쓰레기들이 미친듯이 튀어나옴
(이 오브젝트들은, 적 총알로 분류됨)


objcetType ->
mainType -> towerTrash
subType -> trash1 ~ 2, trashWing, trashLotter


startUp: 임의의 위치로 이동
running: 위치 고정, 주위 쓰레기 중 랜덤한 하나를 지정하여 강제 이동시킴
(이렇게 이동된 쓰레기는 특수한 상태값을 부여하고, 해당 쓰레기는 다른 수집기가 수집하지 못함)
(특정 쓰레기와의 상관없이 수집기랑 쓰레기가 부딪히면 해당 쓰레기는 죽음)
wait: running이 진행되고 2초가 지나면 (쓰레기 이동도 2초 이내로 이동됨)
wait상태가 되고, 120프레임 후, 다시 running함

만약, 단 한개의 쓰레기도 감지되지 않았다면, 다시 startup상태가 되고, 이후 반복
(쓰레기 감지 범위는 해당 수집기의 +-250임)

롤러
accSpeed: 0에서 시작, 가속값이 높을수록 이동속도 증가,
최대 수치 7
플레이어랑 부딪히면 accSpeed는 현재값을 음수로 변경
accSpeed는 0이될때까지 지속적으로 증가(음수에서 0이니까)
accSpeed가 0보다 커야 충돌 발생 가능
충돌후, 3초동안 재충돌되지 않음.



청소기 패턴
청소기는 화면 바깥으로 나갈 수 없음
청소기는 가운데에 등장하고, 일정 시간 후, 배경음악 시작과 함께
(정확하게는 생성되고 다음 패턴을 실행하기까지의 대기시간이 있음)

패턴 1: 주위 흡입기
(흡입기가 있는 방향으로 여러 방향에서 쓰레기총알이 날라옴)
이 총알들은 흡입기에 닿으면 사라짐

패턴 2-1: 호스 공격
호스를 좌우로 왔다갔다 공격 (다만 사거리 제한이 있음)

패턴 2-2: 호스 공격 2
호스를 상하로 왔다갔다 공격 (다만 좌우로는 안움직임)

패턴 3: 청소기 이동
청소기가 앞으로 쭉 이동함 (물론, 다시 오른쪽에서 나옴)



패턴 4: 쓰레기 던지기
흡입기에서 플레이어방향으로 쓰레기를 던짐 (여러개를 동시에)

패턴 5: 호스 공격 3
호스를 아무렇게나 빠른 속도로 막 휘둘러댐, 그러나 사거리에 제한이 있음
이후 이것을 15초 공격 후
더이상의 패턴은 없음

패턴 6: 쓰레기 투척
보스의 hp가 20% 이하가되면, hyper상태가 되고, 호스는 파괴된다음(화면 바깥으로 날라감)
가운데 부분이 쓰레기통으로 변경되고, 무한 쓰레기 총알 생성 (보스 가운데에서)



3-8 ~ 3-9
200/220/200/240/610/220/220/220/220/240
0 ~ 50
51 ~ 100
101 ~ 150
151 ~ 200
201 ~ 220

0 ~ 50
51 ~ 100
101 ~ 150
151 ~ 180
181 ~ 220 (보스전 시간 고려)


타임테이블 (B: 보스전 포함 평균적으로 +30초 더 진행됨)
1: 150B/180/210/150/210/150
2: 150B/170/190/207/200/150
3: 200B/220B/200B/240/610/220/220/220/200/240
4: course1: (30 + 150)

배경 이동방식
0 -> 1 -> 2 -> 3 -> 4 -> 8
까지 점진적으로 증가
2초단위로 속도 상승, 최대 속도 초당 10px

50초를 초과한 지점부터 다음 배경으로 넘어감

배경스크롤구조는
0 ~ 1600
0 ~ 1200 을 빙빙 돌리는 형태로 구성됨
(그 때문에, 매우 빠르게 화면이 전환되는것처럼 보임)

마지막 스크롤 구간에서는
y축을 0으로 맞춘다음, 10초 대기
200초 구간이 된 경우, 배경 스크롤 속도 감소
206초 안에 
7초, 7초 = 14초


신규적: 쓰레기1 ~ 4 ~ W ~ L, 

페이즈 단계
0 ~ 5: 옵션 등장 (옵션 등장 밸런스는 모든 라운드 전체적으로 고정된 패턴이 나올 예정임)
6 ~ 14: 신규 적 등장 (쓰레기 1 ~ 3)
15 ~ 17: 신규 적 등장 (쓰레기 4)
18 ~ 25: 신규 적 등장 (쓰레기윙)
26 ~ 33: 신규 적 등장 (쓰레기로터)
34 ~ 48: 온갖 쓰레기가 등장합니다. (갈수록 빈도가 높아짐)
옵션은 주기적으로 등장

51 ~ 67: 수집기, 롤러 동시에 등장 (얘내만)

0/50/100/150/200/220
0/50/100/150/180/220
참고: 적의 데미지는 전반적으로 낮지만, 이동속도가 매우 빠릅니다.

0 ~ 50: 신규 적인 쓰레기만 등장
51 ~ 70: 수집기
86 ~ 100: 칼날 등장

이 시점 이후부터 지속적으로 쓰레기 등장 (개수는 적음)
101 ~ 125: 헬텔, 무전기, 헬전이 서로 난리침?
126 ~ 136: 대포러쉬
137 ~ 150: 에너지체, 자석, 바, 등등등...

여기서부터는 길을 잃은 적들이 등장
151 ~ 170: 
동그라미 (... 이들은, 타워그룹이 아닌 동그라미그룹에 있음)
헬기, 헬페이크 (...)
모래시계, 시계, 디지털시계, 함선... 온갖게 다나옴 (여기서 길을 해매는듯...)

171 ~ 190:
대포러쉬 + 별러쉬 + 쓰레기러쉬 혼합체

191 ~ 200: 적 없음 

201 ~ 220: 낮은 빈도로 무전기, 카메라, 헬텔, 헬넷이 찾아옴
타임스탑: 216


3-9
0 ~ 20: 쓰레기만 출현 (이번엔 모든 종류가 동시에 출현함)
21 ~ 42:
43 ~ 50

150 ~ 172: 대량 쓰레기 대 출현 (참고: 타임 스탑은 없음)
쓰레기들은 184초 이후 전부 삭제됨
1

3-8 ~ 3-9는 옵션이 1번만 등장합니다. 이것은 추후 3-1 ~ 3-10의 옵션 밸런스를 재정의하고 나서 다시
변경할 예정

?????????????

3-8 페이즈 구성
1. 신규 쓰레기 적만 등장
2. 새로운 신규적과 쓰레기의 조합
3. 길을 잃은 적들...
4. 에너미 러쉬
5. 통신수단이 필요한가요?

3-8-1
// 적 수는 서서히 증가함 (30초이후 최대가 됨)

5/10/15/20/25/30
15/12/10/9/8/7/6


3-9
0/50/100/150/180(보스전)/220(끝)

페이즈0: 떠돌아다니는 코어와 쓰레기들과 수집기와 롤러
페이즈1: 또 자석... 그리고 도형과, 사이렌들이 섞여있다.
페이즈2: 나홀로 무전기, 그리고 나홀로 헬텔, 그리고 전구와 자기장, 번개, 헬날, 바까지...
페이즈3: mix rush
페이즈4: 보스전


옵션 밸런스 수정
dps: 10초 단위 레벨은 유지, 30초단위 dps 급상승하도록 하고 총 4단계 구성

0 ~ 10: 0단계
11 ~ 20: 1단계
21 ~ 30: 2단계
31 ~ 40: 3단계
...
91 ~ 100: 9단계(최대)

dpsValue = [10/0, 15/1, 20/2, 30/3, 35/4, 40/5, 60/6, 70/7, 80/8, 100/9]
dps는 10%부터 시작해서,
0단계 10%
1단계 14%
2단계 18%
3단계 30%
4단계 36%
5단계 42%
6단계 60%
7단계 70%
8단계 80%
9단계 100%
각 3/6/9 단계마다 옵션 등급 상승

초록색: 이제 방사형으로 공격범위가 좀 더 넓어지고, 플레이어 이동 방향에 따라, 공격 범위를 지정할 수 있음
(앞으로 이동하면... 앞으로, 뒤로 이동하면 뒤로... 8방향 동시 처리 가능)
전방 2방향과, 이동형 6방향으로 구성
데미지 배율 1.14 (기존 1.4에서 너프)

주황색: 기존과 동일하지만, 발사 개체 수 및 간격 증가
데미지 배율 1.0

하늘색: 기존과 동일하지만, 발사 개체 수 및 간격 증가
데미지 배율 0.75 (스플래시이기 때문에, 다수의 적을 한번에 죽일 수 있으므로, 데미지배율은 낮음)
(기존 0.7에서 약간 상승... 일부 적들을 데미지 부족으로 잘 잡지 못하는 것 같음)

검은색: 공의 이동속도 대폭 증가하고, 크기가 조금 더 커짐... 그리고 관통이 가능하고 연타식으로 수정
(공격 간격은 4프레임당 1회, 단 적이 타격되지않으면 매프레임마다 판정함)
데미지 배율 1.05(0.21 x 5) (1.1에서 너프)
공격 횟수 5로 변경

핑크색: 이제 관통 가능, 핑크색 개체수 간격은 그대로 유지
데미지 배율 1.0 (기존과 거의 동일)
주황색이랑 비교했을 때, 발사 개체수가 적은 대신 관통이 가능함

보라색: 이제 3방향으로 발사하고, 벽에 부딪히면 적을 더욱 빠르게 추적합니다.
이렇게해서, 후방 또는 사각지대에 있는 적들을 쉽게 죽일 수 있습니다.
데미지 배율 1.0 (약간 너프된것 같음?)

카키색: 개편 (개체 크기 대폭 증가, 관통 기능 추가, 위, 아래, 오른쪽으로 공격 가능(벽에 부딪히면 1회 한정으로 적을 추적함)
데미지 배율 1.0

전반적으로, 모든 무기는 여러 방향에 있는 적들을 쉽게 잡도록 설계되어있습니다.
게임의 난이도 문제와 일부 무기의 낮은 성능 때문에, 옵션의 성능을 증가시켰습니다.

1/2/3/4/5/6/10/12/15/20

6/10/12/15 2-3-4-4

옵션 등장 구조
옵션은 각 페이즈의 시작지점과 1/2지점에서만 등장함
(옵션 등장 위치는 고정적으로 변경됨, 약간의 차이는 있음)


라운드 3-10 (마지막라운드)
테마: 다운 타워 외벽 -> 다운 타워 공허 -> 동그라미 마을 -> 마을 회관까지 이동
마을 회관에 도착하고 B4층으로 내려가면 마지막 보스가 등장하고 라운드 클리어
마지막 보스는 결계이며, 강력한 레이저포를 무작위로 발사함
시간 240초 (다운타워구간) + 60초(동그라미 마을 구간) + 40초 보스전 + 20초 엘리베이터 이동
외벽 240초 + 60초 + 40 + 20 = 360초(6분???)


페이즈 0: 0 ~ 20 (쓰레기 처리)
주위에 쌓여있는 쓰레기들을 전부 처리해야함
(이 쓰레기들은 밑으로만 떨어지며, 밑에 쌓임)
(3-8 ~ 3-9와는 적 id가 다름)
trashR3_10 으로 분류됨
쓰레기를 전부 죽이면 다음 구간으로 이동 (옵션은 없음)

페이즈 1: 21 ~ 60 (다운타워 바깥으로의 여행)
DANGER (위험)
DO NOT ENTER (진입 금지)
이 표지판이 몇번 보임.
나머지 적 헬기류들을 여기서 전부 쓰러트리면 끝
끝부분에는 막대가 반정도 있으며, 여기서 좀 더 가서 나머지 돌아다니는 적들을 몇십초간 쓰러트림
배경음은 이 시점부터 재생
배경속도: 2px / 0px

페이즈 61 ~ 80
배경속도: 4px / 0px
전부 도착하면 다시 적들이 나오고, 이 적들을 전부 쓰러트리면 다음 페이즈

페이즈 3 ~ 페이즈 6
(이제 각 던전테마에 맞게 적들이 나오며 역순으로 진행)

페이즈 7 ~ 페이즈 10
다운타워 내부로 입장하고, 역시 역순으로 진행

페이즈 11
다운타워의 초기진입구간에 도착하며, 역순으로 동그라미마을 진행



우주 여행 -> 동그라미 마을 -> 다운 타워 (여기까지 파트 1)

스카이랜드 (미완성, 현재는 취소되고 증강현실로 남게됨)
원래는 다운타워를 거쳐서 스카이랜드로 가야했으나,
스카이랜드가 미완성되면서 다운타워와 스카이랜드는 이어지지 않음
현재는 동그라미 마을을 거쳐서 스카이랜드로 가야함 (만약 간다면)

예전 버전(옵션배틀을 말함) 에서는 다운타워 를 거쳐서 스카이랜드로 가는것을 계획하였으나
개발하면서 생각이 변경
이제 스카이랜드는 증강현실입니다.

그리고 동그라미 마을의 크기가 축소되었습니다. (공중도시의 한계로 인하여)
하여튼, 옵션배틀과 뭔가 많이 달라짐...

최종 구성 구간
페이즈 0: 3-9 exitArea
페이즈 1: outside_start -> outside1 -> outside2
페이즈 2: outside2 -> outside1 -> outside_start
페이즈 3 ~ 6: level 1 ~ 4
페이즈 7: terras -> round3_4_level4
페이즈 8 ~ 11: round3_4 -> round3_1
페이즈 12: ...


다운타워 맵
3-1 1
3-2 2
3-3 3
3-4 4
3-5 5A
3-6 ~ 3-7 5B
3-8 ~ 3-9 6
3-10 표시 안함

현재 위치
your are here

다시 3-10 구상...
페이즈 0: 0 ~ 20, 쓰레기 제거 (쓰레기들이 밑에 떨어지고, 계속 굴러감)
17초까지 지속적으로 생성됨, 19초 타임스탑
dps 50% ~ 60%
옵션 없음
(이 배경은 레이어입니다.)

페이즈 1: 21 ~ 60
이후, 다운타워 배경으로 전환
그 후 앞으로 가면서 남은 헬시리즈들을 모조리 죽여야함
(여기서는 헬시리즈만 나옴)
배경 이동 속도는 2px = 약 7초에 한번씩 배경이 변경됨
start -> outside1 -> outside2 -> outside3 -> outside4(배경은 없음)
적은 55초까지 등장함
타임스탑 57초
이 시점 이후부터는 헬시리즈는 등장하지 않음 (전멸당했으므로)

페이즈 2: 61 ~ 75
outside4 -> 역순으로 진행 -> start까지
(적 등장 없음), 매우 빠르게 이동함

페이즈 3: 76 ~ 120
다운타워 외벽을 올라가며 테마에 맞는 적들만 등장함
(다만, 통로는 구조상 적 종류가 너무 적어서, 일부 다른적이 섞여나옴)

수집기, 롤러, 커터가 연속적으로 등장
이후, 쓰레기들이 혼합하여 등장
중간중간 버려진 타포, 모래시계가 등장
가끔 자석과 도형이 등장

페이즈 4: 121 ~ 160
통로 PART 2
차이점이라면, 이젠 잊혀진 전구들이 돌아다니고, 사이렌도 종종 보임 (낮은 빈도)
여전히 수집기가 돌아다니지만, 점점 빈도수가 줄어듬
여전히 롤러가 돌아다니지만, 점점 빈도수가 줄어듬
서서히 적 비중이 변화하는 구간
커터 비중은 급격히 감소

페이즈 5: 161 ~ 200
코어
여기서는, 카메라, 무전기, cctv가 주로 등장
중간중간, 사이렌과 전구가 등장

페이즈 6: 201 ~ 210
테라스

페이즈 7: 211 ~ 240
다운타워 보이드
(에너지체, 시계만 등장)
여기 이후부터는 다시 레이어배경으로 전환 (실제로는 같은곳을 빙빙돌고 있음)

페이즈 8: 241 ~ 270
다운타워 3
함선, 코어들이 등장

페이즈 9: 271 ~ 300
바 시리즈

페이즈 10: 301 ~ 330
무브먼트 + X, I 시리즈
페이즈의 시간이 다 되면 더이상 배경이 스크롤되지 않음
(0px까지 y좌표가 변경된 다음 멈춤)
타임스탑 329

페이즈 11: 331 ~ 360
동그라미 마을로...
엄청난 속도로 마을 회관까지 이동

페이즈 12: 361 ~ 380
엘리베이터를 타고, B4층으로 이동...

페이즈 13: 381 ~ 420
마지막 페이즈
B4층에서 하얀색 벽이 있음 (이것은 rect로 표현됨, 이미지가 아님)
이 벽을 부수면 잠시 후 라운드 클리어


적 리스트 (핵심), 5종류가 되게끔, 일부 요소들을 추가
통로: 수집기, 롤러, 칼날, 도형A, 도형B
코어그룹2: 전구, 사이렌
코어: 카메라, 무전기, cctv
보이드: 에너지, 시계
타워3: 함선, 코어
타워2: 바, 번개, 자기장
타워1: X, I, 무브

자석은 200초구간까지 등장 
맵: level1 -> level2 -> level3 (120초)
0 ~ 20: 쓰레기 처리
21 ~ 60: 남은 헬시리즈 처리
61 ~ 70: 헬시리즈 뒷치기
71 ~ 120: 수집기, 롤러, 칼날, 도형A, B
121 ~ 150: 전구 사이렌
161 ~ 180: 카메라, 무전기, cctv
181 ~ 210: 여기서, 테라스에 도착하고, 테라스에 있는 적을 전부 죽이면 안으로 이동함

211 ~ 240: 에너지체, 시계
241 ~ 270
271 ~ 300

0 ~ 4
5 ~ 11
12 ~ 22
22 ~ 26
27 ~ 30
에너지 40% -> 100% -> 240% -> 100% -> 40%
시계 50% -> 100% -> 0% -> 50% -> 100%


마지막 페이즈
188초 테라스 도착
(테라스까지 8초정도) - 페이즈 변환 이후
페이즈: 6
180 ~ 210


마지막 보스
GAMOK BANGPAE (감옥 방패)

마지막 페이즈
B5 -> 일정시간 이동 후, 경고 표시 (감옥 방패)
패턴: 일정시간이 지날때마다 선이 늘어남
딜딸리면 죽음... 그러나, 그럴 일은 거의 없음
딜 구간 30초 필요 (총 체력 7000%)
무작위 레이저 발사 (1초에 1개씩)
10초가 지나가면 2배
20초가 지나가면 4배
30초가 지나가면 8배 (보통 이 시점에서 쓰러트릴 수 있음)

감옥 이미지는 배경으로 처리됨 
그다음에, 감옥 안에는, 무언가 사람? 같은것이 있음.
감옥을 부셔서 그를 구출하면 최종적으로 라운드 클리어
손가락은 구현이 어려움 (내 입장에서 어떻게 그려야할지 모름)


감옥안에 갇혀있는 대상: 화이트 마스터 동그라미
화이트 마스터 라미 -> 라미 (라미 -> 동그라미에서 따옴)
화이트 마스터: 직위
라미: 이름
동그라미 마을을 관리하는 개체 (성별 없음)
라미 일러스트? -> 
얼굴: 무언가 허전한 표정, 웃는 표정, 깜찍 표정, 우는 표정 (몇개 더 있을듯...)
옷: 하늘색 원피스가 전부 (상의/하의 통합)
신발: 약간 굽이 있음

감옥은 적 이미지가 따로 없음.
감옥은 보스로 분류됨
3-10라운드랑 연관이 있어 towerEnemyGroup5에 분류됨
gamokBangpae (적 이름 / 감옥방패)

보스는 배경을 스프라이트처럼 처리 (배경을 보스이미지처럼 사용함)

감옥은 아무 이미지 없음 (대신 배경을 스프라이트처럼 사용)
정확하게는 페이즈 13이 되면, 배경에 감옥이 있고
감옥에 누군가 갇혀있는 스프라이트도 출력

보스가 파괴되고 2초 후, 효과음 출력과 함께
해당 스프라이트가 땅으로 내려오고
라운드 클리어

setInit -> 기본초기화 함수 eyeTimeFrame = 0
0 = close
땅에 떨어진 후, 이 변수를 변경하도록 유도
runningEyeTimeFrame()


라운드 3-10이 마지막 라운드
(3-14까지 만들기에는 너무 시간이 오래 걸리고, 취업준비가 필요한 시점이라 더 시간을 끌 수는 없음)


마무리 작업
1. 튜토리얼 (레벨 1인 경우에만 게임 메인 화면에 튜토리얼 안내가 표시됨)
2. 무기 밸런스 변경 (일부만), 신규 무기 추가 약 12 ~ 16종류(라운드 2, 3랑 관련이 있음)
3. 신규 스킬 추가
4. 아이템 시스템 추가
5. 스토리 개념 추가 (최대한 빠르게 만들기 위해 대부분의 이펙트 및 일러스트는 생략됨)
6. 각 라운드 구간이 자연스럽게 연결되기 위한 몇가지 장치 필요
1-4 라운드에서 마지막 페이즈가 끝날때쯤, 배경이 변화해야함
2-1 라운드에서 중간에 구름이 사라져야함
7. 라운드 1-4와 관련된 새로운 구간
(보스가 죽은경우, 다른 시나리오가 펼쳐짐, 시간은 동일하게 진행됨)
8. 초반 배경음악에서 노이즈부분의 로우패스필터 강화 (취소됨)
(노이즈가 들어가는 music01, music04, music08 부분에만 해당)

라운드 1-4 시크릿 루트
필요 전투력 9600000/60 = 160000의 전투력 필요
그러나, 3-10을 완료한 시점에서는, 평균 전투력이 80000단위가 되며
4라운드 중반까지 접근해야 160000에 근사됨

전투력 상승 구조는 선형식이며, 매우 느리게 올라갈것임
그러나, 이렇게하면, 내 강화의도와는 다르게 사람들이 강화시스템을 이용하지 않을것이므로
4라운드 부터는 전투력 입장컷에 따른 패널티가 있을 수 있음. (구체적인 사항 미정)


전투력 밸런스 구조
1-1 ~ 1-6: 40000
2-1 ~ 2-3: 50000
2-4 ~ 2-6: 60000
3-1 ~ 3-5: 70000
3-6 ~ 3-10: 77000
4-1: 80000
4-11 ~ 4-16: 90000 ~ 120000 사이?

서브웨폰은 제거 예정
다시 기본 공격력에 4멀티플이 되도록 조정
강화컨텐츠는 레벨 20시점에서 오픈

강화 방식
라운드 3 ~ 4초반: 장비 강화 (방어구, 무기 개념은 없음, 모두 장비로 통합)
라운드 4초반 ~ 4후반: 인첸트 슬롯 강화 (보석파편을 모아 보석장치를 만들어 랜덤강화 / 보정치, 천장 있음)
라운드 5: 슬롯 레벨 업그레이드 (원리는 비슷하지만, 라운드 4 ~ 5에서 파밍 가능)
라운드 6: 없음
라운드 7: 슬롯 레벨 업그레이드 / 레벨 확장 / 제작 변수 추가
라운드 8: 라운드 7의 확장이나 의미는 없음
라운드 9: 없음


추가해야하는것
1. 1-4 시크릿 루트
2. 아이템 처리 로직 (골드, 아이템 드랍) -> 2-4 상점 -> 강화시스템
3. 2-3 방식 전환
4. 데이터베이스 세이브 시스템
5. 게임 패드 연동 (다만, 이건 불가능할 수도 있음. 게임 패드를 가지고 있지 않음)

1. 1-4 시크릿 루트
20 ~ 80초사이에 보스를 죽인 경우, 게임은 그대로 진행됨.
배경음악도 그대로 재생.
변화가 없는것처럼 보임.

시간이 지난 후...
81 ~ 90초 사이에 배경 전환
90 ~ 100초 까지 동일하게 진행
그러나...

101초 이후 제물스타는 발동되지 않으며
알 수없는 노이즈와, 화면에 흐릿한 안개가 보이기 시작...
110초 이후 다른 페이즈로 이동됨

이 아공간에서... 고요한 음악만 나오는 채로 아무 일도 벌어지지 않음...
그리고 시간이 143에서 멈춤...
영원히...
당신은 갇혔습니다...

그 다음, 새로운 스토리를 볼 수 있음.
(참고: 이 스토리부터는 어나더 스토리로 분류되며, 기존 스토리랑 다르게 전개될 수 있음)
(그러나, 기존 스토리가 정석이고, 어나더 스토리는 정석이 아닙니다.)

music08_round1_4_jemul
music26_round1_4_jemulArea

아공간 패턴 (내부적으로 페이즈 4F로 분류됨)
참고: 게임 내부적으로는 클리어 타임을 변경시키는것은 규칙 위반입니다.
따라서, 게임 진행 시간은 특정 값에서 멈춥니다.
다만, 계속 진행하다보면 결과적으로 클리어 가능합니다.

110 ~ 150 (진행 결과는 내부 카운터의 의해 추가로 표시됨)

T+ 6/120
R1-4 T150/156 + 132

아공간 배경 (검정색 배경 + 매우 흐릿한 빨간색 배경)
아공간 적들 (모두 검은색 형태의 링이 전부임)
(그러나, 내부적으로 검은색 형태의 링은 3종류가 있음)
(링들은 떠돌아다니기만 하고 아무런 반응이 없지만)
(링에게 닿으면 데미지를 받음)
(링은 검정색 테투리에, 약간 하얀색으로 빛남)
이 링은 영혼체 (제물에 바쳐진...)
6F


1-4 어나더 루트
페이즈 2까지 동일하게 진행 (스킵 없음)
페이즈 3에서 변화가 시작됨
페이즈 3까지는 시간 변화가 동일하게 진행
(중간에 적을 전부 쓰러트려야 함 - 어나더 루트 한정)

어나더 루트 순서
페이즈 2: 오류가 발생하고, 노이즈현상이 발생
페이즈 3: 지속적으로 노이즈가 발생하며 효과음만 들리다가, 갑자기 검정색 화면안에 갇힘
(배경음악은 페이즈 3시작하고 21초후 부터 재생됨)
페이즈 4: 블랙스페이스링 출현
(블랙스페이스링은, 시간에 따라 나타나며, 요구되는 dps는 개체당 100%)
기준 체력값은 조만간 정할 예정
+0 ~ +105초까지 블랙스페이스링이 나오고
+106부터는 나오지 않음
+119부터는 적이 남아있으면, 해당 값이 증가하지 않음
+121부터 다시 원래구역으로 돌아옴
+131부터 시간 정상 진행
-> 라운드 클리어


(낙서장의 내용은 여기까지)