# tamshooter4
2022/03/01 start
2022/05/05 ver 0.1
2022/06/24 ver 0.15

지금까지 만들었었던 tamshooter시리즈의 4번째 작품을 만들고 있습니다.
과거 만들었었던 optionbattle의 리메이크작입니다.

이 작품까지는 가능하면, javascript만 사용하여 만들 생각이고, 어느 정도 까지 완성한 뒤에 다른 웹 기술도 하나씩 적용해 볼 예정입니다.


### last update
2022/06/24 ver 0.15
무려 1주일이 지났네요. 적을 만드는데 상당히 오랜 시간이 걸렸습니다.
특히, 회전 기능같은걸 생각하는데 너무 많은 시간을 사용해버렸네요.

추가된 내용
몇개의 적들이 추가되었습니다. 현재는 운석만 나옵니다. 다음엔 던전을 추가 할 계획입니다.

수정된 내용
1-1. playerWeaponData, playerSkillData는 static 클래스 방식에서 constuctor 방식으로 변경했습니다. 따라서 getPlayerWeaponData, getPlayerSkillData는 클래스를 리턴하지 않고, 이미 만들어진 객체를 리턴하게 됩니다.
1-2. 이렇게 바꾼 이유는, static 클래스에서 vscode 프로그램를 이용해 변수명을 변경했을 때 상속받은 클래스의 변수명이 변경되지 않았기 때문입니다. 이렇게 될 경우, 함수의 이름이나 변수명을 수정했을 때 이전클래스와 이후 클래스에 호환성 문제가 발생하므로, 다시 생성자 방식으로 변수를 사용하기로 했습니다. (인스턴스 생성하기 귀찮아서 static 사용했는데, 오히려 이것때문에 이후에 문제가 발생할 가능성이 높음.) 결국 다시 롤백...
2-1. 파라포 무기 반복횟수(충격파 포함)가 2 -> 1로 변경되었습니다. 왜냐하면, 데미지 계산식이 너무 복잡해지고 그에 따른 처리 프로세스도 늘어나기 때문. 대신 발사 간격이 줄어들었습니다.
3-1. 적이 죽은 상태에서 무기의 공격 처리를 막기 위해 무기가 공격하는 알고리즘 함수들을 몇개 분리하고, 리펙토링 하였습니다.
3-2. 죽은 적은 더이상 무기가 추적하지 않습니다.
3-3. 죽은 적은 더이상 남은 체력바를 보여주지 않습니다.
3-4. 데이터 내부에 들어가는 적의 ID는 필요할 때만 사용할 예정입니다. 사실 작성하기 귀찮다. 꼭 필요한 것도 아니고...
4-1. 생각해보니, 회전 및 뒤집기 요소가 필요할 것 같아서, 이를 지원하는 기능을 추가했습니다. 그런데 이걸 추가하다보니 고려해야 할 요소가 너무 많아져서, data에서 사용하는 기본 객체들의 출력 알고리즘을 일부 변경하였습니다.
5-1. 이제 대부분의 필드데이터는 이동 속도가 방향과 속도값으로 정의되고 대신 speedX, speedY는 잘 사용하지 않습니다. moveSpeed와 speed의 차이점은, 방향값이 있냐 없냐의 차이고, speed는 좌표 기준으로 속도값을 정의합니다. (+는 방향값 무시하고 오른쪽, 아래쪽으로 이동), moveSpeed는 moveDirection의 값에 따라 이동 방향이 달라집니다. 만약 방향값이 없다면, speed값을 그대로 사용합니다.
5-2. 이렇게 한 이유는, 속도값은 정의할 때 양수로 표현하는것이 바람직하기 때문입니다. 음수로 지정하면 데이터를 만들 때 혼동이 올 수 있습니다.
5-3. 하지만 속도값을 이동방향이 들어간 속도값으로 바꾸는 과정에서 엄청난 시행착오가 발생되었으나, 단순히 대소문자 오타로 확인됨.(...)
6-1. 레이저블루의 이동위치에 대해 보정값이 추가됩니다. 이상하게 적을 못때리더라...